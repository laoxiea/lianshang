
 try{
 /*!  2017-06-08 */

function loadAvatar(d,p,a,s,f,type,w,h,kg){function rDom(){var a=[];return a.push('<div id="allBox"><div id="picBox"><div id="picViewOuter">图片载入中……</div>'),a.push('<div id="sliderOuter"><div id="slider"><span id="sliderBlock">100%</span></div></div></div></div>'),a.join("")}function dragsChange(e,k,t){var e=window.event||e;e.cancelBubble=!0,$.browser.msie&&t.setCapture();var _piccutX=e.clientX,_piccutY=e.clientY;_pP=getID("pP"),_pO=getID("pO");var evalStr="var _pX="+_pP.offsetWidth+"+"+_ds[k][0]+"*_posX-2;var _pY="+_pP.offsetHeight+"+"+_ds[k][1]+"*_posY-2;var _pW="+_pO.offsetWidth+"+"+_ds[k][2]+"*_posX;var _pH="+_pO.offsetHeight+"+"+_ds[k][3]+"*_posY;var _oldW=_pX+_pW;var _oldH=_pY+_pH;";0!=_ds[k][0]&&(evalStr+="_pP.style.width=_pW<=_cutMinW?_oldW-_cutMinW:_pX+'px';"),0!=_ds[k][1]&&(evalStr+="_pP.style.height=_pW<=_cutMinH?_oldH-_cutMinH:_pY+'px';"),document.onmousemove=function(e){var e=window.event||e,_posX=e.clientX-_piccutX,_posY=e.clientY-_piccutY;try{eval(evalStr)}catch(err){}try{eval(chkSize("X","W","L","width","left",0,2,kg.width))}catch(err){}try{eval(chkSize("Y","H","T","height","top",1,3,kg.height))}catch(err){}f(getCut()),document.onmouseup=function(){$.browser.msie&&t.releaseCapture(),document.onmousemove=null}}}function _picLoad(){_imgO=getID("sourceimg"),null!=_imgO&&(_img=new Image,_img.src=_imgO.src,_img.onload=function(){$("#sliderBlock").css("left","50px").text("100%"),_nowW=_imgW=w||this.width,_nowH=_imgH=h||this.height,_nowL=(kg.width-_nowW)/2,_nowT=(kg.height-_nowH)/2,_imgO.style.left=_nowL+"px",_imgO.style.top=_nowT+"px",_pP=getID("pP"),_pO=getID("pO"),_pO.style.width=s.width+"px",_pO.style.height=s.height+"px",(_pO.offsetWidth>200||_pO.offsetHeight>200)&&(_pO.style.width=getID("pC").style.width=s.width+"px",_pO.style.height=getID("pC").style.height=s.height+"px"),_nowW<=_pO.offsetWidth&&(_pP.style.width=_nowL-1+"px",_pO.style.width=getID("pC").style.width=_nowW+"px"),_nowH<=_pO.offsetHeight&&(_pP.style.height=_nowT-1+"px",_pO.style.height=getID("pC").style.height=_nowH+"px"),_nowW<_cutMinW||_nowH<_cutMinH?(_imgMinW=_nowW,_imgMinH=_nowH):_cutMinW/_cutMinH>_nowW/_nowH?(_imgMinW=_cutMinW,_imgMinH=_nowH*_cutMinW/_nowW):(_imgMinW=_nowW*_cutMinH/_nowH,_imgMinH=_cutMinH),f(getCut())})}function chkSize(a,b,c,d,e,f,g,h){return"if(_now"+b+"<=_cutMin"+b+"){_pP.style."+d+"=_now"+c+"-1+'px';_pO.style."+d+"=_now"+b+"+'px';}else if(_now"+b+">="+h+"){var _nN=((_p"+a+"+_p"+b+"/2)/"+h/2+")*_now"+c+";if(_nN>=0){_nN=0;}if(_nN<="+h+"-_now"+b+"){_nN="+h+"-_now"+b+";}_imgO.style."+e+"=_nN+'px';if(_p"+a+"<=4){_pP.style."+d+"='4px';}if(_p"+a+"+_p"+b+"+2+4>="+h+"){if(_ds[k]["+f+"]==0){_pO.style."+d+"="+h+"-_p"+a+"-8+'px';}if(_ds[k]["+g+"]==0){_pP.style."+d+"="+h+"-_p"+b+"-4+'px';}}}else{if(_p"+a+"<=_now"+c+"){_pP.style."+d+"=_now"+c+"-1+'px';if(_ds[k]["+f+"]!=0 && _ds[k]["+g+"]!=0){var _old"+b+"=_p"+a+"+_p"+b+";_pO.style."+d+"=_old"+b+"-_now"+c+"+1+'px';}}if(_p"+a+"+2+_p"+b+">=_now"+b+"+_now"+c+"){if(_ds[k]["+f+"]==0){if(__M!=1){_pO.style."+d+"=_now"+c+"+_now"+b+"-_p"+a+"-3+'px';}else{_pP.style."+d+"=_now"+c+"+_now"+b+"-_p"+b+"+1+'px';}}if(_ds[k]["+g+"]==0){_pP.style."+d+"=_now"+c+"+_now"+b+"-_p"+b+"+1+'px';}}};f(getCut());"}var _pP,getID=function(a){return document.getElementById(a)};$("#allBox").is("div")||$(d).append(rDom()),s=s||{width:120,height:120},f=f||function(){},kg=kg||{width:400,height:400};var _cutMinW=20,_cutMinH=20,_imgPath=p||"",action=a||"",_cutMinW=_cutMinW||48,_cutMinH=_cutMinH||48,getCut=function(){var a={imgw:Math.ceil(_imgW),imgh:Math.ceil(_imgH),noww:Math.ceil(_nowW),nowh:Math.ceil(_nowH),px:Math.ceil(_pP.offsetWidth+1-_imgO.offsetLeft),py:Math.ceil(_pP.offsetHeight+1-_imgO.offsetTop),pw:Math.ceil(_pO.offsetWidth-2),ph:Math.ceil(_pO.offsetHeight-2),picurl:_imgPath,type:type};return a};getID("allBox").onselectstart=function(){return!1};var _imgO,_imgW,_imgH,_nowW,_nowH,_nowL,_nowT,_imgMinW,_imgMinH,_pP=null,_pO=null,__M=0;getID("picViewOuter").innerHTML='<table id="picMask" border="0" cellspacing="0" cellpadding="0"><tr><td id="pP">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td id="pO"><div id="pC"></div></td><td>&nbsp;</td></tr><tr><td height="'+kg.height+'">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></table><img src="'+_imgPath+"?"+(new Date).getTime()+'" border="0" id="sourceimg" />',_picLoad(),$("#pP").css({width:(kg.width-s.width)/2,height:(kg.height-s.height)/2});var _dragStr1="",_dragStr2="",_ds={tl:[1,1,-1,-1],tm:[0,1,0,-1],tr:[0,1,1,-1],ml:[1,0,-1,0],mr:[0,0,1,0],bl:[1,0,-1,1],bm:[0,0,0,1],br:[0,0,1,1]};return getID("pC").innerHTML=_dragStr1+'<div id="pI"></div>',eval(_dragStr2),_ds.tO=[1,1,0,0],getID("pO").onmousedown=function(a){$.browser.msie&&this.setCapture(),dragsChange(a,"tO",this)},getID("sliderBlock").onmousedown=function(a){var a=window.event||a,b=this,c=a.clientX-b.offsetLeft,d=this;$.browser.msie&&d.setCapture(),document.onmousemove=function(a){var a=window.event||a,e=a.clientX-c;e=e<0?0:e,e=e>100?100:e,_nowW=_imgW*(e/50),_nowH=_imgH*(e/50),b.style.left=e+"px",b.innerHTML=2*e+"%",_imgMinW=s.width,_imgMinH=s.height,(_nowW<=_imgMinW||_nowH<=_imgMinH)&&(_nowW=_imgMinW,_nowH=_imgMinH),_nowL=(kg.width-_nowW)/2,_nowT=(kg.height-_nowH)/2,_imgO.style.width=_nowW+"px",_imgO.style.height=_nowH+"px",_imgO.style.left=_nowL+"px",_imgO.style.top=_nowT+"px",_pP=getID("pP"),_pO=getID("pO"),_nowW<=_pO.offsetWidth&&(_pP.style.width=_nowL-1+"px",_pO.style.width=getID("pC").style.width=_nowW+"px"),_nowH<=_pO.offsetHeight&&(_pP.style.height=_nowT-1+"px",_pO.style.height=getID("pC").style.height=_nowH+"px"),_nowH>_pO.offsetHeight&&(_pO.offsetHeight<s.height?(getID("pC").style.height=_nowH+"px",getID("pC").style.width=_nowW+"px"):(getID("pC").style.height=s.height+"px",getID("pC").style.width=s.width+"px"));_pP.offsetWidth-2,_pP.offsetHeight-2,_pO.offsetWidth,_pO.offsetHeight;__M=1,__M=0,f(getCut()),document.onmouseup=function(){$.browser.msie&&d.releaseCapture(),document.onmousemove=null}}},getCut}var BJ_REPORT=function(a){if(a.BJ_REPORT)return a.BJ_REPORT;var b=[],c={},d={id:0,uin:0,url:"",combo:1,ext:null,level:4,ignore:[],random:1,delay:1e3,submit:null,repeat:1},e=function(a,b){return Object.prototype.toString.call(a)==="[object "+(b||"Object")+"]"},f=function(a){var b=typeof a;return"object"===b&&!!a},g=function(a){return null===a||!e(a,"Number")&&!a},h=a.onerror;a.onerror=function(b,c,d,f,g){var i=b;g&&g.stack&&(i=j(g)),e(i,"Event")&&(i+=i.type?"--"+i.type+"--"+(i.target?i.target.tagName+"::"+i.target.src:""):""),r.push({msg:i,target:c,rowNum:d,colNum:f}),q(),h&&h.apply(a,arguments)};var i=function(a){try{if(a.stack){var b=a.stack.match("https?://[^\n]+");b=b?b[0]:"";var c=b.match(":(\\d+):(\\d+)");c||(c=[0,0,0]);var d=j(a);return{msg:d,rowNum:c[1],colNum:c[2],target:b.replace(c[0],"")}}return a.name&&a.message&&a.description?{msg:JSON.stringify(a)}:a}catch(e){return a}},j=function(a){var b=a.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),c=a.toString();return b.indexOf(c)<0&&(b=c+"@"+b),b},k=function(a,b){var c=[],e=[],h=[];if(f(a)){a.level=a.level||d.level;for(var i in a){var j=a[i];if(!g(j)){if(f(j))try{j=JSON.stringify(j)}catch(k){j="[BJ_REPORT detect value stringify error] "+k.toString()}h.push(i+":"+j),c.push(i+"="+encodeURIComponent(j)),e.push(i+"["+b+"]="+encodeURIComponent(j))}}}return[e.join("&"),h.join(","),c.join("&")]},l=[],m=function(a){if(d.submit)d.submit(a);else{var b=new Image;l.push(b),b.src=a}},n=function(a){if(!f(a))return!0;var b=a.msg,e=c[b]=(parseInt(c[b],10)||0)+1;return e>d.repeat},o=[],p=0,q=function(a){if(d.report){for(;b.length;){var c=!1,f=b.shift();if(!n(f)){var g=k(f,o.length);if(e(d.ignore,"Array"))for(var h=0,i=d.ignore.length;h<i;h++){var j=d.ignore[h];if(e(j,"RegExp")&&j.test(g[1])||e(j,"Function")&&j(f,g[1])){c=!0;break}}c||(d.combo?o.push(g[0]):m(d.report+g[2]+"&_t="+ +new Date),d.onReport&&d.onReport(d.id,f))}}var l=o.length;if(l){var q=function(){clearTimeout(p),m(d.report+o.join("&")+"&count="+o.length+"&_t="+ +new Date),p=0,o=[]};a?q():p||(p=setTimeout(q,d.delay))}}},r=a.BJ_REPORT={push:function(a){if(Math.random()>=d.random)return r;var c=f(a)?i(a):{msg:a};return d.ext&&!c.ext&&(c.ext=d.ext),b.push(c),q(),r},report:function(a){return a&&r.push(a),q(!0),r},info:function(a){return a?(f(a)?a.level=2:a={msg:a,level:2},r.push(a),r):r},debug:function(a){return a?(f(a)?a.level=1:a={msg:a,level:1},r.push(a),r):r},init:function(a){if(f(a))for(var c in a)d[c]=a[c];var e=parseInt(d.id,10);return e&&(/qq\.com$/gi.test(location.hostname)&&(d.url||(d.url="//badjs2.qq.com/badjs"),d.uin||(d.uin=parseInt((document.cookie.match(/\buin=\D+(\d+)/)||[])[1],10))),d.report=(d.url||"/badjs")+"?id="+e+"&uin="+d.uin+"&from="+encodeURIComponent(location.href)+"&"),b.length&&q(),r},__onerror__:a.onerror};return"undefined"!=typeof console&&console.error&&setTimeout(function(){var a=((location.hash||"").match(/([#&])BJ_ERROR=([^&$]+)/)||[])[2];a&&console.error("BJ_ERROR",decodeURIComponent(a).replace(/(:\d+:\d+)\s*/g,"$1\n"))},0),r}(window);"undefined"!=typeof module&&(module.exports=BJ_REPORT),function(a){if(!a.BJ_REPORT)return void console.error("please load bg-report first");var b=function(b){a.BJ_REPORT.report(b)},c={};a.BJ_REPORT.tryJs=function(a){return a&&(b=a),c};var d,e=function(a,b){for(var c in b)a[c]=b[c]},f=function(a){return"function"==typeof a},g=function(c,e){return function(){try{return c.apply(this,e||arguments)}catch(f){if(b(f),f.stack&&console&&console.error&&console.error("[BJ-REPORT]",f.stack),!d){var g=a.onerror;a.onerror=function(){},d=setTimeout(function(){a.onerror=g,d=null},50)}throw f}}},h=function(a){return function(){for(var b,c=[],d=0,e=arguments.length;d<e;d++)b=arguments[d],f(b)&&(b=g(b)),c.push(b);return a.apply(this,c)}},i=function(a){return function(b,c){if("string"==typeof b)try{b=new Function(b)}catch(d){throw d}var e=[].slice.call(arguments,2);return b=g(b,e.length&&e),a(b,c)}},j=function(a,b){return function(){for(var c,d,e=[],h=0,i=arguments.length;h<i;h++)c=arguments[h],f(c)&&(d=g(c))&&(c.tryWrap=d)&&(c=d),e.push(c);return a.apply(b||this,e)}},k=function(a){var b,c;for(b in a)c=a[b],f(c)&&(a[b]=g(c));return a};c.spyJquery=function(){var b=a.$;if(!b||!b.event)return c;var d,e;b.zepto?(d=b.fn.on,e=b.fn.off,b.fn.on=j(d),b.fn.off=function(){for(var a,b=[],c=0,d=arguments.length;c<d;c++)a=arguments[c],f(a)&&a.tryWrap&&(a=a.tryWrap),b.push(a);return e.apply(this,b)}):window.jQuery&&(d=b.event.add,e=b.event.remove,b.event.add=j(d),b.event.remove=function(){for(var a,b=[],c=0,d=arguments.length;c<d;c++)a=arguments[c],f(a)&&a.tryWrap&&(a=a.tryWrap),b.push(a);return e.apply(this,b)});var g=b.ajax;return g&&(b.ajax=function(a,c){return c||(c=a,a=void 0),k(c),a?g.call(b,a,c):g.call(b,c)}),c},c.spyModules=function(){var b=a.require,d=a.define;return d&&d.amd&&b&&(a.require=h(b),e(a.require,b),a.define=h(d),e(a.define,d)),a.seajs&&d&&(a.define=function(){for(var a,b=[],c=0,e=arguments.length;c<e;c++)a=arguments[c],f(a)&&(a=g(a),a.toString=function(a){return function(){return a.toString()}}(arguments[c])),b.push(a);return d.apply(this,b)},a.seajs.use=h(a.seajs.use),e(a.define,d)),c},c.spySystem=function(){return a.setTimeout=i(a.setTimeout),a.setInterval=i(a.setInterval),c},c.spyCustom=function(a){return f(a)?g(a):k(a)},c.spyAll=function(){return c.spyJquery().spyModules().spySystem(),c}}(window),function(){BJ_REPORT.init({id:__reportId__,uin:1,combo:0,delay:1e3,url:__reportUrl__,random:1,repeat:3}),BJ_REPORT.tryJs().spyAll()}(),function(){function a(){}function b(){}function c(a){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,a())}function d(a){var b,c=[];for(var d in a)b=a[d],e(b)||c.push('"'+d+'":'+f(b));return"{"+c.join(",")+"}"}function e(a){return void 0===a||"[object Function]"==Object.prototype.toString.call(a)}function f(a){switch(Object.prototype.toString.call(a).replace("[object ","").replace("]","")){case"Number":return isFinite(a)?String(a):"null";case"Boolean":case"Null":return String(a);case"Array":for(var b="",c=0,e=a.length;c<e;c++)b+=d(a);return b;case"Object":return a?d(a):"null";default:return'"'+String(a)+'"'}}a.prototype.debug=!1,a.prototype.alert=!1,a.prototype.center=null,a.prototype.utils=new b,a.prototype.console=function(a,b,c){var d=this.utils,e=Array.prototype.slice.call(arguments,1,arguments.length);this.alert&&(d.isString(a)?alert(d.format2(a,e)):alert(d.stringify(a))),this.debug&&window.console&&(d.isString(a)?console.log(d.format2(a,e)):console.log(a))},a.prototype.bootstrap=function(a){this.center.init(a)},a.prototype.getPage=function(){return this.center.getPage()},a.prototype.setPageId=function(a){var b=this.getPage();b&&b.setPageId(a)},a.prototype.setTemplateModel=function(a){var b=this.getPage();b?b.setTemplateModel(a):this.templateModel=a},a.prototype.business=function(a){this.isFunction(a)&&a(this.getPage(),this.Behavior,this)},a.prototype.log=function(a,b,c){var d=this.getPage(),e=d.getPageRecord(a,b,c);return d.log(e)},a.prototype.logRecord=function(a){var b=this.getPage();return b.log(a)},a.prototype.task=function(a,b,c){var d=this.getPage();return d.task(a,b,c)},b.prototype.isType=function(a,b){return Object.prototype.toString.call(a)=="[object "+b+"]"},b.prototype.isArray=function(a){return this.isType(a,"Array")},b.prototype.isFunction=function(a){return this.isType(a,"Function")},b.prototype.isDate=function(a){return this.isType(a,"Date")},b.prototype.isString=function(a){return this.isType(a,"String")},b.prototype.format=function(a,b,c,d){if(!this.isString(a))return a;var e=Array.prototype.slice.call(arguments,1);return a=a.replace(/\{\d+\}/g,function(a){var b=e[a.slice(1,a.length-1)];return null==b?a:b})},b.prototype.format2=function(a,b){return a&&(b=b||[],a=a.replace(/\{\d+\}/g,function(a){var c=b[a.slice(1,a.length-1)];return null==c?a:c})),a},b.prototype.ifn=function(a,b){if(null===a||void 0===a)return b;if("string"==typeof a){var c=""===a||""===a.replace(/\s/g,"");return c?b:a}return a},b.prototype.using=function(a,b,d){var e=document.createElement("script");e.type="text/javascript",e.name=name,e.async=this.sync,e.src=a,e.onerror=d,e.readyState?e.onreadystatechange=c(b):e.onload=b,document.body.appendChild(e)},b.prototype.call=function(a,b,c,d){if(this.isFunction(b)&&a){var e=Array.prototype.splice.call(arguments,2,arguments.length),f=b.apply(a,e);return e=a=b=c=d=null,f}},b.prototype.extend=function(a,b){var c=a.prototype;return a.prototype=new b,a.prototype.constructor=a,a.prototype.__base=a.prototype,this.assign(a.prototype,c),a},b.prototype.stringify=function(a){return window.JSON?window.JSON.stringify(a):d(a)},b.prototype.addEventListener=function(a,b,c){if(null!=a&&null!=b&&this.isFunction(c))if(a.attachEvent)a.attachEvent("on"+b,c);else if(a.addEventListener)a.addEventListener(b,c);else{var d=a["on"+b],e=this;a["on"+b]=function(){e.call(a,c,window.event),e.call(a,d,window.event),e=a=d=c=null}}},b.prototype.assign=function(a,b){if(a&&b)for(var c in b)a[c]=b[c];return a},b.prototype.simplePromise=function(a){var b,c;return setTimeout(function(){a(b,c)},20),{success:function(a){b=a},error:function(a){c=a}}},window.VeniLog=new a}(),function(a){"use strict";function b(a){if(isNaN(a)||a<=0)throw new Error("interval 必须为>0的数字  单位为:毫秒")}function c(b){this.id=d++,this.emitter=new a.EventEmitterClass,this.init.apply(this,arguments)}var d=0;a.Timer=b,b.interval=function(a){return new b(a)},b.counter=function(a){return new CountDownLibraryClass(a)},c.prototype.timerId=0,c.prototype.id=null,c.prototype.keeping=!1,c.prototype.emitter=null,c.prototype.init=function(a){if(this.interval=a,isNaN(a)||a<=0)throw new Error("interval 必须为>0的数字 单位为:毫秒")},c.prototype.start=function(){this.keeping||(this.keeping=!0,this.stopif(this.emitter.emit("iterator")),this.iterate())},c.prototype.stop=function(){this.keeping=!1,clearTimeout(this.timerId)},c.prototype.iterate=function(a){if(this.keepif()){var b=this;clearTimeout(this.timerId);var c=setTimeout(function(){b.stopif(b.emitter.emit("iterator")),b.iterate()},this.interval);this.timerId=c}},c.prototype.stopif=function(a){a===!1&&this.stop()},c.prototype.keepif=function(){return!!this.keeping&&this.emitter.getListeners("iterator").length>0},c.prototype.iterator=function(a){return this.emitter.on("iterator",a),this.keeping&&(this.keeping=!1,this.start()),this}}(VeniLog),function(a){function b(){c.apply(this,arguments)}function c(a){if(this.__cookies={},null!=a){var b=null;b=e.isString(a)?a:a.cookie,b=b||"";for(var c=null,f=null,g=null,h=b.split(";"),i={},j=0,k=h.length;j<k;j++)c=h[j].split("="),f=c.shift().replace(/\s/,""),g=decodeURI(d(c.join("="))),i[f.toLowerCase()]=g,""!==g.replace(/\s/,"")&&(this[f]=g);this.__cookies=i||{}}}function d(a){return'"'==a[0]&&(a=a.substring(1,a.length)),'"'==a[a.length-1]&&(a=a.substring(0,a.length-1)),a}var e=a.utils;a.CookieParser=b,b.prototype.getCookie=function(a){return a=(a||"").toString().toLowerCase(),this.__cookies[a]},b.prototype.removeCookie=function(a,b){this.setCookie(a,"",-1,b)},b.prototype.setCookie=function(a,b,c,d){a&&!e.isDate(c)||(c=c.toGMTString()),a=(a||"").toString(/\s/g,""),window.document.cookie=e.format("{0}={1};expires={2};path={3}",a,encodeURI(b),c,d||""),this[a]=b,this.__cookies[a.toLowerCase()]=b},b.prototype.parse=function(a){InitParser.apply(this,a)},b.cookieKeyValues=function(a){a=a||[];for(var b=[],c=null,d=0,e=a.length;d<e;d++)c=a[d],b.push(c.split(";")[0]);return b}}(VeniLog),function(a){"use strict";function b(){this.regHandlers={}}a.EventEmitterClass=b;var c=a.utils;b.prototype.once=function(a,b){if(a&&c.isFunction(b)){var d=this,e=function(){e.called?(d.off(a,e),b=a=d=e=null):(e.called=!0,b.apply(this,arguments))};this.on(a,e)}},b.prototype.on=function(a,b){if(null!==a&&""!==a){var c=this.getListeners(a);"function"==typeof b&&c.push(b)}},b.prototype.off=function(a,b){var c=this.getListeners(a);if(1===arguments.length)c.length=0;else{for(var d=[],e=0,f=null,g=c.length;e<g;e++)f=c[e],f!=b&&d.push(f);c.length=0,c.push.apply(c,d)}},b.prototype.destroy=function(){var a=this.regHandlers||{};for(var b in a)c.isArray(a[b])?a[b].length=0:a[b]=null},b.prototype.getListeners=function(a){if(null===a||""===a)return[];var b=this.regHandlers[a];return null==b&&(b=this.regHandlers[a]=[]),b},b.prototype.emit=function(a,b,c){for(var d=this.getListeners(a),e=Array.prototype.slice.call(arguments,1),f=null,g=0,h=null,i=d.length;g<i&&(h=d[g],f=h.apply(window,e),!1!==f);g++);return f}}(VeniLog),function(){function a(){c.apply(this,arguments)}function b(){}function c(a,b){y=b,this.behaviorList=[],this.supportLocalStorage=d(),this.cookieParser=new u.CookieParser(document.cookie),a&&(this.getHostUrl=t(a)),this.getQueues=t([]),this.pageTitle=document.getElementsByTagName("title").innerText,null==x&&(x=this.getParam("referRequestId"))}function d(){var a="supoort",b=z;try{return b.setItem(a,"true"),b.removeItem(a),!0}catch(c){return!1}}function e(a,b){var c={};return c.stop=function(){a.stop()},c.start=function(){a.start()},c.until=function(a){return b.on("until",a)},c}function f(a,b,c){var d=c.logId+1,e=c.getPageId();return j(b,c),c.setParam("referRequestId",x),c.logId=d,c.savePageStorage(),b.pageId=e,u.console("页面:{0},打点,编号:{1} 开始...",e,d),u.console("参数:"),u.console(b),c.ajaxPush=u.center.cfg.ajaxPush||g,c.ajaxPush(a,b)}function g(a,b){var c=b.pageId,d=b.logId;return w.simplePromise(function(e,f){var g=new Image,j=a+"?jsonRequest="+i(w.stringify({data:b}));g.onload=g.onerror=function(){u.console("页面:{0},打点,编号:{1} 结束",c,d),u.console("参数:"),u.console(b),e({status:1,message:"ok"}),document.body.removeChild(g)},g.onerror=function(){document.body.removeChild(g)},h(function(){g.src=j,document.body.appendChild(g)})})}function h(a){document.body?a():setTimeout(function(){h(a)},50)}function i(a){return v(a).replace(/%u/gi,"\\u")}function j(a,b){return w.isFunction(a)&&(a=a()),k(a,b),a}function k(a,b){if(w.isFunction(a))for(var c=0,d=a.length;c<d;c++)l(a[c],b);else l(a,b)}function l(a,b){var c=new u.CookieParser(document.cookie);a.requestId=p(),a.timeStamp=(new Date).getTime(),a.agent=a.agent||navigator.userAgent,a.refurl=document.referrer,a.referRequestId=b.getParam("referRequestId"),a.url=location.href,a.deviceId=a.deviceId||q(b),a.activity.sourceId=m(),a.activity.lsContent=n(),a.activity.activityId=o(),a.token=c.token||"",a.userId=a.userId||0,x=a.requestId}function m(){var a=E.ls_source_id;return a||(a=A.sourceId),a}function n(){var a=E.ls_content;return a||(a=A.lsContent),a}function o(){var a=E.ls_activity_id;return a||(a=A.activityId),a}function p(){return s("request")}function q(a){var b="__uuid",c=a.getParam(b);return""===(c||"").toString().replace(/\s/g,"")&&(c=s("user"),a.setParam(b,c)),c}function r(a,b){var c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(b=b||d.length,a)for(c=0;c<a;c++)e[c]=d[0|Math.random()*b];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",c=0;c<36;c++)e[c]||(f=0|16*Math.random(),e[c]=d[19==c?3&f|8:f])}return e.join("")}function s(a){var b=w.format("{0}_{1}",a,r(32,32));return b}function t(a){return function(){return a}}var u=window.VeniLog,v=window.escape,w=u.utils,x=null,y=null,z=window.localStorage,A=new u.CookieParser(document.cookie);u.VeniLogPageClass=a,a.prototype.logId=0,a.prototype.behaviorList=null,a.prototype.readyBehavior=function(a){var b=this.behaviorList;VeniLog.Behavior.ready(a,function(a){a&&b.push(a)})},a.prototype.savePageStorage=function(){this.setParam("referUrl",location.href),this.setParam("referId",this.getPageId())},a.prototype.setParam=function(a,b){if(this.supportLocalStorage)z.setItem(a,b);else{var c=new Date((new Date).getTime()+6048e5);this.cookieParser.setCookie(a,b,c,"/")}},a.prototype.getParam=function(a){if(this.supportLocalStorage)return z.getItem(a);var b=this.cookieParser||{};return b[a]},a.prototype.task=function(a,b,c){var d=this.tasks;if(null==d&&(d=this.tasks={}),d[a])throw new Error(w.format("已经存在名称为{0}的打点任务",a));var f=d[a]={name:a,timer:null},g=f.timer=u.Timer.interval(c),h=this,i=new u.EventEmitterClass;return g.iterator(function(){u.console("页面:{0} 开始任务:{1}",h.getPageId(),a),h.log(b).complete(function(b,c){u.console("页面:{0} 任务:{1},执行完毕",h.getPageId(),a),i.emit("until",b,c)&&g.stop()})}),e(g,i)},a.prototype.log=function(a){return w.isArray(a)?this.pushRecords(a):this.push(a)},a.prototype.push=function(a){if(null==a&&this.throwError("record 不能为null ,无法发送打点请求!"),!this.tryQueue(a)){var b=this.getHostUrl()+"/one",c=this;return w.isFunction(a.then)?a.then(function(a){return f(b,a,c)}):f(b,a,this)}},a.prototype.pushRecords=function(a){if(null==a&&this.throwError("recordList 不能为null ,无法发送打点请求!"),!this.tryQueue(a)){var b=this.getHostUrl()+"/batch";return ajaxRbi(b,a,this)}},a.prototype.tryQueue=function(a){var b=this.getQueues();return this.getHostUrl?(b.length>0&&(b.length=0,this.pushRecords(this.getQueues())),!1):(b.push.apply(b,a),!0)},a.prototype.throwError=function(a){throw new Error(w.format("页面:{0}",this.getPageId(),a))},a.prototype.getPageRecord=function(a,b,c){var d={channelID:0,sourceId:y,timeStamp:0,sessionId:null,userId:null,agent:null,userIp:null,token:null,requestId:0,referRequestId:0,debugMessage:null,url:"",refurl:"",debug:!1,appType:0,appVersion:0,osPlatform:0,osVersion:0,deviceType:0,network:0,mac:null,imei:null,deviceId:null,eventID:a||0,message:b||"",entry:c||null,mobile:null,latitude:null,longitude:null,province:null,city:null,activity:{sourceId:null,lsContent:null,activityId:null}||""},e=this.templModel;return w.isFunction(this.templModel)?(e=this.templModel(),e&&e.then?e.then(function(a){return w.assign(d,a)}):void 0):w.assign(d,e)},a.prototype.init=function(a,c,d){this.getHostUrl||(y=c,this.getPageId=t(d),this.getHostUrl=t(a)),this.initUrl=b},a.prototype.setPageId=function(a){this.getPageId=t(a)},a.prototype.setTemplateModel=function(a){this.templModel=a};for(var B=window.location.search,C=B.substr(1),D=C.split("&"),E={},F=0;F<D.length;F++)E[D[F].split("=")[0]]=unescape(D[F].split("=")[1])}(),function(){VeniLog.LOGEVENTS={IN:"1",OUT:"2",CLICK:"3",SLIDE:"4",LOGIN:"1",REGIST:"1002",FORGOTPWD:"1003",UPINSIDE:"2001",TOUCHDOWN:"2002",TOUCHDRAGINSIDE:"2003",TOUCHDRAGOUTSIDE:"2004",TOUCHDRAGENTER:"2005",TOUCHDRAGEXIT:"2006",TOUCHUPINSIDE:"2007",TOUCHUPOUTSIDE:"2008",TOUCHCANCEL:"2009",TAP:"2102",SWIPE:"2103",PAN:"2104",PINCH:"2105",LONGPRESS:"2106",PAGEIN:"3001",PAGEOUT:"3002",SELECT:"4001",TABS:"5001",POSITION:"6001",MSGRECEVIED:"7001",MSGCLICK:"7002"}}(),function(a){function b(){}function c(a){h[a]||e.using(e.format("{0}/pages/{1}.js",d.center.getResouceHostUrl(),a),function(){h[a]=!0,d.console("装载页面"+a+"自定义配置完毕")})}var d=window.VeniLog,e=d.utils,f=null,g=null,h={},i=null;d.center=new b,b.prototype.custom=!1,b.prototype.getPage=function(){return i},b.prototype.business=function(a){e.isFunction(a)&&a(this.getPage(),this.Behavior,this)},b.prototype.init=function(a){i=new d.VeniLogPageClass;var b=this.getMeta(),c=e.ifn(d.customUrl,b.customUrl);return e.ifn(c,!1)?(this.customUrl=c,e.using(c)):void this.bootstrap(a)},b.prototype.bootstrap=function(a){d.console("开始启动打点"),this.configure(a),g.open?this.ready():d.console('打点开关为false 如果需打开打点 ,请设置<meta rbi="yes" name="open" content="true"/>')},b.prototype.configure=function(a){g=this.getMeta(),g.open="true"==g.open,g.rbiCustom="true"==g.rbiCustom,g.sourceId=parseInt(g.sourceId),e.assign(g,a),this.meta=e.assign({},g),this.cfg=a,this.resouceHostUrl=f=g.resourceUrl,d.console("配置打点数据")},b.prototype.ready=function(){d.console("装载打点页面实例");var a=i,b=this,f=e.ifn(g.rbiPageId,g.rbiPage);a.setTemplateModel(d.templateModel),a.init(g.hostUrl,g.sourceId,f),a.log(a.getPageRecord(VeniLog.LOGEVENTS.PAGEIN)),setTimeout(function(){b.readyRbi(a)},20),g.rbiCustom&&c(g.rbiPage)},b.prototype.readyRbi=function(a){var b=this.cfg.behaviors||{click:!0},c=null;for(var e in b)c=b[e],d.console("装载行为:"+e),a.readyBehavior(e)},b.prototype.getBehaviorCfg=function(a){var b=this.cfg||{},c=b.behaviors||{},d=c[a];return d||{}},b.prototype.readyOnLoad=function(a){var b=window.onload;window.onload=function(){a(),e.isFunction(b)&&b.apply(this,arguments)}},b.prototype.getResouceHostUrl=function(){return f},b.prototype.getMeta=function(){for(var a=document.getElementsByTagName("meta"),b={},c=0,d=null,e=a.length;c<e;c++)d=a[c],"yes"==d.getAttribute("rbi")&&(b[d.name]=d.getAttribute("content"));return b}}(window),function(a){function b(){}function c(a){return f.simplePromise(function(b,c){e[a]?b(d(a)):f.using(f.format("{0}/rbi/{1}.js",g.getResouceHostUrl(),a),function(){if(e[a])b(d(a));else{var f="装载打点器"+a+"失败";g.consoleLog(f),c&&c(f)}})})}function d(a){var b=e[a],c=g.getBehaviorCfg(a);return new b(c)}var e={},f=a.utils,g=a.center;a.Behavior=b,b.prototype.container=null,b.ready=function(a,b){return c(a).success(b)},b.register=function(a,b){if(e[a])throw new Error(f.format("已经存在相同名称的打点器:{0}",a));return f.extend(b,this),e[a]=b,b},b.prototype.log=function(a){return g.getPage().log(a)},b.prototype.task=function(a,b,c){return g.getPage().task(a,b,c)},b.prototype.getRecord=function(a){return g.getPage().getPageRecord(a)},b.prototype.bind=function(a,b){var c=this,d=this.container||document.body;f.addEventListener(d,a,function(a){f.call(c,b,a,this)})}}(VeniLog),function(a){function b(a){return null===c&&(c=this,this.init()),this.onlyMarke=a.onlyMarke,c}var c=null,d=a.VeniLog,e=(d.utils,{a:!0,area:!0,map:!0,button:!0});d.Behavior.register("click",b),b.prototype.eventId=3003,b.prototype.init=function(){var a=document.hasOwnProperty&&document.hasOwnProperty("ontouchstart")?"touchstart":"click";this.bind(a,this.onClickRbiButton)},b.prototype.onClickRbiButton=function(a){var b=a.srcElement||a.target,c=this.getVenilogParentDom(b);if(c){var e=c.getAttribute("data-click-log"),f=e||this.xPath(c),g=c.getAttribute("data-log-entry"),h=c.getAttribute("data-log-ignroed");if("true"==h)return;d.log(this.eventId,f,g)}},b.prototype.getVenilogParentDom=function(a){if(this.isVenilogClick(a))return a;for(var b=a.parentElement,c=null;b;){if(this.isVenilogClick(b)){c=b;break}b=b.parentElement}return c},b.prototype.isVenilogClick=function(a){if(this.onlyMarke)return this.isOnlyMarke(a);var b=a.type,c=null!==a.getAttribute("data-click-log"),d=null!==a.getAttribute("data-tag"),f=a.tagName.toLowerCase();return e[f]||"input"==f&&("image"==b||"submit"==b||"button"==b)||c||d},b.prototype.isOnlyMarke=function(a){a.type;return null!==a.getAttribute("data-click-log")},b.prototype.getButtonId=function(a){var b=a.getAttribute("data-click-log")||a.id;if(!b){var c=a.value||"",d=a.className.split(" ");d.push(c),b=d.join("_"),b=b.replace(/\s/g,"")}return b},b.prototype.xPath=function(a){for(var b=a.tagName,c=a;(c=c.parentNode)&&(b=c.tagName+":"+this.getIndex(c)+"/"+b,"BODY"!=c.tagName););return b+":"+this.getIndex(a)+"."+this.getButtonId(a)},b.prototype.getIndex=function(a){var b=a.parentElement;if(b)for(var c=b.children,d=0,e=c.length;d<e;d++)if(c[d]==a)return d;return-1}}(window);var _hmt=_hmt||[];!function(a){var b=a.__venilogTemplateModel__||{},c=(a.__venilogUrl__||"",a.__isProduction__);try{VeniLog.setTemplateModel(b),VeniLog.bootstrap({open:!0,sourceId:5,hostUrl:__venilogUrl__})}catch(d){console&&console.error(d)}if(c){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?bfeebb83050db0f41b20bd00fade1531";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f)}}(window),this.JSON||(JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),
"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){function c(a){var b=oa[a]={};return $.each(a.split(ba),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qa,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:pa.test(d)?$.parseJSON(d):d)}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Ka.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a,d){return $.inArray(a,b)>=0===c})}function k(a){var b=Na.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xa.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=qb.length;e--;)if(b=qb[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(!e[f]&&"none"===c.style.display&&(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cb(c,"display"),!e[f]&&"none"!==d&&$._data(c,"olddisplay",d)));for(f=0;f<g;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=jb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;e<4;e+=2)"margin"===c&&(f+=$.css(a,c+pb[e],!0)),d?("content"===c&&(f-=parseFloat(cb(a,"padding"+pb[e]))||0),"margin"!==c&&(f-=parseFloat(cb(a,"border"+pb[e]+"Width"))||0)):(f+=parseFloat(cb(a,"padding"+pb[e]))||0,"padding"!==c&&(f+=parseFloat(cb(a,"border"+pb[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(d<=0){if(d=cb(a,b),(d<0||null==d)&&(d=a.style[b]),kb.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(mb[a])return mb[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),"none"!==c&&""!==c||(db=P.body.appendChild(db||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),eb&&db.createElement||(eb=(db.contentWindow||db.contentDocument).document,eb.write("<!doctype html><html><body>"),eb.close()),b=eb.body.appendChild(eb.createElement(a)),c=cb(b,"display"),P.body.removeChild(db)),mb[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||tb.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(ba),h=0,i=g.length;if($.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Jb;j<k&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Ub=b},0),Ub=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=($b[b]||[]).concat($b["*"]),e=0,f=d.length;e<f;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=Zb.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Ub||F(),c=Math.max(0,i.startTime+i.duration-b),d=1-(c/i.duration||0),e=0,f=i.tweens.length;e<f;e++)i.tweens[e].run(d);return g.notifyWith(a,[i,d,c]),d<1&&f?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ub||F(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(e),e},stop:function(b){for(var c=0,d=b?i.tweens.length:0;c<d;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);e<f;e++)if(d=Zb[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],p=a.nodeType&&r(a);c.queue||(j=$._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,$.queue(a,"fx").length||j.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",$.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Wb.exec(f)){if(delete b[d],f===(p?"hide":"show"))continue;o.push(d)}if(g=o.length)for(h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),p?$(a).show():l.done(function(){$(a).hide()}),l.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in n)$.style(a,b,n[b])}),d=0;d<g;d++)e=o[d],i=l.createTween(e,p?h[e]:0),n[e]=h[e]||$.style(a,e),e in h||(h[e]=i.start,p&&(i.end=i.start,i.start="width"===e||"height"===e?1:0))}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){for(var c,d={height:a},e=0;e<4;e+=2-b)c=pb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aa=/\S/,ba=/\s+/,ca=aa.test(" ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,da=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fa=/^[\],:{}\s]*$/,ga=/(?:^|:|,)(?:\s*\[)+/g,ha=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ia=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ja=/^-ms-/,ka=/-([\da-z])/gi,la=function(a,b){return(b+"").toUpperCase()},ma=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",ma,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",ma),$.ready())},na={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:da.exec(a),e&&(e[1]||!c)){if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),ea.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"!=typeof h&&!$.isFunction(h)&&(h={}),j===i&&(h=this,--i);i<j;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):na[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=ea.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fa.test(b.replace(ha,"@").replace(ia,"]").replace(ga,""))?new Function("return "+b)():void $.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&aa.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ja,"ms-").replace(ka,la)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":a.toString().replace(ca,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;f<d;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||f.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState||"loading"!==P.readyState&&P.addEventListener)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",ma,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",ma),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){na["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var oa={};$.Callbacks=function(a){a="string"==typeof a?oa[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&i<h;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){!$.isFunction(d)||a.unique&&m.has(d)?d&&d.length&&c(d):j.push(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(c<=h&&h--,c<=i&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],j&&(!e||k)&&(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return"object"==typeof a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5",!c||!c.length||!d)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pa=/^(?:\{.*\}|\[.*\])$/,qa=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||++$.uuid:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),"object"!=typeof c&&"function"!=typeof c||(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;f<g;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;k<i;k++)h=g[k].name,0===h.indexOf("data-")&&(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.shift(),e=$._queueHooks(a,b),f=function(){$.dequeue(a,b)};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),delete e.stop,d.call(a,f,e)),!c.length&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)(d=$._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ra,sa,ta,ua=/[\t\r\n]/g,va=/\r/g,wa=/^(?:button|input)$/i,xa=/^(?:button|input|object|select|textarea)$/i,ya=/^a(?:rea|)$/i,za=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Aa=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(ba),c=0,d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(ba),h=0,i=this.length;h<i;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ua," "),f=0,g=c.length;f<g;f++)for(;d.indexOf(" "+c[f]+" ")>-1;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return $.isFunction(a)?this.each(function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(ba);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else"undefined"!==c&&"boolean"!==c||(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ua," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(va,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(f<0)return null;for(c=i?f:0,d=i?f+1:h.length;c<d;c++)if(e=h[c],e.selected&&($.support.optDisabled?!e.disabled:null===e.getAttribute("disabled"))&&(!e.parentNode.disabled||!$.nodeName(e.parentNode,"optgroup"))){if(b=$(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?$(h[f]).val():g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):"undefined"==typeof a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(za.test(c)?sa:ra)),d!==b?null===d?void $.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(ba);g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=za.test(e),f||$.attr(a,e,""),a.removeAttribute(Aa?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wa.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return ra&&$.nodeName(a,"button")?ra.get(a,b):b in a?a.value:null},set:function(a,b,c){return ra&&$.nodeName(a,"button")?ra.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xa.test(a.nodeName)||ya.test(a.nodeName)&&a.href?0:b}}}}),sa={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Aa||(ta={name:!0,id:!0,coords:!0},ra=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(ta[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){
$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),$.attrHooks.contenteditable={get:ra.get,set:function(a,b,c){""===b&&(b="false"),ra.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){if($.isArray(b))return a.checked=$.inArray($(a).val(),b)>=0}})});var Ba=/^(?:textarea|input|select)$/i,Ca=/^([^\.]*|)(?:\.(.+)|)$/,Da=/(?:^|\s)hover(\.\S+|)\b/,Ea=/^key/,Fa=/^(?:mouse|contextmenu)|click/,Ga=/^(?:focusinfocus|focusoutblur)$/,Ha=function(a){return $.event.special.hover?a:a.replace(Da,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Ha(c)).split(" "),j=0;j<c.length;j++)k=Ca.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Ha(b||"")).split(" "),f=0;f<b.length;f++)if(g=Ca.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],(e||i===p.origType)&&(!c||c.guid===p.guid)&&(!j||j.test(p.namespace))&&(!d||d===p.selector||"**"===d&&p.selector)&&(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,q.handle)===!1)&&$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(Ga.test(q+$.event.triggered))return;if(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),(!e||$.event.customEvent[q])&&!$.event.global[q])return;if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",!e){g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0);return}if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},m.trigger&&m.trigger.apply(e,d)===!1)return;if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Ga.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,!f&&!c.isDefaultPrevented()&&(!m._default||m._default.apply(e.ownerDocument,d)===!1)&&("click"!==q||!$.nodeName(e,"a"))&&$.acceptData(e)&&l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!$.isWindow(e)&&(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,k&&(e[l]=k)),c.result}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m,n=($._data(this,"events")||{})[c.type]||[],o=n.delegateCount,p=[].slice.call(arguments),q=!c.exclusive&&!c.namespace,r=$.event.special[c.type]||{},s=[];if(p[0]=c,c.delegateTarget=this,!r.preDispatch||r.preDispatch.call(this,c)!==!1){if(o&&(!c.button||"click"!==c.type))for(g=$(this),g.context=this,f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(i={},k=[],g[0]=f,d=0;d<o;d++)l=n[d],m=l.selector,i[m]===b&&(i[m]=g.is(m)),i[m]&&k.push(l);k.length&&s.push({elem:f,matches:k})}for(n.length>o&&s.push({elem:this,matches:n.slice(o)}),d=0;d<s.length&&!c.isPropagationStopped();d++)for(j=s[d],c.currentTarget=j.elem,e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++)l=j.matches[e],(q||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,h=(($.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,p),h!==b&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation())));return r.postDispatch&&r.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{ready:{setup:$.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){return this instanceof $.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),this[$.expando]=!0,void 0):new $.Event(a,b)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector;return e&&(e===d||$.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return!$.nodeName(this,"form")&&void $.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!$.nodeName(this,"form")&&void $.event.remove(this,"._submit")}}),$.support.changeBubbles||($.event.special.change={setup:function(){return Ba.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1):void $.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ba.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return $.event.remove(this,"._change"),Ba.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return c!==!1&&"function"!=typeof c||(d=c,c=b),d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return $.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Ea.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fa.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){for(var e=0,f=b.length;e<f;e++)fa(a,b[e],c,d)}function d(a,b,d,e,f,g){var h,i=ga.setFilters[b.toLowerCase()];return i||fa.error(b),(a||!(h=f))&&c(a||"*",e,h=[],f),h.length>0?i(h,d,g):[]}function e(a,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=0,r=h.length,s=S.POS,t=new RegExp("^"+s.source+"(?!"+y+")","i"),u=function(){for(var a=1,c=arguments.length-2;a<c;a++)arguments[a]===b&&(i[a]=b)};q<r;q++){for(s.exec(""),a=h[q],l=[],k=0,m=g;i=s.exec(a);)p=s.lastIndex=i.index+i[0].length,p>k&&(o=a.slice(k,i.index),k=p,n=[e],I.test(o)&&(m&&(n=m),m=g),(j=O.test(o))&&(o=o.slice(0,-5).replace(I,"$&*")),i.length>1&&i[0].replace(t,u),m=d(o,i[1],i[2],n,m,j));m?(l=l.concat(m),(o=a.slice(k))&&")"!==o?I.test(o)?c(o,l,f,g):fa(o,e,f,g?g.concat(m):m):w.apply(f,l)):fa(a,e,f,g)}return 1===r?f:fa.uniqueSort(f)}function f(a,b,c){for(var d,e,f,g=[],h=0,i=K.exec(a),j=!i.pop()&&!i.pop(),k=j&&a.match(J)||[""],l=ga.preFilter,m=ga.filter,n=!c&&b!==p;null!=(e=k[h])&&j;h++)for(g.push(d=[]),n&&(e=" "+e);e;){j=!1,(i=I.exec(e))&&(e=e.slice(i[0].length),j=d.push({part:i.pop().replace(H," "),captures:i}));for(f in m)(i=S[f].exec(e))&&(!l[f]||(i=l[f](i,b,c)))&&(e=e.slice(i.shift().length),j=d.push({part:f,captures:i}));if(!j)break}return j||fa.error(a),g}function g(a,b,c){var d=b.dir,e=u++;return a||(a=function(a){return a===c}),b.first?function(b,c){for(;b=b[d];)if(1===b.nodeType)return a(b,c)&&b}:function(b,c){for(var f,g=e+"."+l,h=g+"."+k;b=b[d];)if(1===b.nodeType){if((f=b[x])===h)return b.sizset;if("string"==typeof f&&0===f.indexOf(g)){if(b.sizset)return b}else{if(b[x]=h,a(b,c))return b.sizset=!0,b;b.sizset=!1}}}}function h(a,b){return a?function(c,d){var e=b(c,d);return e&&a(e===!0?c:e,d)}:b}function i(a,b,c){for(var d,e,f=0;d=a[f];f++)ga.relative[d.part]?e=g(e,ga.relative[d.part],b):(d.captures.push(b,c),e=h(e,ga.filter[d.part].apply(null,d.captures)));return e}function j(a){return function(b,c){for(var d,e=0;d=a[e];e++)if(d(b,c))return!0;return!1}}var k,l,m,n,o,p=a.document,q=p.documentElement,r="undefined",s=!1,t=!0,u=0,v=[].slice,w=[].push,x=("sizcache"+Math.random()).replace(".",""),y="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",A=z.replace("w","w#"),B="([*^$|!~]?=)",C="\\["+y+"*("+z+")"+y+"*(?:"+B+y+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+A+")|)|)"+y+"*\\]",D=":("+z+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",E=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",F=y+"*([\\x20\\t\\r\\n\\f>+~])"+y+"*",G="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+C+"|"+D.replace(2,7)+"|[^\\\\(),])+",H=new RegExp("^"+y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+y+"+$","g"),I=new RegExp("^"+F),J=new RegExp(G+"?(?="+y+"*,|$)","g"),K=new RegExp("^(?:(?!,)(?:(?:^|,)"+y+"*"+G+")*?|"+y+"*(.*?))(\\)|$)"),L=new RegExp(G.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+F,"g"),M=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,N=/[\x20\t\r\n\f]*[+~]/,O=/:not\($/,P=/h\d/i,Q=/input|select|textarea|button/i,R=/\\(?!\\)/g,S={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),NAME:new RegExp("^\\[name=['\"]?("+z+")['\"]?\\]"),TAG:new RegExp("^("+z.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+C),PSEUDO:new RegExp("^"+D),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+y+"*(even|odd|(([+-]|)(\\d*)n|)"+y+"*(?:([+-]|)"+y+"*(\\d+)|))"+y+"*\\)|)","i"),POS:new RegExp(E,"ig"),needsContext:new RegExp("^"+y+"*[>+~]|"+E,"i")},T={},U=[],V={},W=[],X=function(a){return a.sizzleFilter=!0,a},Y=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Z=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},_=function(a){var b=!1,c=p.createElement("div");try{b=a(c)}catch(d){}return c=null,b},aa=_(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),ba=_(function(a){a.id=x+0,a.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",q.insertBefore(a,q.firstChild);var b=p.getElementsByName&&p.getElementsByName(x).length===2+p.getElementsByName(x+0).length;return o=!p.getElementById(x),q.removeChild(a),b}),ca=_(function(a){return a.appendChild(p.createComment("")),0===a.getElementsByTagName("*").length}),da=_(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==r&&"#"===a.firstChild.getAttribute("href")}),ea=_(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!a.getElementsByClassName||0===a.getElementsByClassName("e").length)&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length)}),fa=function(a,b,c,d){c=c||[],b=b||p;var e,f,g,h,i=b.nodeType;if(1!==i&&9!==i)return[];if(!a||"string"!=typeof a)return c;if(g=ia(b),!g&&!d&&(e=M.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&ja(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return w.apply(c,v.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&ea&&b.getElementsByClassName)return w.apply(c,v.call(b.getElementsByClassName(h),0)),c}return ma(a,b,c,d,g)},ga=fa.selectors={cacheLength:50,match:S,order:["ID","TAG"],attrHandle:{},createPseudo:X,find:{ID:o?function(a,b,c){if(typeof b.getElementById!==r&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==r&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==r&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:ca?function(a,b){if(typeof b.getElementsByTagName!==r)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(R,""),a[3]=(a[4]||a[5]||"").replace(R,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||fa.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=a[4];return S.CHILD.test(a[0])?null:(c&&(b=K.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=b[0].slice(0,-1)),a.splice(2,3,c||a[3]),a)}},filter:{ID:o?function(a){return a=a.replace(R,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(R,""),function(b){var c=typeof b.getAttributeNode!==r&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(R,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=T[a];return b||(b=T[a]=new RegExp("(^|"+y+")"+a+"("+y+"|$)"),U.push(a),U.length>ga.cacheLength&&delete T[U.shift()]),function(a){return b.test(a.className||typeof a.getAttribute!==r&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(d){var e=fa.attr(d,a),f=e+"";if(null==e)return"!="===b;switch(b){case"=":return f===c;case"!=":return f!==c;case"^=":return c&&0===f.indexOf(c);case"*=":return c&&f.indexOf(c)>-1;case"$=":return c&&f.substr(f.length-c.length)===c;case"~=":return(" "+f+" ").indexOf(c)>-1;case"|=":return f===c||f.substr(0,c.length+1)===c+"-"}}:function(b){return null!=fa.attr(b,a)}},CHILD:function(a,b,c,d){if("nth"===a){var e=u++;return function(a){var b,f,g=0,h=a;if(1===c&&0===d)return!0;if(b=a.parentNode,b&&(b[x]!==e||!a.sizset)){for(h=b.firstChild;h&&(1!==h.nodeType||(h.sizset=++g,h!==a));h=h.nextSibling);b[x]=e}return f=a.sizset-d,0===c?0===f:f%c===0&&f/c>=0}}return function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,d){var e=ga.pseudos[a]||ga.pseudos[a.toLowerCase()];return e||fa.error("unsupported pseudo: "+a),e.sizzleFilter?e(b,c,d):e}},pseudos:{not:X(function(a,b,c){var d=la(a.replace(H,"$1"),b,c);return function(a){return!d(a)}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!ga.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:X(function(a){return function(b){return(b.textContent||b.innerText||ka(b)).indexOf(a)>-1}}),has:X(function(a){return function(b){return fa(a,b).length>0}}),header:function(a){return P.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:Y("radio"),checkbox:Y("checkbox"),file:Y("file"),password:Y("password"),image:Y("image"),submit:Z("submit"),reset:Z("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return Q.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){var d=a.pop();return c?a:[d]},even:function(a,b,c){for(var d=[],e=c?1:0,f=a.length;e<f;e+=2)d.push(a[e]);return d},odd:function(a,b,c){for(var d=[],e=c?0:1,f=a.length;e<f;e+=2)d.push(a[e]);return d},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){var d=a.splice(+b,1);return c?a:d}}};ga.setFilters.nth=ga.setFilters.eq,ga.filters=ga.pseudos,da||(ga.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}}),ba&&(ga.order.push("NAME"),ga.find.NAME=function(a,b){if(typeof b.getElementsByName!==r)return b.getElementsByName(a)}),ea&&(ga.order.splice(1,0,"CLASS"),ga.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==r&&!c)return b.getElementsByClassName(a)});try{v.call(q.childNodes,0)[0].nodeType}catch(ha){v=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}var ia=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},ja=fa.contains=q.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:q.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},ka=fa.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ka(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=ka(b);return c};fa.attr=function(a,b){var c,d=ia(a);return d||(b=b.toLowerCase()),ga.attrHandle[b]?ga.attrHandle[b](a):aa||d?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},[0,0].sort(function(){return t=0}),q.compareDocumentPosition?m=function(a,b){return a===b?(s=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:(m=function(a,b){if(a===b)return s=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return n(a,b);if(!g)return-1;if(!h)return 1;for(;i;)e.unshift(i),i=i.parentNode;for(i=h;i;)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return n(e[j],f[j]);return j===c?n(a,f[j],-1):n(e[j],b,1)},n=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),fa.uniqueSort=function(a){var b,c=1;if(m&&(s=t,a.sort(m),s))for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};var la=fa.compile=function(a,b,c){var d,e,g,h=V[a];if(h&&h.context===b)return h;for(e=f(a,b,c),g=0;d=e[g];g++)e[g]=i(d,b,c);return h=V[a]=j(e),h.context=b,h.runs=h.dirruns=0,W.push(a),W.length>ga.cacheLength&&delete V[W.shift()],h};fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){return fa(b,null,null,[a]).length>0};var ma=function(a,b,c,d,f){a=a.replace(H,"$1");var g,h,i,j,m,n,o,p,q,r=a.match(J),s=a.match(L),t=b.nodeType;if(S.POS.test(a))return e(a,b,c,d,r);if(d)g=v.call(d,0);else if(r&&1===r.length){if(s.length>1&&9===t&&!f&&(r=S.ID.exec(s[0]))){if(b=ga.find.ID(r[1],b,f)[0],!b)return c;a=a.slice(s.shift().length)}for(p=(r=N.exec(s[0]))&&!r.index&&b.parentNode||b,q=s.pop(),n=q.split(":not")[0],i=0,j=ga.order.length;i<j;i++)if(o=ga.order[i],r=S[o].exec(n)){if(g=ga.find[o]((r[1]||"").replace(R,""),p,f),null==g)continue;n===q&&(a=a.slice(0,a.length-q.length)+n.replace(S[o],""),a||w.apply(c,v.call(g,0)));break}}if(a)for(h=la(a,b,f),l=h.dirruns++,null==g&&(g=ga.find.TAG("*",N.test(a)&&b.parentNode||b)),i=0;m=g[i];i++)k=h.runs++,h(m,b)&&c.push(m);return c};p.querySelectorAll&&function(){var a,b=ma,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[],f=[":active"],g=q.matchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector||q.msMatchesSelector;_(function(a){a.innerHTML="<select><option selected></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+y+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),_(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+y+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=e.length&&new RegExp(e.join("|")),ma=function(a,d,f,g,h){if(!(g||h||e&&e.test(a)))if(9===d.nodeType)try{return w.apply(f,v.call(d.querySelectorAll(a),0)),f}catch(i){}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d.getAttribute("id"),k=j||x,l=N.test(a)&&d.parentNode||d;j?k=k.replace(c,"\\$&"):d.setAttribute("id",k);try{return w.apply(f,v.call(l.querySelectorAll(a.replace(J,"[id='"+k+"'] $&")),0)),f}catch(i){}finally{j||d.removeAttribute("id")}}return b(a,d,f,g,h)},g&&(_(function(b){a=g.call(b,"div");try{g.call(b,"[test!='']:sizzle"),f.push(ga.match.PSEUDO)}catch(c){}}),f=new RegExp(f.join("|")),fa.matchesSelector=function(b,c){if(c=c.replace(d,"='$1']"),!(ia(b)||f.test(c)||e&&e.test(c)))try{var h=g.call(b,c);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(i){}return fa(c,null,null,[b]).length>0})}(),fa.attr=$.attr,$.find=fa,$.expr=fa.selectors,$.expr[":"]=$.expr.pseudos,$.unique=fa.uniqueSort,$.text=fa.getText,$.isXMLDoc=fa.isXML,$.contains=fa.contains}(a);var Ia=/Until$/,Ja=/^(?:parents|prev(?:Until|All))/,Ka=/^.[^:#\[\.,]*$/,La=$.expr.match.needsContext,Ma={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;b<c;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;b<c;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?La.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=La.test(a)||"string"!=typeof a?$(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ia.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Ma[a]?$.unique(e):e,this.length>1&&Ja.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Na="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oa=/ jQuery\d+="(?:null|\d+)"/g,Pa=/^\s+/,Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ra=/<([\w:]+)/,Sa=/<tbody/i,Ta=/<|&#?\w+;/,Ua=/<(?:script|style|link)/i,Va=/<(?:script|object|embed|option|style)/i,Wa=new RegExp("<(?:"+Na+")[\\s/>]","i"),Xa=/^(?:checkbox|radio)$/,Ya=/checked\s*(?:[^=]|=\s*.checked.)/i,Za=/\/(java|ecma)script/i,$a=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
area:[1,"<map>","</map>"],_default:[0,"",""]},ab=k(P),bb=ab.appendChild(P.createElement("div"));_a.optgroup=_a.option,_a.tbody=_a.tfoot=_a.colgroup=_a.caption=_a.thead,_a.th=_a.td,$.support.htmlSerialize||(_a._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return $.isFunction(a)?this.each(function(b){$(this).wrapInner(a.call(this,b))}):this.each(function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)a&&!$.filter(a,[c]).length||(!b&&1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Oa,""):b;if("string"==typeof a&&!Ua.test(a)&&($.support.htmlSerialize||!Wa.test(a))&&($.support.leadingWhitespace||!Pa.test(a))&&!_a[(Ra.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Qa,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Ya.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;i<m;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($a,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=(c[0]||c).ownerDocument||c[0]||c,"undefined"==typeof c.createDocumentFragment&&(c=P),1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0)&&!Va.test(h)&&($.support.checkClone||!Ya.test(h))&&($.support.html5Clone||!Wa.test(h))&&(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bb.innerHTML=a.outerHTML,bb.removeChild(g=bb.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=0,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),f=b===P&&ab;null!=(g=a[r]);r++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Ta.test(g)){for(f=f||k(b),l=l||f.appendChild(b.createElement("div")),g=g.replace(Qa,"<$1></$2>"),h=(Ra.exec(g)||["",""])[1].toLowerCase(),i=_a[h]||_a._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sa.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,e=n.length-1;e>=0;--e)$.nodeName(n[e],"tbody")&&!n[e].childNodes.length&&n[e].parentNode.removeChild(n[e]);!$.support.leadingWhitespace&&Pa.test(g)&&l.insertBefore(b.createTextNode(Pa.exec(g)[0]),l.firstChild),g=l.childNodes,l=f.lastChild}else g=b.createTextNode(g);g.nodeType?s.push(g):s=$.merge(s,g)}if(l&&(f.removeChild(l),g=l=f=null),!$.support.appendChecked)for(r=0;null!=(g=s[r]);r++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){if(!a.type||Za.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},r=0;null!=(g=s[r]);r++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[r+1,0].concat(q)),r+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cb,db,eb,fb=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/^(top|right|bottom|left)$/,ib=/^margin/,jb=new RegExp("^("+_+")(.*)$","i"),kb=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),lb=new RegExp("^([-+])=("+_+")","i"),mb={},nb={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:0,fontWeight:400,lineHeight:1},pb=["Top","Right","Bottom","Left"],qb=["Webkit","O","Moz","ms"],rb=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?rb.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=lb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"===g&&!$.cssNumber[i]&&(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cb(a,c)),"normal"===f&&c in ob&&(f=ob[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cb=function(a,b){var c,d,e,f,g=getComputedStyle(a,null),h=a.style;return g&&(c=g[b],""===c&&!$.contains(a.ownerDocument.documentElement,a)&&(c=$.style(a,b)),kb.test(c)&&ib.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=g.width,h.width=d,h.minWidth=e,h.maxWidth=f)),c}:P.documentElement.currentStyle&&(cb=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),kb.test(e)&&!hb.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){if(c)return 0!==a.offsetWidth||"none"!==cb(a,"display")?v(a,b,d):$.swap(a,nb,function(){return v(a,b,d)})},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fb.test(f)?f.replace(fb,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){if(b)return cb(a,"marginRight")})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cb(a,b);return kb.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cb(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+pb[d]+b]=e[d]||e[d-2]||e[0];return f}},ib.test(a)||($.cssHooks[a+b].set=t)});var sb=/%20/g,tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,wb=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||wb.test(this.nodeName)||vb.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a,c){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(sb,"+")};var xb,yb,zb=/#.*$/,Ab=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Cb=/^(?:GET|HEAD)$/,Db=/^\/\//,Eb=/\?/,Fb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Gb=/([?&])_=[^&]*/,Hb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ib=$.fn.load,Jb={},Kb={},Lb=["*/"]+["*"];try{xb=Q.href}catch(Mb){xb=P.createElement("a"),xb.href="",xb=xb.href}yb=Hb.exec(xb.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Fb,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:xb,isLocal:Bb.test(yb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Lb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Jb),ajaxTransport:y(Kb),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&a<300||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,x&&!a||(x="error",a<0&&(a=0))),w.status=a,w.statusText=""+(c||x),j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Ab.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(u<2)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(zb,"").replace(Db,yb[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(ba),null==m.crossDomain&&(j=Hb.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]==yb[1]&&j[2]==yb[2]&&(j[3]||("http:"===j[1]?80:443))==(yb[3]||("http:"===yb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Jb,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Cb.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Eb.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=$.now(),y=m.url.replace(Gb,"$1_="+x);m.url=y+(y===m.url?(Eb.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Lb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(!m.beforeSend||m.beforeSend.call(n,w,m)!==!1&&2!==u){v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Kb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(u<2))throw A;d(-1,A)}}else d(-1,"No Transport");return w}return w.abort()},active:0,lastModified:{},etag:{}});var Nb=[],Ob=/\?/,Pb=/(=)\?(?=&|$)|\?\?/,Qb=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Nb.pop()||$.expando+"_"+Qb++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Pb.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pb.test(i);if("jsonp"===c.dataTypes[0]||l||m)return f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Pb,"$1"+f):m?c.data=i.replace(Pb,"$1"+f):k&&(c.url+=(Ob.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Nb.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Rb,Sb=!!a.ActiveXObject&&function(){for(var a in Rb)Rb[a](0,1)},Tb=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Sb&&delete Rb[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Tb,Sb&&(Rb||(Rb={},$(a).unload(Sb)),Rb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Ub,Vb,Wb=/^(?:toggle|show|hide)$/,Xb=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Yb=/queueHooks$/,Zb=[J],$b={"*":[function(a,b){var c,d,e,f=this.createTween(a,b),g=Xb.exec(b),h=f.cur(),i=+h||0,j=1;if(g){if(c=+g[2],d=g[3]||($.cssNumber[a]?"":"px"),"px"!==d&&i){i=$.css(f.elem,a,!0)||c||1;do e=j=j||".5",i/=j,$.style(f.elem,a,i+d),j=f.cur()/h;while(1!==j&&j!==e)}f.unit=d,f.start=i,f.end=g[1]?i+(g[1]+1)*c:c}return f}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],$b[c]=$b[c]||[],$b[c].unshift(b)},prefilter:function(a,b){b?Zb.unshift(a):Zb.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration),this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Yb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){for(var a,b=$.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||$.fx.stop()},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Vb&&(Vb=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Vb),Vb=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var _b=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j,k,l,m=this[0],n=m&&m.ownerDocument;if(n)return(e=n.body)===m?$.offset.bodyOffset(m):(d=n.documentElement,$.contains(d,m)?(c=m.getBoundingClientRect(),f=M(n),g=d.clientTop||e.clientTop||0,h=d.clientLeft||e.clientLeft||0,i=f.pageYOffset||d.scrollTop,j=f.pageXOffset||d.scrollLeft,k=c.top+i-g,l=c.left+j-h,{top:k,left:l}):{top:0,left:0})},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=_b.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!_b.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g)}})}),a.jQuery=a.$=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),!function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b=b&&c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),delete g.messages,f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",
dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in c||!b.objectLength(a(this).rules()))&&(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),"dependency-mismatch"===c){e=!0;continue}if(e=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+h.method+"' method.",i),i}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b),e=d[0].getAttribute("type");for(var f in a.validator.methods){var g;"required"===f?(g=d.get(0).getAttribute(f),""===g&&(g=!0),g=!!g):g=d.attr(f),/min|max/.test(f)&&(null===e||/number|range|text/.test(e))&&(g=Number(g)),g?c[f]=g:e===f&&"range"!==e&&(c[f]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule-"+c.toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments),b[f]):c.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),function(a){"use strict";function b(){}function c(a,b){for(var c in a)b[c]=a[c]}a.LSBaseClass||(a.LSBaseClass=b,b.prototype.version="0.0.1",b.extend=function(a,b){var d=a.prototype;return a.prototype=new b,a.prototype.constructor=a,a.prototype.__base=a.prototype,c(d,a.prototype),a},b.driver=function(a){b.extend(a,this)},b.prototype.exports=function(a,b){if(null==a)throw new Error("clouser 不能为null");if(!Lsmain.type.isObject(a))throw new Error("clouser 必须为对象类型");return function(){var c=Lsmain.utils.argumentArray(arguments);return Lsmain.utils.apply(a,a[b],c)}},b.prototype.wraps=function(a,b){var c=Lsmain.type;if(!c.isObject2(a))throw new Error("内部对象inner,并且为object类型");b=1==arguments.length?Lsmain.utils.ofKeys(a,"Function"):Lsmain.utils.ensureArray(b);for(var d=this,e=null,f=0,g=b.length;f<g;f++){if(e=b[f],!c.isString(e))throw new Error(e+" 不是一个方法名称");d[e]=this.exports(a,e)}})}(window),function(a){"use strict";if(!a.Lsmain){var b=function(){};a.LSBaseClass.driver(b),a.Lsmain=a.LSApplication=new b,a.Lsmain.schemaUrl=function(a){return(a||"").replace(/(https:|http:)/,"")},b.prototype.BaseClass=LSBaseClass}}(window),function(a,b,c){"use strict";function d(){}b.driver(d),a.type=new d,d.prototype.isType=function(a,b){return Object.prototype.toString.call(a)=="[object "+b+"]"},d.prototype.getTypeNameOfObj=function(a){return Object.prototype.toString.call(a).replace("[object ","").replace("]","")},d.prototype.isClass=function(a,b){return this.isObject(a)?a instanceof b:!!this.isFunction(a)&&a.prototype instanceof b},d.prototype.isArray=function(a){return this.isType(a,"Array")},d.prototype.isFunction=function(a){return this.isType(a,"Function")},d.prototype.isObject=function(a){return this.isType(a,"Object")},d.prototype.isBoolean=function(a){return this.isType(a,"Boolean")},d.prototype.isDate=function(a){return this.isType(a,"Date")},d.prototype.isString=function(a){return this.isType(a,"String")},d.prototype.isNumber=function(a){return this.isType(a,"Number")},d.prototype.isObject2=function(a){return null!=a&&this.isObject(a)}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}b.driver(d),a.string=new d,d.prototype.ensure=function(a,b){return this.isString(a)?this.isNullOrWhiteSpace(a)?b:a:b},d.prototype.format=function(b,c,d,e){if(!a.type.isString(b))return b;var f=Array.prototype.slice.call(arguments,1);return b=b.replace(/\{\d+\}/g,function(a){var b=f[a.slice(1,a.length-1)];return null==b?a:b})},d.prototype.format2=function(a,b){return a&&(b=b||[],a=a.replace(/\{\d+\}/g,function(a){var c=b[a.slice(1,a.length-1)];return null==c?a:c})),a},d.prototype.startsWith=function(a,b,c){return!this.isNullOrEmpty(a)&&!this.isNullOrEmpty(b)&&(c?a.substring(0,b.length).toLowerCase()===b.toLowerCase():a.substring(0,b.length)===b)},d.prototype.endsWith=function(a,b,c){return!this.isNullOrEmpty(a)&&!this.isNullOrEmpty(b)&&(c?a.substring(a.length-b.length).toLowerCase()===b.toLowerCase():a.substring(a.length-b.length)===b)},d.prototype.trim=function(a){return a?this.trimRight(this.trimLeft(a)):""},d.prototype.trimAll=function(a){return a?a.replace(/\s+/g,""):""},d.prototype.trimLeft=function(a){return a?a.replace(/^\s+/g,""):""},d.prototype.trimRight=function(a){return a?a.replace(/\s%/g,""):""},d.prototype.trimStart=function(a,b,c){return this.startsWith(a,b,c)?a.substring(b.length):a},d.prototype.trimEnd=function(a,b,c){return this.endsWith(a,b,c)?a.substring(0,a.length-b.length):a},d.prototype.isNullOrEmpty=function(a){return!(null!==a&&""!==a&&void 0!==a)},d.prototype.isNullOrEmptyAny=function(b,c,d){var e=a.utils.argumentArray(arguments);return this.isNullOrEmptyArrayOne(e)},d.prototype.isNullOrEmptyArrayOne=function(b){var c=this,d=a.array.filter(b,function(a){return c.isNullOrEmpty(a)});return d.length>0},d.prototype.isNullOrWhiteSpace=function(a){return!!this.isNullOrEmpty(a)||""===this.trimAll(a.toString())},d.prototype.isNullOrWhiteSpaceAny=function(b,c,d){var e=a.utils.argumentArray(arguments);return this.isNullOrWhiteSpaceArrayOne(e)},d.prototype.isNullOrWhiteSpaceArrayOne=function(b){var c=this,d=a.array.filter(b,function(a){return c.isNullOrWhiteSpace(a)});return d.length>0},d.prototype.equals=function(a,b,c){return c===!0?(a||"").toString().toLowerCase()===(b||"").toString().toLowerCase():a===b},d.prototype.undef=function(a,b){return this.isNullOrWhiteSpace(a)?b:a},d.prototype.isString=function(a){return"[object String]"===Object.prototype.toString.apply(a)},d.prototype.padLeft=function(a,b){return a=(a||"").toString(),a.length<b?this.padLeft("0"+a,b):a},d.prototype.replace=function(a,b,c){if(a=(a||"").toString(),this.isNullOrWhiteSpace(b))return a;if(a=a.replace(b,c),b!==c)for(;a.indexOf(b)>-1;)a=a.replace(b,c);return a},d.prototype.replaces=function(b,c){c=a.utils.ensureArray(c);for(var d=null,e=0,f=c.length;e<f;e++)d=c[e],b=this.replace(b,d.req,d.after);return b},d.prototype.ensureEndWiths=function(a,b){return a=a||"",this.endsWith(a,b)||(a+=b),a}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){return!g.isNullOrWhiteSpace(a)}b.driver(d),a.array=new d;var f=a.type,g=a.string;d.prototype.ensureArray=function(a){return f.isArray(a)?a:null!=a?[a]:[]},d.prototype.mapDictionary=function(a,b,c){a=this.ensureArray(a);for(var d={},e=null,h=null,i=0,j=a.length;i<j;i++)h=a[i],e=h[b],g.isNullOrWhiteSpace(c)?d[e]=h:f.isFunction(c)?c(h)&&(d[e]=h):c==e&&(d[e]=h);return d},d.prototype.mapDictionary2=function(a,b,c,d){a=this.ensureArray(a);for(var e,h={},i=null,j=null,k=0,l=a.length;k<l;k++)j=a[k],i=j[b],e=j[c],g.isNullOrWhiteSpace(d)?h[i]=e:f.isFunction(d)?d(j)&&(h[i]=e):d==i&&(h[i]=e);return h},d.prototype.arrayJoin=function(a,b,c){return this.valuesArray(a,b).join(c)},d.prototype.valuesArray=function(a,b,c,d){a=this.ensureArray(a);for(var e=[],f=null,h=0,i=a.length;h<i;h++)f=a[h][b],!d&&g.isNullOrEmpty(f)||c&&e.indexOf(f)>-1||e.push(f);return e},d.prototype.each=function(a,b){if(a=this.ensureArray(a),a.length>500)return this.blockEach(a,b);for(var c=0,d=a.length;c<d&&b(a[c],c)!==!1;c++);},d.prototype.blockEach=function(a,b){if(f.isFunction(b)){a=this.ensureArray(a);var c=a.length,d=Math.floor(c/8),e=c%8,g=0;if(e>0)do b(a[g++],g);while(--e>0);for(var h=!1,i=function(a,c){h||(h=b(a,c-1)===!1)};d>0&&(i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),!h);)d--;b=null}},d.prototype.indexOf=function(a,b){var c=-1;return a=this.ensureArray(a),a.indexOf?c=a.indexOf(b):this.each(a,function(a,d){if(a==b)return c=d,!1}),c},d.prototype.contains=function(a,b){return this.indexOf(a,b)>-1},d.prototype.filter=function(a,b){var c=[];return a=this.ensureArray(a),a.filter?c=a.filter(b):this.each(a,function(d,e){b.call(a,d,e)===!0&&c.push(d)}),c},d.prototype.filterEmpty=function(a){return this.filter(a,e)},d.prototype.arrayQuerySplice=function(a,b){a=this.ensureArray(a);var c=[],d=[];return this.each(a,function(a){b(a)?d.push(a):c.push(a)}),a.length=0,a.push.apply(a,c),d},d.prototype.isEmptyArray=function(b){return!a.type.isArray(b)||b.length<1},d.prototype.sumOf=function(a,b){for(var c=this.valuesArray(a,b,!1,!1),d=0,e=0,f=c.length;e<f;e++)d+=Number(c[e]);return d},d.prototype.productOf=function(a,b){for(var c=this.valuesArray(a,b,!1,!1),d=1,e=0,f=c.length;e<f;e++)d*=Number(c[e]);return d}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a,b,c,d,e,f,g,h,i){var j={"M+":c,"d+":d,"h+":e,"m+":f,"s+":g,"q+":i,S:h};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(b+"").substr(4-RegExp.$1.length)));for(var k in j)new RegExp("("+k+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?j[k]:("00"+j[k]).substr((""+j[k]).length)));return a}var f=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];b.driver(d),a.date=new d;var g=a.type;d.prototype.parse=function(a){g.isString(a)||(a=a.toString());var b=a.substring(0,4),c=a.substring(4,6),d=a.substring(6);return this.convert(b+"-"+c+"-"+d)},d.prototype.format=function(a,b){a=this.convert(a);var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1===RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b},d.prototype.isDate=function(a){return g.isDate(a)},d.prototype.convert=function(a){if(this.isDate(a))return a;if(g.isString(a)&&isNaN(a)){a=a.replace(/-/g,"/");var b=a.match(/(\d+)+/g);return new Date(b[0],parseInt(b[1])-1,b[2]||"",b[3]||"",b[4]||"",b[5]||"",b[6]||"")}return new Date(Number(a))},d.prototype.diff=function(a,b,c){a=this.convert(a),b=this.convert(b);var d=0;switch(c){case"ss":d=b.getTime()-a.getTime();break;case"s":d=(b.getTime()-a.getTime())/1e3;break;case"mi":d=(b.getTime()-a.getTime())/6e4;break;case"h":d=(b.getTime()-a.getTime())/36e5;break;case"d":d=(b.getTime()-a.getTime())/864e5;break;case"m":d=b.getMonth()+1+12*(b.getFullYear()-a.getFullYear())-(a.getMonth()+1);break;case"y":d=b.getFullYear()-a.getFullYear();break;default:d=0}return parseInt(d)},d.prototype.dateAdd=function(a,b,c){switch(a=this.convert(a),c){case"ss":return new Date(a.getTime()+b);case"s":return new Date(a.getTime()+1e3*b);case"mi":return new Date(a.getTime()+6e4*b);case"h":return new Date(a.getTime()+36e5*b);case"d":return new Date(a.getTime()+864e5*b);case"m":return new Date(a.getFullYear(),a.getMonth()+b,a.getDate(),a.getHours(),a.getSeconds(),a.getMilliseconds());case"y":return new Date(a.getFullYear()+b,a.getMonth(),a.getDate(),a.getHours(),a.getSeconds(),a.getMilliseconds());default:return a}},d.prototype.addMilliseconds=function(a,b){return this.dateAdd(a,b,"ss")},d.prototype.addSeconds=function(a,b){return this.dateAdd(a,b,"s")},d.prototype.addMinutes=function(a,b){return this.dateAdd(a,b,"mi")},d.prototype.addHours=function(a,b){return this.dateAdd(a,b,"h")},d.prototype.addDays=function(a,b){return this.dateAdd(a,b,"d")},d.prototype.addMonths=function(a,b){return this.dateAdd(a,b,"m")},d.prototype.addYears=function(a,b){return this.dateAdd(a,b,"y")},d.prototype.maxDayOfMonth=function(a){a=this.convert(a);var b=this.addMonths(a,1);return this.diff(a,b,"d")},d.prototype.dayOfWeek=function(a){return a=this.convert(a),f[a.getDay()]},d.prototype.clone=function(a){return a=this.convert(a),new Date(a.getTime())},d.prototype.datePart=function(a,b){switch(a=this.convert(a),b){case"ss":return a.getMilliseconds();case"s":return a.getSeconds();case"mi":return a.getMinutes();case"h":return a.getHours();case"d":return a.getDate();case"m":return a.getMonth()+1;case"y":return a.getFullYear();case"w":return a.getDay();default:return null}},d.prototype.daysInYear=function(a){a=this.convert(a);var b=new Date(a.getFullYear(),0,0,0,0,0);return this.diff(b,a,"d")},d.prototype.weeksInYears=function(a){a=this.convert(a);var b=new Date(a.getFullYear(),0,0,0,0,0),c=b.getDay();c=0===c?7:c,b=this.addDays(b,7-c);var d=this.diff(b,a,"d"),e=parseInt(d/7);return d%7!==0&&(e+=1),e+1},d.prototype.toUnixTimeStamp=function(a){return a=this.convert(a),Math.round(a.getTime()/1e3)},d.prototype.unixTimeStampToDate=function(b){var c=a.utils.ensureDecimal(b);return new Date(1e3*c)},d.prototype.countHour=function(a){var b=parseInt(a/1e3/60/60,10),c=parseInt(a/1e3/60%60,10),d=parseInt(a/1e3%60);return e("hh:mm:ss",0,0,0,b,c,d,0,0)},d.prototype.countDays=function(a){var b=parseInt(a/1e3/60/60/24,10),c=parseInt(a/1e3/60/60%24,10),d=parseInt(a/1e3/60%60,10),f=parseInt(a/1e3%60);return e("dd天hh:mm:ss",0,0,b,c,d,f,0,0)}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(){}function e(a,b){return null!=a&&null!=b&&a==b}b.driver(d),a.utils=new d;var f=a.type,g=a.string,h=a.array;d.prototype.ifn=function(a,b){if(null===a||void 0===a)return b;if("string"==typeof a){var c=""===a||""===a.replace(/\s/g,"");return c?b:a}return a},d.prototype.undef=function(a,b){return null===a||void 0===a?b:a},d.prototype.log=function(a,b,c,d){},d.prototype.argumentArray=function(a,b,c){return(a&&void 0===c||null===c)&&(c=a.length),Array.prototype.slice.call(a,b,c)},d.prototype.ensureArray=function(a){return h.ensureArray(a)},d.prototype.ensureDecimal=function(a,b){return isNaN(a)||null===a||""===a?this.ensureDecimal(b,0):f.isNumber(a)?a:Number(a)},d.prototype.mul=function(a,b,c){for(var d=1,e=!1,f=Array.prototype.splice.call(arguments,0,arguments.length),g=0,h=f.length;g<h;g++)d*=this.ensureDecimal(f[g],1),e=!0;return e||(d=0),d},d.prototype.smartCallback=function(a){return a[a.length-1]},d.prototype.getKeys=function(a,b){if(Object.keys)return Object.keys(a);var c=[];for(var d in a)c.push(d);return c},d.prototype.ofKeys=function(b,c){var d=[],e=a.type;for(var f in b)e.isType(b[f],c)&&d.push(f);return d},d.prototype.call=function(a,b,c,d){if(f.isFunction(b)&&a){var e=Array.prototype.splice.call(arguments,2,arguments.length),g=b.apply(a,e);return e=a=b=c=d=null,g}},d.prototype.apply=function(a,b,c){if(f.isFunction(b)&&a){var d=b.apply(a,c);return a=b=null,d}},d.prototype.getCall=function(a,b,c){if("function"!=typeof b)throw new Error("handler must be a function !");var d=function(){a=a||this;var d=Array.prototype.slice.call(arguments,0);d.push(c),a.___caller=this;var e=b.apply(a,d);return a===window?window.___caller=null:delete a.___caller,e};return d},d.prototype.getOnceCall=function(a,b,c){if("function"!=typeof b)throw new Error("handler must be a function !");var d=!1,e=function(){if(d===!0)return void(b=null);d=!0,a=a||window;var e=Array.prototype.slice.call(arguments,0);return e.push(c),b.apply(a,e)};return e},d.prototype.valuesObject=function(a,b){var c=[];if(a&&b){b=this.ensureArray(b);for(var d=0,e=b.length;d<e;d++)c.push(a[b[d]])}return c},d.prototype.htmlEncode=function(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML},d.prototype.htmlDecode=function(a){var b=document.createElement("div");return b.innerHTML=a,b.innerText||b.textContent},d.prototype.classify=function(a,b,c,d,e,f){e=null==e||e,d=this.undef(d,"children");var g,i,j=null,k=null,l={},m=null,n=this;return h.each(a,function(a,e){g=a[b],i=a[c],j=l[g],null==j&&(k=j=l[g]={},k[d]=[],j[c]=g),n.call(this,f,a),m=j[d],m.push(a),a.parent=j,l[i]?a[d]=l[i][d]:(l[i]=a,a[d]=[])}),h.each(a,function(a){"parent"in a&&(delete l[a[c]],e&&delete a.parent)}),l},d.prototype.override=function(a,b,c){a=this.undef(a,{}),b=this.undef(b,{});for(var d,e=this.getKeys(b),g=null,h=0,i=e.length;h<i;h++)g=e[h],d=this.undef(b[g],a[g]),c&&f.isFunction(d)||(a[g]=d);return a},d.prototype.combineURL=function(a,b){return g.format("{0}/{1}",g.trimEnd(a,"/"),g.trimStart(b,"/"))},d.prototype.getStack=function(a){if(a=a||{message:""},a.stack)return a.stack;var b=[a.message],c=arguments.callee;if(c)for(var d=c.caller;d;)b.push("at "+d.toString().split("\n")[0]),d=d.caller;return b.join("\n")},d.prototype.objectPropEqual=function(a,b,c,d){if(null==c)throw new Error("originProp 不能为null");return!(null==a||null==b||!f.isObject(a)||!f.isObject(b))&&(d=3==arguments.length?c:d,
e(a[c],b[d]))},d.prototype.logicOf=function(a,b,c){var d=!1;switch(c){case"=":d=a==b;break;case"!=":d=a!=b;break;case">":d=a>b;break;case"<":d=a<b;break;case">=":d=a>=b;break;case"<=":d=a<=b}return d}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(){e.apply(this,arguments)}function e(b){if(this.__cookies={},null!=b){var c=null;c=a.type.isString(b)?b:b.cookie,c=c||"";for(var d=null,e=null,g=null,h=c.split(";"),i={},j=0,k=h.length;j<k;j++)d=h[j].split("="),e=a.string.trim(d.shift()),g=decodeURI(f(d.join("="))),i[e.toLowerCase()]=g,a.string.isNullOrWhiteSpace(g)||(this[e]=g);this.__cookies=i||{}}}function f(b){return b=a.string.trimStart(b,'"'),b=a.string.trimEnd(b,'"')}a.CookieParser=d,d.prototype.getCookie=function(a){return a=(a||"").toString().toLowerCase(),this.__cookies[a]},d.prototype.removeCookie=function(a,b){this.setCookie(a,"",-1,b)},d.prototype.setCookie=function(b,c,d,e){a.string.isNullOrWhiteSpace(b)||(a.type.isDate(d)&&(d=d.toGMTString()),b=a.string.trim(b),window.document.cookie=a.string.format("{0}={1};expires={2};path={3}",b,encodeURI(c),d,e||""),this[b]=c,this.__cookies[b.toLowerCase()]=c)},d.prototype.parse=function(a){InitParser.apply(this,a)},d.cookieKeyValues=function(b){b=a.array.ensureArray(b);for(var c=[],d=null,e=0,f=b.length;e<f;e++)d=b[e],c.push(d.split(";")[0]);return c}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){i.apply(this,arguments)}function e(a,b){return a&&l.isObject(a)?a[b]:a}function f(a,b){return function(c){return b(c,a)}}function g(b,c){1==arguments.length&&(c=b);var d=a.type,e=function(a,e){return!(null==a||null==e||!d.isObject(a)||!d.isObject(e))&&h(a[b],e[c])};return e}function h(a,b){return null!=a&&null!=b&&a==b}function i(b){a.type.isClass(b,d)&&(b=b.items),this.items=k.ensureArray(b)}b.driver(d),a.List=d;var j=a.utils,k=a.array,l=a.type;d.prototype.items=null,d.prototype.addOnly=function(a){this.contains(a)||this.add(a)},d.prototype.add=function(a){this.items.push(a)},d.prototype.addRange=function(b){a.type.isClass(b,d)&&(b=b.items),b=k.ensureArray(b),this.items.push.apply(this.items,b)},d.prototype.each=function(a){return k.each(this.items,a)},d.prototype.contains=function(a){return this.indexOf(a)>-1},d.prototype.includes=function(b,c){var e,h=null,i=null;if(null==c)throw new Error("必须填写比较器,可以是属性名称(例如:id)或者属性对(例如 id:name)或者属性比较器(例如:function(a,b){ return a.id==b.id}");if(a.type.isClass(b,d))h=b.items;else{if(!a.type.isArray(b))return!1;h=b}if(a.type.isFunction(c))i=c;else if(c.toString().indexOf(":")>-1){var j=c.toString().split(":");i=g(j[0],j[1])}else i=g(c.toString());e=h.length>0&&this.size()>0;for(var k=0,l=h.length;k<l;k++)if(this.query(f(h[k],i)).length<1){e=!1;break}return e},d.prototype.slice=function(a,b){return this.items.slice(a,b)},d.prototype.size=function(){return this.items.length},d.prototype.item=function(a){return this.items[a]},d.prototype.splice=function(a,b){return this.items.splice(a,b)},d.prototype.remove=function(a){if(l.isFunction(a))return k.arrayQuerySplice(this.items,a);if(isNaN(a))throw new Error("indexOrHandler only be a number or function");this.items.splice(a,1)},d.prototype.removeItem=function(a){return k.arrayQuerySplice(this.items,function(b){return b==a})},d.prototype.query=function(a){return k.filter(this.items,a)},d.prototype.queryOf=function(a,b,c){return c=j.ifn(c,"="),this.query(function(d){return j.logicOf(e(d,a),b,c)})},d.prototype.queryItem=function(a,b){return b=j.ifn(b,"="),this.query(function(c){return j.logicOf(c,a,b)})},d.prototype.isEmpty=function(){return this.count()<1},d.prototype.indexOf=function(a){return k.indexOf(this.items,a)},d.prototype.queryByValues=function(a,b){return b=k.ensureArray(b),this.query(function(c){return k.contains(b,e(c,a))})},d.prototype.queryByArray=function(a,b){b=k.ensureArray(b);var c=k.valuesArray(b,a);return this.queryByValues(a,c)},d.prototype.toString=function(){var a=this.items||[];return a.toString()},d.prototype.sumOf=function(a){return k.sumOf(this.items,a)},d.prototype.productOf=function(a){return k.productOf(this.items,a)},d.prototype.count=function(){return this.items.length},d.prototype.get=function(a){return this.items[a]},d.prototype.isEmpty=function(){return this.count()<1},d.prototype.pop=function(){return Array.prototype.pop.apply(this.items,arguments)},d.prototype.shift=function(){return Array.prototype.shift.apply(this.items,arguments)},d.prototype.clear=function(){this.items.length=0}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){if(a){var b=a(navigator.userAgent||"")||{};this.matched=b.matched,this.version=b.version,this.name=b.name}}function f(a,b){s&&(b=null);var c=new e(b);c.matched&&(s=c),d.prototype[a]=function(a,b){return 1==arguments.length?(b=a,c.matched&&b===c.version):arguments.length>1?c.matched&&m(b,c.version,a):c.matched}}function g(a){var b=a.match(/MSIE\s(\d+\.\d+)/);return null===b&&(b=a.match(/rv:(\d+\.\d+)/)),l("MSIE",b)}function h(a){return l("Firefox",a.match(/Firefox\/(\d+(\.|\d)+)/))}function i(a){return l("Opera",a.match(/OPR\/(\d+(\.|\d)+)/))}function j(a){return l("Safari",a.match(/Safari\/(\d+(\.|\d)+)/))}function k(a){return l("Chrome",a.match(/Chrome\/(\d+(\.|\d)+)/))}function l(a,b){var c=null!==b?b[1]:null;return{version:c,name:a,matched:null!==b}}function m(b,c,d){b=a.utils.ensureDecimal(b,-99),c=a.utils.ensureDecimal(c,-100),d=a.utils.undef(d,"==");var e=!1;switch(d){case">":e=c>b;break;case"<":e=c<b;break;case">=":e=c>=b;break;case"<=":e=c<=b;break;default:e=c===b}return e}function n(){var a=navigator.userAgent,b=a.match(/(iPad).*OS\s([\d_]+)/);return b?{name:"ipad",title:"平板"}:a.match(/AppleWebKit.*Mobile.*/)?{name:"phone",title:"手机"}:{name:"pc",title:"电脑"}}function o(){var a=navigator.userAgent;return a.match(/AppleWebKit.*Mobile.*/)?a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"ios":a.indexOf("Android")>-1?"android":"other":"pc"}function p(){var a=navigator.userAgent,b=(a.split(";")[0]||"").split("(")[1],c=null;return c=a.match(/AppleWebKit.*Mobile.*/)?a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?{name:"ios",version:b,type:"ios"}:a.indexOf("Android")>-1?{name:"android",version:b,type:"android"}:{name:"other",version:b,type:"other"}:q(b),c.device=n(),c}function q(a){var b=navigator.platform;return"Win32"==b||"Windows"==b?{name:r(a),version:a,type:"windows"}:"Mac68K"==b||"Macintosh"==b||"MacPPC"==b?{name:"Mac",version:a,type:"mac"}:"X11"==b?{name:"Unix",version:a,type:"unix"}:"Linux"==b?{name:"Linux",version:a,type:"linux"}:{name:b,version:a,type:b}}function r(a){return a.indexOf("Windows NT 5.0")>-1||a.indexOf("Windows 2000")>-1?"Win2000":a.indexOf("Windows NT 5.1")>-1||a.indexOf("Windows XP")>-1?"WinXP":a.indexOf("Windows NT 5.2")>-1||a.indexOf("Windows 2003")>-1?"Win2003":a.indexOf("Windows NT 6.0")>-1||a.indexOf("Windows Vista")>-1?"WinVista":a.indexOf("Windows NT 6.1")>-1||a.indexOf("Windows 7")>-1?"Win7":a.indexOf("Windows NT 6.2")>-1||a.indexOf("Windows 8")>-1?"win8":a.indexOf("Windows NT 6.3")>-1||a.indexOf("Windows 8.1")>-1?"win8.1":a.indexOf("Windows NT 6.4")||a.indexOf("Windows NT 10.0")>-1||a.indexOf("Windows 10")>-1?"win10":a}b.driver(d),a.browser=new d,e.prototype.name=null,e.prototype.version=null,e.prototype.matched=!1;var s=null;d.prototype.getCurrent=function(){return s?{name:s.name,version:s.version,equipment:o(),os:p()}:{name:"unknow",version:"nuknow",equipment:"unknow"}},d.prototype.getClassName=function(){var a=this.getCurrent(),b=[];return b.push(a.name),b.push(a.name+"_"+parseInt(a.version)),b.push(a.name+"_"+(a.version||"").replace(/\./g,"_")),b.join(" ").toLowerCase()},d.prototype.mobile=function(a){return 0===arguments.length?navigator.userAgent.match(/AppleWebKit.*Mobile.*/):o()===a},d.prototype.os=function(a){return 1===arguments.length?p().type==a:p()},f("firefox",h),f("ie",g),f("opera",i),f("chrome",k),f("safari",j)}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){this.regHandlers={}}b.driver(d),a.EventEmitterClass=d;var e=(a.utils,a.array),f=a.type;d.prototype.once=function(b,c){if(!a.string.isNullOrWhiteSpace(b)&&a.type.isFunction(c)){var d=this,e=function(){e.called?(d.off(b,e),c=b=d=e=null):(e.called=!0,c.apply(this,arguments))};this.on(b,e)}},d.prototype.on=function(a,b){if(null!==a&&""!==a){var c=this.getListeners(a);"function"==typeof b&&c.push(b)}},d.prototype.off=function(a,b){var c=this.getListeners(a);1===arguments.length?c.length=0:e.arrayQuerySplice(c,function(a){return a===b})},d.prototype.destroy=function(){var a=this.regHandlers||{};for(var b in a)f.isArray(a[b])?a[b].length=0:a[b]=null},d.prototype.getListeners=function(a){if(null===a||""===a)return[];var b=this.regHandlers[a];return null==b&&(b=this.regHandlers[a]=[]),b},d.prototype.emit=function(a,b,c){var d=this.getListeners(a),f=Array.prototype.slice.call(arguments,1),g=null;return e.each(d,function(a){return"function"==typeof a&&(g=a.apply(window,f)),g}),g}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a){function b(a){B.ResourceManager.getInstance().baseUrl=a}function c(a,b){if(C=C||[],w(a))C.push(a);else{var c=new B.JsResource(a,Angel.author);B.ResourceManager.getInstance().parseJsReferences(b,!0,c),C.push(c)}}function d(a){if(C=C||[],C.length<=0)m(a,Angel),e();else{y(a)&&E.push(a);var b=new B.JsResource("","usings");b.setReferences2(C),b.addCall(e),b.go()}}function e(){B.ResourceManager.getInstance().isCompleted()&&f()}function f(){for(var a=E.length-1;a>-1;a--)m(E[a],Angel);E=[];for(var b=0,c=D.length;b<c;b++)m(D[b],window);D=[]}function g(a,b){if(b===!0){var c=k();if(y(a)){var d=c;a.prototype=new d,a.prototype.constructor=a}return c}return a}function h(a,b,c,d){if(a===!0){var e=b||c,f=e,g=new f;null!=d&&c&&c.apply(g,d),b.getInstance=function(){return g}}}function i(a){"function"==typeof a.ClassInit&&a.ClassInit()}function j(){}function k(){return function(){if(this.constructor.getInstance)return this.constructor.getInstance()}}function l(a,b){if(null!=b&&y(a)&&(w(b)&&(b=t(u(),b)),y(b))){var c=b,d=a.prototype=new c;p(d,o(d)),d.constructor=a}}function m(a,b,c,d){if(y(a)){var e=x(b)?b:this,f=[];return f.push.apply(f,arguments),f.shift(),f.shift(),a.apply(e,f)}}function n(a,b){var c=null;if(a){var d=a.constructor!=Object;if(v(a)){c=[];for(var e=0,f=a.length;e<f;e++)c.push(n(a[e]))}else if(x(a)){c=new a.constructor;var g=null;for(var h in a)g=a[h],y(g)&&d||(x(g)?c[h]=b===!0?n(g,b):g:c[h]=g)}else c=new a.constructor(a.valueOf())}return c}function o(a){var b=[];return r(a,b,function(a,b,c){(x(b)||v(b))&&c.push(a)}),b}function p(a,b){q(b,a,function(a,b,c){c[b]=n(c[b])})}function q(a,b,c){if(v(a)&&y(c)){for(var d=0,e=a.length;d<e&&c(d,a[d],b)!==!0;d++);c=a=null}}function r(a,b,c){if(x(a)&&y(c))for(var d in a)if(c(d,a[d],b)===!0)break}function s(a,b){for(var c=u(),d=(a||"").toString().split("."),e=d.pop(),f=d.shift();f;)c=t(c,f),f=d.shift();return y(b)?c[e]=b:t(c,e)}function t(a,b){var c=a[b];return y(c)||(c=a[b]=function(){}),c}function u(b){return Angel.Env||a}function v(a){return z(a,"Array")}function w(a){return z(a,"String")}function x(a){return z(a,"Object")}function y(a){return z(a,"Function")}function z(a,b){return Object.prototype.toString.call(a)=="[object "+b+"]"}function A(a){return!a||""===a.toString().replace(/\s/g,"")}function B(){}window.Angel={},window.ResourceUtility={},Angel.author="beven",Angel.version=1,Angel.Closure=B;var C=[],D=[],E=[];Angel.build=function(a,e,f,k,n,o,p){C=[],m(f,this,c,b),d(function(){var b=g(n,o);b=s(a,b),l(b,e),b.prototype.ClassInit=j,m(k,this,b.prototype),h(o,b,n,p),i(b.prototype),a=e=f=k=b=n=o=p=null})},Angel.using=function(a,b){B.ResourceManager.getInstance().loadJs(a,b)},Angel.loadResource=function(a,b){var c=a.join(","),d=B.ResourceManager.getInstance().createResource(c);d.addCall(b),d.go()},ResourceUtility.setBaseUrl=function(a){B.ResourceManager.getInstance().tmpBaseUrl=a},ResourceUtility.setTempBasePath=function(a){B.ResourceManager.getInstance().tmpBaseUrl=a},ResourceUtility.createResource=function(a,b,c){return B.ResourceManager.getInstance().createResource(a,b,c)},ResourceUtility.loadJs=function(a,b,c,d){B.ResourceManager.getInstance().loadJs(a,b,c,d)},ResourceUtility.loadCss=function(a,b,c){B.ResourceManager.getInstance().loadCss(a,b,c)},ResourceUtility.loadJs2=function(a,b){B.ResourceManager.getInstance().loadJsGroup(a,b)},ResourceUtility.loadCss2=function(a){B.ResourceManager.getInstance().loadCssGroup(a)},Angel.Env=B,Angel.build("ResourceManager",null,null,function(a){a.loadingUrls=[],a.completedUrls=[],a.version=null,a.baseUrl=null,a.tmpBaseUrl=null,a.isResourced=function(a){var b=new Lsmain.List(this.loadingUrls),c=new Lsmain.List(this.completedUrls),d=this,e=c.query(function(b){return d.equalUrl(a,b)}).length>0;return e||(e=b.query(function(b){return d.equalUrl(a,b)}).length>0),e},a.isCompleted=function(){return this.loadingUrls.length<=0},a.addCompletedSources=function(a){this.removeLoadingResource(a),this.isResourced(a)||this.completedUrls.push(a)},a.addLoadingResources=function(a){this.loadingUrls.push(a)},a.equalUrl=function(a,b){return a=(a||"").replace(/\s/g,"").toLowerCase(),b=(b||"").replace(/\s/g,"").toLowerCase(),a==b},a.removeLoadingResource=function(a){for(var b=this.loadingUrls,c=b.length-1,d=-1,e=c;e>=0;e--)if(this.equalUrl(a,b[e])){d=e;break}d>-1&&b.splice(d,1)},a.log=function(a){Angel.debug&&console&&console.log&&console.log(a)},a.loadJs=function(a,b,c,d){var e=new B.JsResource(a,Angel.author,d);e.addCall(b,c).go()},a.loadCss=function(a,b,c){var d=new B.CssResource(a,Angel.author);d.addCall(b,c).go()},a.loadJsGroup=function(a,b){if(x(a)&&!A(a.uRL)){var c=new B.JsResource(a.uRL,Angel.author,b);c.calls=a.calls,this.parseJsReferences(a.deps,b,c),c.go()}},a.loadCssGroup=function(a){if(x(a)&&!A(a.uRL)){var b=new B.CssResource(a.uRL,Angel.author);b.calls=a.calls,this.parseCssReferences(a.deps,async,b),b.go()}},a.parseJsReferences=function(a,b,c){var d=null;if(w(a)&&!A(a))c.setReference(new B.JsResource(a,Angel.author,b));else if(v(a))for(var e=0,f=a.length;e<f;e++)this.ParseReferences(a[e],b,c);else x(a)&&!A(a.uRL)&&(d=new B.JsResource(a.uRL,Angel.author,b),null==c?c=d:c.setReference(d),d.calls=a.calls,this.ParseReferences(a.deps,b,d));return c},a.parseCssReferences=function(a,b){var c=null;if(w(a)&&!A(a))b.setReference(new B.CssResource(a,Angel.author));else if(v(a))for(var d=0,e=a.length;d<e;d++)this.parseCssReferences(a[d],b);else x(a)&&!A(a.uRL)&&(c=new B.CssResource(a.uRL,Angel.author),null==b?b=c:b.setReference(c),c.calls=a.calls,this.parseCssReferences(a.deps,c));return b},a.createResource=function(a,b,c){if(a=(a||"").toString().replace(/\s/g,""),""===a)return new B.Resource;var d=a.lastIndexOf("."),e=a.lastIndexOf("?"),f=a.substring(d+1,e>-1?e:a.length);switch(f){case"js":return new B.JsResource(a,b||a,c);case"css":return new B.CssResource(a,b);default:return new B.Resource}}},null,!0,[]),Angel.build("Resource",null,null,function(a){a.name="",a.url="",a.sync=!0,a.getPosition=function(){var a=document.getElementsByTagName("head"),b=null;return a=a||[],b=a.length<0?document.body:a[0]},a.global=B.ResourceManager.getInstance(),a.referencer=null,a.completedReferences=[],a.references=[],a.calls=[{data:null,handler:null}],a.addCall=function(a,b){return"function"==typeof a&&this.calls.push({data:b,handler:a}),this},a.getPaths=function(){for(var a=this.global,b=this.url,c=[],d=b.split(","),e=null,f=1==d.length,g=this.isEmpty(a.tmpBaseUrl)?a.baseUrl:a.tmpBaseUrl,h=0,i=d.length;h<i;h++)e=d[h].replace(/\s/g,""),""!==e&&(0===e.indexOf("http://")||0===e.indexOf("https://")?c.push(e):c.push(f?this.combine(g,e):e));return c},a.cacheRender=function(){var a=this.global,b="";return Angel.debug?b="?v="+(new Date).getTime():this.isEmpty(a.version)||(b="?v="+a.version),b},a.combine=function(a,b){return a=(a||"").replace(/\\\\/g,"/"),b=(b||"").replace(/\\\\/g,"/"),"/"!=a[a.length-1]&&(a+="/"),"/"==b[0]&&(b=b.substr(1,b.length)),a+b},a.isEmpty=function(a){return!a||""===a.toString().replace(/\s/g,"")},a.go=function(){this.doOnStart(),this.references instanceof Array&&this.references.length>0?this.loadReferences():this.loadResource(),this.global.tmpBaseUrl=null},a.clearErrorReferences=function(){var a=this.references;if(a instanceof Array){for(var b=[],c=0,d=a.length;c<d;c++)a[c]instanceof this.constructor&&b.push(a[c]);this.references=b}},a.loadReferences=function(){for(var a=this.references,b=0,c=a.length;b<c;b++)a[b].go()},a.loadResource=function(){var a=this.global,b=this.getPaths();if(b.length>=2){var c=this.references=[];this.completedReferences=[];for(var d=null,e=0,f=b.length;e<f;e++)d=B.ResourceManager.getInstance().createResource(b[e]),d.referencer=this,c.push(d);this.url="",this.go()}else if(1==b.length){var g=b[0];a.isResourced(g)?this.doOnCompleted("(跳过)"+g):(this.global.log("开始加载资源:"+g),a.addLoadingResources(g),this.goResource(g,this.name,this.cacheRender()))}else this.doOnCompleted("")},a.goResource=function(a,b){},a.doOnStart=function(){},a.doOnCompleted=function(a){if(this.global.log("加载资源:"+a+"完毕"),this.global.addCompletedSources(a),null!=this.referencer){var b=this.referencer,c=b.completedReferences;c.push(this),c.length==b.references.length&&(b.references=null,b.completedReferences=null,b.loadResource())}this.doCalls(),null==this.referencer&&this.destroy()},a.doOnError=function(a){if(this.global.log("加载资源:"+a+"出现错误"),this.global.removeLoadingResource(a),null==this.referencer)this.destroy();else{var b=this.referencer,c=b.completedReferences;c.push(this),c.length==b.references.length&&(b.references=null,b.completedReferences=null,b.loadResource())}this.doCalls()},a.doCalls=function(){var a=this.calls;if(a)for(var b=null,c=0,d=a.length;c<d;c++)b=a[c],"function"==typeof b.handler&&b.handler(b.data)},a.destroy=function(){var a=this.references;if(a)for(var b=0,c=a.length;b<c;b++)a[b].destroy();delete this.calls,delete this.referencer,delete this.references,delete this.doOnStart,delete this.doOnCompleted,delete this.completedReferences},a.setReference=function(a){if(a instanceof this.constructor)a.referencer=this,this.references.push(a);else if("string"==typeof a&&""!==a.toString().replace(/\s/g,"")){var b=this.global.createResource(a,null,this.sync);this.setReference(b)}return this},a.setReferences=function(a,b){for(var c=(this.references,0),d=arguments.length;c<d;c++)this.setReference(arguments[0]);return this},a.setReferences2=function(a){this.references;if(a instanceof Array)for(var b=0,c=a.length;b<c;b++)this.setReference(a[b]);return this},a.init=function(){this.initParts.apply(this,arguments),this.myInit.apply(this,arguments)},a.initParts=function(){this.calls=[],this.completedReferences=[],this.references=[]},a.myInit=function(a,b,c){this.url=a,this.name=b,void 0!==c&&(this.sync=c)}}),Angel.build("JsResource","Resource",null,function(a){a.goResource=function(a,b,c){var d=this.getPosition(),e=document.createElement("script");e.type="text/javascript",e.name=b,e.async=this.sync,this.statusListener(e,a),e.src=a+c,d.appendChild(e)},a.statusListener=function(a,b){if(null!=a){var c=this;a.readyState?a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,c.doOnCompleted(b),c=b=null)}:a.onload=function(){this.onload=null,c.doOnCompleted(b),c=b=null},a.onerror=function(){this.onerror=null,c.doOnError(b),c=b=null}}}},function(a,b,c){this.init.apply(this,arguments)}),Angel.build("CssResource","Resource",null,function(a){a.goResource=function(a,b,c){var d=this.getPosition(),e=document.createElement("link");e.type="text/css",e.rel="stylesheet",this.statusListener(e,a),e.href=a+c,d.appendChild(e)},a.statusListener=function(a,b){if(null!=a){var c=this;a.readyState?a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,c.doOnCompleted(b),c=b=null)}:a.onload=function(){this.onload=null,c.doOnCompleted(b),c=b=null},a.onerror=function(){this.onerror=null,c.doOnError(b),c=b=null}}}},function(a,b){this.init.apply(this,arguments)}),Angel.Env=a,Angel.setBaseUrl=b,ResourceUtility.setBaseUrl=b}(window),function(a,b,c){"use strict";function d(){}function e(a,b,c){var d=q(a.css("top"),0);a.css({top:-100,opacity:0}),a.animate({top:d,opacity:1},b,"swing",c)}function f(a,b,c){var d=q(a.css("top"),0);a.animate({top:d+o(a),opacity:.5},b,"swing",function(){a.css({top:d}),c()})}function g(a,b,c){var d=q(a.css("left"),0),e=q(a.width(),200);a.css({left:e,opacity:.5}),a.animate({left:d,opacity:1},b,"swing",c)}function h(a,b,c){var d=q(a.css("left"),0),e=q(d-p(a),0);a.animate({left:e,opacity:.5},b,"swing",function(){a.css({left:d}),c()})}function i(a,b,c){var d=q(a.height(),0),e=q(a.css("top"),0);a.css({top:e+d,opacity:.5}),a.animate({top:e,opacity:1},b,"swing",c)}function j(a,b,c){var d=q(a.css("top"),0);a.animate({top:d-o(a),opacity:.5},b,"swing",function(){a.css({top:d}),c()})}function k(a,b,c){var d=q(a.css("left"),0),e=q(d-a.width(),30);a.css({left:e,opacity:.5}),a.animate({left:d,opacity:1},b,"swing",c)}function l(a,b,c){var d=q(a.css("left"),0);a.animate({left:d+p(a),opacity:.5},b,"swing",function(){a.css({left:d}),c()})}function m(a,b,c){var d=a.width(),e=a.height();a.css({width:d/2,height:e/2,opacity:.5}),a.animate({width:d,height:e,opacity:1},b,"swing",c)}function n(a,b,c){var d=a.width()/2,e=a.height()/2;a.animate({width:d,height:e,opacity:.5},b,"swing",c)}function o(a){var b=a.height();return b>150?b=150:b<0&&(b=30),b}function p(a){var b=a.width();return b>150?b=150:b<0&&(b=30),b}function q(a,b){return a=parseInt(a),b=isNaN(b)?0:b,isNaN(a)?b:a}function r(a,b,c,d){d=isNaN(d)?500:d,d=d<0?500:d;b.css("display",""),a(b,d,c)}b.driver(d);var s=a.originAnimation=new d,t=a.utils,u={};d.prototype.playAnimation=function(a,b,c,d){var e=u[b];"function"==typeof e?r(e,jQuery(a),c,d):t.call(this,c)},d.prototype.addAnimation=function(a,b){u[a]=b},d.prototype.getAnimations=function(){return a.utils.getKeys(u)},d.prototype.isOriginAnimation=function(a){var b=u[a];return"function"==typeof b},s.addAnimation("translateFromTop",e),s.addAnimation("translateToBottom",f),s.addAnimation("translateFromRight",g),s.addAnimation("translateToLeft",h),s.addAnimation("translateFromBottom",i),s.addAnimation("translateToTop",j),s.addAnimation("translateFromLeft",k),s.addAnimation("translateToRight",l),s.addAnimation("scaleUpFadeIn",m),s.addAnimation("scaleDownFadeOut",n)}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(a,b,c){return"function"!=typeof c.defaultResponseConfirm||c.defaultResponseConfirm(a,b.dataType)}function e(a){var b=this,c=arguments[arguments.length-1],d=!1,e=function(){return d=!0,{args:c.cloneArgs,next:function(a){f.call(b,a,c)}}};r.emit("success",a,e),d||f.call(b,a,c)}function f(a,b){this.doCall(i);var c=b.callback,e=b.defaultResult||p.extend({},p.defaultErrorResult);a=null==a?e:a;var f=Array.prototype.slice.call(arguments,1),g=d(a,b,this)?"ok":"error";c(a,g,f)}function g(a,b,c){r.emit("error",a,b,c),this.doCall(i);var d=arguments[arguments.length-1],e=d.callback,f=d.defaultResult||p.defaultErrorResult,g=Array.prototype.slice.call(arguments,0),h=p.extend({},f,{statusCode:a.status});e(h,"error",g)}function h(a,b){p.processLoading&&a&&this.doCall(this.showLoading,b),r.emit("starting")}function i(){this.doCall(this.closeLoading),r.emit("end")}function j(a){for(var b=null,c=null,d=0,e=s.length;d<e;d++)if(b=s[d],b.instance==a){c=b.name;break}return c}function k(a){if(t.indexOf)return t.indexOf(a)>-1;for(var b=!1,c=0,d=t.length;c<d;c++)if(t[c]==a){b=!0;break}return b}function l(a,b){a=a.toLowerCase();var c=j(this),d=k(a);return d?a:c+"_"+a}if(!c.ApiCenter){var m=function(){},n=null;b.driver(m);var o=Lsmain.utils,p=a.api=c.ApiCenter=new m,q=Lsmain.EventEmitterClass,r=new q,s=[],t=["starting","redirect","end","success","error","error-message","setup"],u=c.$;p.processLoading=!0,p.getApis=function(){return s},m.prototype.showLoading=function(a){},m.prototype.closeLoading=function(){},m.prototype.setBaseUri=function(a){n=a},m.prototype.defaultErrorResult={netwrok:"exception",status:-1,message:"接口异常"},m.prototype.defaultResponseConfirm=function(a){return!0},m.prototype.smartCallback=function(a){return a[a.length-1]},m.prototype.regist=function(a,b){if(p[a])throw new Error("exists a api instance of name"+a);b.prototype=new m,b.prototype.constructor=b,delete b.prototype.regist;var c=new b;return p[a]=c,s.push({name:a,instance:c}),c},m.prototype.on=function(a,b){if(""===this.ifn(a,""))throw new Error("event name cannot be null");a=l(a,this),r.on(a,b)},m.prototype.emit=function(a,b,c){var d=Array.prototype.slice.call(arguments,1);return d.unshift(l(a,this)),r.emit.apply(r,d)},m.prototype.extend=function(a,b,c){return u.extend.apply(u,Array.prototype.slice.call(arguments,0))},m.prototype.ifn=function(a,b){if(null==a)return b;if("string"==typeof a){var c=""===a||""===a.replace(/\s/g,"");return c?b:a}return a},m.prototype.getCall=function(a,b){return o.getCall(this,a,b)},m.prototype.doCall=function(a,b,c){var d=o.argumentArray(arguments);return d.unshift(this),o.call.apply(o,d)},m.prototype.getRequest=function(a,b,c,d,e){return this.request(a,b,"GET",c,d,e)},m.prototype.postRequest=function(a,b,c,d,e){return this.request(a,b,"POST",c,d,e)},m.prototype.request=function(b,c,d,f,i,j){i=i||{};var k=this,l={callback:null,api:this,cloneArgs:Array.prototype.slice.apply(arguments),defaultResult:j||this.defaultErrorResult},m=u.extend({},i);return c=r.emit("setup",c)||c,this.doCall(h,i.loading,i.message),m.url=this.getUri(b),m.dataType=this.ifn(i.dataType,f),m.type=this.ifn(d,"GET"),m.success=this.getCall(e,l),m.error=this.getCall(g,l),m.data=c,l.dataType=this.ifn(m.dataType,"json"),this.contentTypeRender(m),new a.Promise(function(a,b){l.callback=function(c,d){"error"==d?(b(c),r.emit("error-message",c)):a(c),k=null,l=null,m=null},u.ajax(m)})},m.prototype.getUri=function(a){return/^https:|http:|\/\//.test(a)?a:(n||"")+a},m.prototype.contentTypeRender=function(b){switch(a.string.trim(b.contentType)){case"application/json":a.type.isObject2(b.data)&&(b.data=JSON.stringify(b.data))}}}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){this.init()}function e(a,b){if(o){var c=document.createElement("div");c.className="customer-console-line "+b,a=(a||"").toString();var d=a.split("\n");a='<p class="">'+d.join("</p><p>")+"</p>",a=a.replace(/\s/g,"&nbsp;"),c.innerHTML=a,p.appendChild(c)}else m.push({message:a,cls:b})}function f(a){a=a||event,a.ctrlKey&&67==a.keyCode&&a.shiftKey&&("none"==o.style.display?o.style.display="":o.style.display="none")}function g(a){h(window,"load",a)}function h(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c):null==a["on"+b]&&(a["on"+b]=c)}function i(a){return l.format.apply(l,a)}b.driver(d);var j=a.utils,k=a.array,l=a.string,m=[],n=c.console,o=null,p=null;d.prototype.init=function(){null==n&&g(function(){o=document.createElement("div"),o.className="customer-console",o.style.display="none";var b=document.createElement("div");p=document.createElement("div"),b.className="customer-console-header",b.innerHTML="链尚网日志控制台",p.className="customer-console-content",o.appendChild(b),o.appendChild(p),document.body.appendChild(o),h(document,"keyup",f),a.UI.Scrollbar.register(p),k.each(m,function(a){e(a.message,a.cls)}),m.length=0}),this.debug=this.info=this.trace=this.log,this.initConsole()},d.prototype.initConsole=function(){null==n&&(c.console=this)},d.prototype.log=function(a,b,c){return a=i(j.argumentArray(arguments)),n?n.log(a):void e(a,"customer-console-log")},d.prototype.error=function(a,b,c){if(null!=a)return a=a.stack?a.stack:a.toString(),a=i(j.argumentArray(arguments)),n?n.error(a):void e(a,"customer-console-error")},a.console=new d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(){this.refresh()}function e(){var b=document.getElementById("f2eConfiguration");if(b){var c=a.string.trim(b.innerHTML.replace(/&quot;/g,'"').replace(/\n/g," ")),d=["return",a.string.trim(c),";"].join(""),e=Function,f=new e(d),g=f(),h=document.getElementById("localUrl");return h&&(g["f2e-framework.cdnUrl"]=h.value),g}return{}}var f=a.utils;d.prototype.refresh=function(){this.configurationData=e()},d.prototype.get=function(a,b){return f.ifn(this.configurationData[a],b)},d.prototype.urlJoin=function(a,b){return f.combineURL(this.get(a),b)},b.driver(d),a.F2eConfigration=d,a.config=new d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(){if(null==l){var a={webkit:"webkitAnimationEnd",o:"oAnimationEnd",ms:"MSAnimationEnd"};k=f(),l=a[k]||"animationend"}}function f(){var a=g(document.documentElement)||{},b={webkitAnimationName:"webkit",mozAnimationName:"moz",msAnimationName:"ms",oAnimationName:"o",animation:""},c="";for(var d in b)if(d in a){c=b[d];break}return c}function g(a){return window.getComputedStyle?window.getComputedStyle(a):a.currentStyle}function h(a,b){b=b||"";var c=(b[0]||"").toUpperCase(),d=b.substring(1),e=k+c+d,f=g(a);return f[e]||f[b]}if("undefined"==typeof a.AnimationMiddler){var i=a.utils;b.driver(d),a.animationMiddler=new d;var j=c.$,k=null,l=null;d.prototype.animation=function(b,c,d){if(this.supportCSS3Animation()){var e=this;b.style.display="none",this.addClass(b,c),this.onceAnimationed(b,function(){e.removeClass(b,c),i.call(window,d)}),this.redraw(b)}else b.style.display="",a.originAnimation.playAnimation(b,c,d,200)},d.prototype.animationInOut=function(b,c,d,e){if(this.supportCSS3Animation()){var f=this;b.style.display="none",d&&this.removeClass(b,d),this.addClass(b,c),this.onceAnimationed(b,function(){f.removeClass(b,c),i.call(window,e)}),this.redraw(b)}else a.originAnimation.playAnimation(b,c,e)},d.prototype.onceAnimationed=function(a,b){var c=parseFloat(h(a,"animationDelay")),d=parseFloat(h(a,"animationDuration")),e=!1,f=function(){e||(e=!0,i.call(window,b))},g=1e3*(c+d)+50;j?j(a).one(l,f):a.addEventListener&&a.addEventListener(l,f),setTimeout(f,g)},d.prototype.addClass=function(a,b){if(b=b||"",a&&a.classList){var c=null;b=b.split(" ");for(var d=0,e=b.length;d<e;d++)c=b[d],c&&a.classList.add(c)}},d.prototype.redraw=function(a){if(a){a.offsetHeight;a.style.display=""}},d.prototype.removeClass=function(a,b){if(b=b||"",a&&a.classList){var c=null;b=b.split(" ");for(var d=0,e=b.length;d<e;d++)c=b[d],c&&a.classList.remove(c)}},d.prototype.supportCSS3Animation=function(){var a=g(document.body||document.documentElement);k=k||"";var b=""===k?"animationDuration":k+"AnimationDuration";return b in a},e()}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){return function(b){f(b,this,a)}}function f(b,c,d){return b.preventDefault(),d=Number(d),d=isNaN(d)?60:d,c.scrollTop+=a.event.getWheelData(b)<=0?d:-d,!1}b.driver(d),a.event=new d,d.prototype.getOffsetX=function(a){if(a.offsetX)return a.offsetX;var b=evt.target||evt.srcElement;return a.clientX-b.getBoundingClientRect().left},d.prototype.getOffsetY=function(a){if(a.offsetY)return a.offsetY;var b=evt.target||evt.srcElement;return a.clientY-b.getBoundingClientRect().top},d.prototype.getTarget=function(a){return a.target||a.srcElement},d.prototype.stopParentHandler=function(a){a&&(a.cancelBubble=!0,a.stopPropagation())},d.prototype.nameOfMouseWheel=function(){return a.browser.firefox()?"DOMMouseScroll":"mousewheel"},d.prototype.getWheelData=function(a){var b=a.originalEvent;return b?b.wheelDelta?a.originalEvent.wheelDelta/120:a.originalEvent.detail?-(a.originalEvent.detail/3):void 0:0},d.prototype.mouseTriggerOfChild=function(a){var b=a.type,c=null,d=a.currentTarget;switch(b){case"mouseover":c=a.fromElement||a.relatedTarget;break;case"mouseout":c=a.toElement||a.relatedTarget}return this.isChild(c,d)},d.prototype.isChild=function(a,b){return b.contains?b.contains(a):b.compareDocumentPosition?20==b.compareDocumentPosition(a):void 0},d.prototype.customMouseWheel=function(a,b,c){b?$(a).bind(this.nameOfMouseWheel()+"."+b,e(c)):$(a).bind(this.nameOfMouseWheel(),e(c));
}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a,b){var c=null;switch(b){case 1:c=a.data().provider;break;case 2:c=a.attr("name");break;default:c=a.attr("name")||a.data().provider}return c}function f(a,b){return z.zepto?z(g(z(a)[0],b)):z(a).find(b)}function g(a,b){var c=a.id,d=a.id="query____compact___",e="#"+d+" "+b,f=a.querySelectorAll(e),g=[];return a.id=c,g.push.apply(g,f),g}function h(a,b,c,d){var e=n(a);return e.length>0?e.val():null}function i(b,c,d,e,f){var g=n(b);if(1==b.length){var h=b.val();if(!a.string.isNullOrWhiteSpace(b.attr("data-on"))){var i=g.length>0?"data-on":"data-off";return b.attr(i)}return a.string.isNullOrWhiteSpace(h)||"on"==h||"off"==h?b[0].checked:b[0].checked?h:""}var j=[];return g.each(function(){j.push(z(this).val())}),f===!0?j:j.join(",")}function j(a,b,c,d){return a.html()}function k(a,b,c,d){return a.attr(a.attr("data-attribute-name"))}function l(a,b,c,d){return a.val()||a[0].value}function m(a){var b=f(a,"[data-img]"),c=[];return b.each(function(){var a="";a=z(this).is("img")?this.src:z(this).css("background-image").replace("url(","").replace(")",""),w.isNullOrWhiteSpace(a)||c.push(a)}),c}function n(a){return a.filter(function(){return this.checked})}function o(a,b,c,d){a.removeAttr("checked","checked"),a.each(function(){z(this).val()===b&&z(this).attr("checked","checked")})}function p(b,c,d,e){var g=f(g,"input[type='checked']");if(1==b.length){var h=!1,i=b.attr("data-on");return h=a.string.isNullOrWhiteSpace(i)?a.string.isNullOrWhiteSpace(b.attr("value"))?"true"===c.toLowerCase()||"1"===c:b.attr("value")===c||1===c||"1"===c||c===!0:i==c,void(h?b.attr("checked","checked"):b.removeAttr("checked"))}var j=c;x.isArray(j)||(j=(c||"").toString().split(","));for(var k=0,l=b.length;k<l;k++){var m=b.eq(k),n=m.val();j.indexOf(n)>-1?m.attr("checked","checked"):m.removeAttr("checked")}}function q(a,b,c,d){a.html(b)}function r(a,b,c,d){var e=a.attr("data-attribute-name")||"";a.attr(e,b),a.data(e.replace("data-",""),b)}function s(a,b,c,d){a.val(b)}function t(a,b){for(var c,d=f(a,"[data-img]"),e=b||[],g=0,h=e.length;g<h;g++)c=d.eq(g),c.is("img")?c.attr("src",e[g]):c.css("background-image",e[g])}b.driver(d);var u=a.formWR=new d,v=a.utils,w=a.string,x=a.type,y="input[type='submit'],input[type='button'],input[type='image']",z=c.$,A={};d.prototype.fill=function(a,b,c,d){if(null!=b){var e=z(a),g=null,h=null;b=b||{},d=v.ifn(d,"");for(var i in b)if(g=f(e,"input[name='"+i+"'],select[name='"+i+"'],textarea[name='"+i+"'],[data-form][name='"+i+"'],[data-provider='"+i+"']"),g.length>0){if(g.is(y))continue;h=g.attr("name")||g.data().provider,this.getRule(g).fill(g,v.ifn(b[i],d).toString(),h,b)}}},d.prototype.read=function(b,c,d){for(var g,h,i=z(b),j=f(i,"input,select,textarea,[data-form],[data-provider]"),k={},l=null,m=null,n={},o=0,p=j.length;o<p;o++)if(m=j.eq(o),!m.is(y)&&(l=e(m,d),!w.isNullOrWhiteSpace(l))){if(g=k[l],m.is("input[type='checkbox'],input[type='radio']")){if(n[l]===!0)continue;n[l]=!0;var q="input[type='"+m.attr("type")+"'][name='"+l+"'],input[type='"+m.attr("type")+"'][data-provider='"+l+"']";h=this.getRule(m).read(f(i,q),i,l,k,c)}else h=this.getRule(m).read(m,i,l,k,c);a.type.isArray(g)?g.push.apply(g,a.utils.ensureArray(h)):k[l]=h}return k},d.prototype.clear=function(a){var b=z(a);return null==b?null:(b.is("form")?b[0].reset():b.find("input,select,textarea").val(""),void f(b,"[data-label]").html(""))},d.prototype.addRule=function(a){if(null!=a){var b=v.ifn(a.name,"");if(""===b)throw new Error("formwr: rule's name cannot be null or whitespace");if(A[b])throw new Error("formwr: exists  a rule with name ("+b+")");A[b]=a}},d.prototype.getRule=function(a){a=z(a);var b=a.attr("data-form");return null==A[b]&&(b=a.is("input")?a.attr("type"):a[0].nodeName.toLowerCase()),A[b]||A["default"]},u.addRule({name:"radio",read:h,fill:o}),u.addRule({name:"checkbox",read:i,fill:p}),u.addRule({name:":html",read:j,fill:q}),u.addRule({name:"attribute",read:k,fill:r}),u.addRule({name:"default",read:l,fill:s}),u.addRule({name:"imglist",read:m,fill:t})}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){return(a||"").toString().replace(/\n/g,"\n")}function f(b){return a.string.isNullOrWhiteSpace(b)===!1}function g(a){a=a||"";var b=a.replace(/\/\*/g,"").replace(/\*\//,"").replace(/\*/g,"").replace(/\n/g,"\n").split("\n");return b=h.filterEmpty(b),a='<p class="comment">'+b.join("</p><p>")+"</p>"}b.driver(d),a.jsCommentsParser=new d;var h=a.array,i=a.List;d.prototype.parse=function(a){a=e(a);var b=this,c=new i;a.replace(/(\/\/.*$)|(\/\*(.|\s)*?\*\/)/g,function(d,f,h,i,j){var k=d.length+j,l=a.substring(k,a.indexOf("\n",k+2)).replace(/\n/g,"");c.add({oriComment:d,name:e(l),comment:g(d),parameters:b.parameters(d)})});var d=a.split("\n");return h.each(d,function(a,b){if(0===a.replace(/\s/g,"").indexOf("//")){var f=d[b+1]||"";c.add({oriComment:a,name:e(f),comment:g(a),parameters:[]})}}),c},d.prototype.parameters=function(a){a=e(a);for(var b=new i(a.split("\n")),c=b.query(function(a){return a.indexOf("@param")>-1}),d=null,g=[],j=0,k=c.length;j<k;j++)d=h.filter(c[j].split(" "),f),g.push({comment:d.slice(2,d.length).join(""),name:e(d[1])});return g},d.prototype.parseMulRemote=function(a,b){var c=0,d=a.length,e=this,f={};h.each(a,function(a){e.parseRemote(a.url,function(e){c++;var g=f[a.name];g?g.addRange(e.items):f[a.name]=e,c>=d&&b(f)})})},d.prototype.parseRemote=function(a,b){var c=this;$.ajax({url:a,dataType:"text",success:function(a){b(c.parse(a))},error:function(){b(null)}})}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){this.src=a;var b=document.createElement("div");b.style.display="none",b.innerHTML=h(this.src),this.audio=b.firstElementChild||b.children.item(0),this.target=b,this.hasError=!1,document.body.appendChild(b),e(this)}function e(a){window.Audio?(a.audio.addEventListener("ended",function(){a.emitter.emit("end")}),a.audio.addEventListener("error",function(){a.hasError=!0,a.emitter.emit("error")}),a.audio.addEventListener("loadedmetadata",function(){a.emitter.emit("load",g(a.audio))})):f(a)}function f(a){var b=new Lsmain.Timer(1e3);b.iterator(function(){if(4==a.audio.readyState){var b=a.audio.Duration;return b>0==!1?(a.hasError=!0,a.emitter.emit("error"),!1):(a.emitter.emit("load",g(a.audio)),a.processTimer=Lsmain.Timer.counter(a.audio.Duration),a.processTimer.complete(function(){a.emitter.emit("end")}),a.processTimer.start(),!1)}}),b.start()}function g(a){return{duration:a.duration||a.Duration}}function h(a){var b=null;return b=window.Audio?'<audio src="'+a+'" type="audio/mp3" hidden="true"></audio>':['<object classid="clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95">','<param name="Src" value="'+a+'" />','<embed src="'+a+'" hidden="true" loop="false"></embed>',"</object>"].join("\n")}Lsmain.browser;d.prototype.emitter=new a.EventEmitterClass,d.prototype.on=function(a,b){return this.emitter.on(a,b),this},d.prototype.start=function(){this.audio&&!this.hasError&&(this.emitter.emit("start"),this.audio.play(),this.processTimer&&this.processTimer.start())},d.prototype.stop=function(){if(this.audio&&!this.hasError){this.emitter.emit("stop");try{this.audio.stop()}catch(a){}}},d.prototype.pause=function(){this.audio&&!this.hasError&&(this.emitter.emit("pause"),this.audio.pause(),this.processTimer&&this.processTimer.stop())},d.prototype.getState=function(){if(this.audio)return window.Audio?this.audio.paused?1:2:this.audio.playState},d.prototype.toggle=function(){return 1==this.getState()?(this.start(),!0):(this.pause(),!1)},d.prototype.destroy=function(){this.target&&(this.stop(),this.emitter.emit("destroy"),this.target.parentNode.removeChild(this.target))},a.Audio=d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(b){if(!a.type.isFunction(b))throw new Error("resolver 必须为函数");if(this.constructor!==d)throw new Error("不允许 劫持调用");this.id=++m,this.status=l.pending,this.value=null,this.reason=null,this.emitter=new a.EventEmitterClass,d.log("create promise with id:"+this.id),f(this,b)}function e(){}function f(a,b){setTimeout(function(){try{b(function(b){a&&a.resolve(b),a=null},function(b){a&&a.reject(b),a=null})}catch(c){a.reject(c),console.error(c.stack)}},10)}function g(b,c,e){a.utils;return d.thenable(c)?i(b,c):e==l.fulfilled?b.resolve(c):b.reject(c),b}function h(a){var b=new d(e);return g(b,a)}function i(b,c){c.then(a.utils.getCall(this,j,b),a.utils.getCall(this,k,b))}function j(a,b){var c=arguments[arguments.length-1];a===c?c.reject(new TypeError("value")):c.resolve(a)}function k(a){var b=arguments[arguments.length-1];b.reject(a)}var l={pending:"pending",fulfilled:"fulfilled",rejected:"rejected"},m=0;a.Promise=d,d.debug=!1,d.log=function(a){d.debug&&console.log(a)},d.prototype.status=l.pending,d.prototype.value=null,d.prototype.reason=null,d.prototype.emitter=null,d.resolve=function(a){return a instanceof d?a:h(a)},d.thenable=function(b){return b&&b.then&&a.type.isFunction(b.then)},d.all=function(b){function c(){j++,j==g&&(i.length<=0?f.resolve(h):f.reject(i))}if(!a.type.isArray(b))throw new Error("参数promises 必须为一个Promise对象的数组");var f=new d(e),g=b.length,h=[],i=[],j=0;return a.array.each(b,function(a,b){a.then(function(a){h[b]=a,c()},function(a){i[b]=a,c()})}),f},d.prototype.then=function(a,b){var c=this.nextPromise||(this.nextPromise=new d(e));switch(this.status){case l.pending:this.on(l.fulfilled,a),this.on(l.rejected,b);break;case l.fulfilled:this.call(c,a);break;default:this.call(c,b)}return c},d.prototype.success=function(a){return this.then(a,null)},d.prototype.error=d.prototype["catch"]=function(a){return this.then(e,a)},d.prototype.complete=function(b){if(a.type.isFunction(b))return this.then(function(a){return b(null,a)},function(a){return b(a,null)})},d.prototype.resolve=function(a){if(this.status!==l.pending)throw new Error("Illegal call,only pending status can call");this.status=l.fulfilled,this.value=a;var b=this.nextPromise,c=this.emitter.getListeners(this.status).length;d.log("resolve :"+this.id+" of value"),d.log(a),this.emitter.emit(this.status,a),b&&c<1&&b.resolve(a)},d.prototype.reject=function(a){if(this.status!==l.pending)throw new Error("Illegal call,only pending status can call");this.status=l.rejected,this.reason=a;var b=this.nextPromise,c=this.emitter.getListeners(this.status).length;d.log("rejected :"+this.id+" of reason"),d.log(a),this.emitter.emit(this.status,a),b&&c<1&&b.reject(a)},d.prototype.call=function(b,c){var d=this.status===l.fulfilled,e=d?this.value:this.reason;try{if(b.value=this.value,a.type.isFunction(c)){var f=c(e);this.resolveX(b,f||this.value)}else d?b.resolve(c):b.reject(c)}catch(g){console.error(g.stack),b.reject(g)}},d.prototype.resolveX=function(a,b){if(a===b)a.reject(new TypeError("x"));else if(b instanceof d)switch(b.status){case l.pending:i(a,b);break;case l.fulfilled:a.resolve(b.value);break;default:a.reject(b.reason)}else g(a,b,this.status)},d.prototype.on=function(b,c){var d=this,e=this.nextPromise;a.type.isFunction(c)&&this.emitter.once(b,function(){d.call(e,c)})}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}b.driver(d),c.TestApplication=new d;var e={};d.prototype.add=function(a,b,c,d){e[[a,b,c].join("-")]=d},d.prototype.get=function(a,b,c){return e[[a,b,c].join("-")]},d.prototype.get2=function(a){return e[a]}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a){"use strict";function b(a){if(isNaN(a)||a<=0)throw new Error("interval 必须为>0的数字  单位为:毫秒");this.wraps(new c(a),["start","stop","on","iterator"])}function c(a){this.id=g++,this.emitter=new Lsmain.EventEmitterClass,this.init.apply(this,arguments)}function d(a){if(isNaN(a)||a<=0)throw new Error("interval 必须为>0的数字");var c=this;c.total=a,c.current=a,this.emitter=new e.EventEmitterClass,c.timer=new b(1e3),c.timer.iterator(function(){return c.iterate()})}var e=a.Lsmain,f=e.BaseClass,g=0;f.driver(b),e.Timer=b,b.interval=function(a){return new b(a)},b.counter=function(a){return new d(a)},c.prototype.timerId=0,c.prototype.id=null,c.prototype.keeping=!1,c.prototype.emitter=null,c.prototype.init=function(a){if(this.interval=a,isNaN(a)||a<=0)throw new Error("interval 必须为>0的数字 单位为:毫秒")},c.prototype.start=function(){this.keeping||(this.keeping=!0,this.stopif(this.emitter.emit("iterator")),this.iterate())},c.prototype.stop=function(){this.keeping=!1,clearTimeout(this.timerId)},c.prototype.iterate=function(a){if(this.keepif()){var b=this;clearTimeout(this.timerId);var c=setTimeout(function(){b.stopif(b.emitter.emit("iterator")),b.iterate()},this.interval);this.timerId=c}},c.prototype.stopif=function(a){a===!1&&this.stop()},c.prototype.keepif=function(){return!!this.keeping&&this.emitter.getListeners("iterator").length>0},c.prototype.iterator=function(a){return this.emitter.on("iterator",a),this.keeping&&(this.keeping=!1,this.start()),this},d.prototype.emitter=null,d.prototype.iterator=function(a){return this.emitter.on("step",a),this},d.prototype.complete=function(a){return this.emitter.on("complete",a),this},d.prototype.start=function(){this.timer.start()},d.prototype.stop=function(){this.timer.stop()},d.prototype.clear=function(){this.stop(),this.current=this.total},d.prototype.iterate=function(){var a=this.current;if(a<=0)return!1;a--;var b=a>0;return this.emitter.emit("step",this.current,this.total),b||this.emitter.emit("complete",this.current,this.total),this.current=a,b}}(window),function(a,b,c){"use strict";function d(){}function e(a){return a==document.body||a==document.documentElement?document.body.scrollTop||document.documentElement.scrollTop:a.scrollTop}function f(a){return a==document.body||a==document.documentElement?document.body.scrollLeft||document.documentElement.scrollLeft:a.scrollLeft}function g(a){for(var b=a.offsetParent,c=a.offsetTop,d=a.offsetLeft;b;)c+=b.offsetTop,d+=b.offsetLeft,b=b.offsetParent;return{top:c,left:d}}b.driver(d),a.uiHelp=new d;var h=null;d.prototype.positionIn=function(a,b,c){var d={noElement:!0,top:b,left:a,right:a+1,bottom:b+1,offsetParent:c};return this.elementIn(d,c)},d.prototype.elementIn=function(a,b){return this.verticalInParent(a,b)&&this.horizonInParent(a,b)},d.prototype.inParentAvaView=function(a){return this.verticalInClientView(a)&&this.horizonInClientView(a)},d.prototype.inClientView=function(a){return this.verticalInClientView(a)&&this.horizonInClientView(a)},d.prototype.verticalInClientView=function(a){if(a===document.body||a===document.documentElement)return!0;var b=(this.getBodyScroll(),this.getBoundingClientRect(window)),c=a.noElement?a:this.getBoundingClientRect(a);return c.top==c.left==c.bottom!=c.right&&(c.top>=0&&c.top<=b.bottom)},d.prototype.horizonInClientView=function(a,b){if(a===document.body||a===document.documentElement)return!0;var c=this.getBodyScroll(),d=this.getBoundingClientRect(window),e=a.noElement?a:this.getBoundingClientRect(a);return e.top==e.left==e.bottom!=e.right&&(e.right>=c.left&&e.left<=d.right||e.left>c.left&&e.left<c.right)},d.prototype.verticalInParent=function(a,b){var c=b||this.getScrollOffsetParent(a);if(c){var d=c==document.documentElement?document.body:c,e=this.getBoundingClientRect(d),f=a.noElement?a:this.getBoundingClientRect(a);return f.top==f.left==f.bottom!=f.right&&(f.top>=e.top&&f.bottom<=e.bottom)}return!1},d.prototype.horizonInParent=function(a,b){var c=b||this.getScrollOffsetParent(a);if(c){var d=c==document.documentElement?document.body:c,e=this.getBoundingClientRect(d),f=a.noElement?a:this.getBoundingClientRect(a);return f.top==f.left==f.bottom!=f.right&&(f.left>=e.left&&f.right<e.right)}return!1},d.prototype.verticalFullInClientView=function(a,b){var c=this.getScrollOffsetParent(a);if(c){var d=a.offsetTop,f=d+a.offsetHeight,g=e(c),h=g+c.clientHeight;return f>h?1:d<g?-1:0}return 0},d.prototype.horizonFullInClientView=function(a,b){var c=this.getScrollOffsetParent(a);if(c){var d=a.offsetLeft,e=d+a.offsetWidth,g=f(c),h=g+c.clientWidth;return e>h?1:d<g?-1:0}return 0},d.prototype.scrollIntoHorizonView=function(b,c){var d=0,e=this.getScrollOffsetParent(b),f=this.horizonFullInClientView(b);if(c=a.utils.ensureDecimal(c,0),e&&this.scrollIntoHorizonView(e,c),0!==f){var h=g(b).left,i=new a.UIScrollCompactClass(e);1===f?(d=h+b.clientWidth+c,i.scrollLeft(d)):f===-1&&(d=h-b.clientWidth-c,i.scrollLeft(d))}},d.prototype.scrollIntoVerticalView=function(b,c){var d=this.verticalFullInClientView(b),e=0,f=this.getScrollOffsetParent(b);if(c=a.utils.ensureDecimal(c,0),f&&this.scrollIntoVerticalView(f,c),0!==d){var h=g(b).top,i=new a.UIScrollCompactClass(f);1===d?(e=h+b.clientHeight+c,i.scrollTop(e)):d===-1&&(e=h-b.clientHeight-c,i.scrollTop(e))}},d.prototype.scrollIntoView=function(a,b,c){this.scrollIntoHorizonView(a,b),this.scrollIntoVerticalView(a,c)},d.prototype.scrollParent=function(a){for(var b=a.parentElement,c=null,d="",e="";b;){if(d=this.cssOf(b,"overflowX"),e=this.cssOf(b,"overflowY"),"auto"==d||"scroll"==d||b===document.documentElement&&"visible"===d){c=b;break}if("auto"==e||"scroll"==e||b===document.documentElement&&"visible"===e){c=b;break}b=b.parentElement}return c},d.prototype.getScrollOffsetParent=function(a){return this.scrollParent(a)||a.offsetParent},d.prototype.getBodyScroll=function(){var a=document.body.scrollTop||document.documentElement.scrollTop,b=document.body.scrollLeft||document.documentElement.scrollLeft;return{top:a,left:b}},d.prototype.getOffsetHeight=function(a){return this.offsetOf(a,"Height")},d.prototype.offsetOf=function(a,b){return null===a||void 0===a?0:a["offset"+b]},d.prototype.getMargin=function(a){var b=0,c=0,d=0,e=0;return a&&(b=this.intCssOf(a,"margin-left"),c=this.intCssOf(a,"margin-right"),d=this.intCssOf(a,"margin-top"),e=this.intCssOf(a,"margin-bottom")),{left:b,top:d,right:c,bottom:e}},d.prototype.getPadding=function(a){var b=0,c=0,d=0,e=0;return a&&(b=this.intCssOf(a,"padding-left"),c=this.intCssOf(a,"padding-right"),d=this.intCssOf(a,"padding-top"),e=this.intCssOf(a,"padding-bottom")),{left:b,top:d,right:c,bottom:e}},d.prototype.getBorder=function(a){var b=0,c=0,d=0,e=0;return a&&(b=this.intCssOf(a,"border-left-width"),c=this.intCssOf(a,"border-right-width"),d=this.intCssOf(a,"border-top-width"),e=this.intCssOf(a,"border-bottom-width")),{left:b,top:d,right:c,bottom:e}},d.prototype.getStyles=function(a){return a.currentStyle?a.currentStyle:window.getComputedStyle?window.getComputedStyle(a):a.style},d.prototype.cssNameOf=function(b){b=b||"";var c=b.split("-"),d=null;c=a.array.filterEmpty(c);for(var e=1,f=c.length;e<f;e++)d=c[e],c[e]=d.substr(0,1).toUpperCase()+d.substr(1,d.length);return c.join("")},d.prototype.cssOf=function(a,b){if(b=b||"",a){var c=this.getStyles(a);return c[b]||c[this.cssNameOf(b)]}},d.prototype.getCssName=function(a){if(h=null==h?this.getPrefix():h,a=a||"",""!==h){var b=(a[0]||"").toUpperCase(),c=a.substring(1);a=h+b+c}return a},d.prototype.getPrefix=function(){var a=this.getStyles(document.documentElement)||{},b={webkitAnimationName:"webkit",mozAnimationName:"moz",msAnimationName:"ms",oAnimationName:"o",animation:""},c="";for(var d in b)if(d in a){c=b[d];break}return c},d.prototype.getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},d.prototype.getWindowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},d.prototype.getBoundingClientRect=function(a){return a=a===document?window:a,a===window?this.getWindowBoundingClientRect():this.getDomBoundingClientRect(a)},d.prototype.getWindowBoundingClientRect=function(){return{left:0,top:0,right:this.getWindowWidth(),bottom:this.getWindowHeight()}},d.prototype.getDomBoundingClientRect=function(a){var b=0===a.offsetWidth&&0===a.offsetHeight,c=a.style.width;if(!a.parentElement&&a!=document.documentElement)return{top:0,bottom:0,left:0,right:0};b&&(a.style.width="1px");var d=a.getBoundingClientRect(),e=document.documentElement.clientTop,f=document.documentElement.clientLeft,g={top:d.top-e,bottom:d.bottom-e,left:d.left-f,right:d.right-f};return b&&(a.style.width=c),g},d.prototype.intCssOf=function(a,b,c){var d=null;return c=c||0,a&&(d=parseInt(this.cssOf(a,b))),d=isNaN(d)?c:d},d.prototype.getPbs=function(a){var b={x:0,y:0};if(a){var c=this.getPadding(a),d=this.getBorder(a);b.x=c.left+c.right+d.left+d.right,b.y=c.top+c.bottom+d.top+d.bottom}return b},d.prototype.setClientHeight=function(a,b){if(a){var c=this.getPadding(a),d=this.getBorder(a);b=b-c.top-c.bottom-d.top-d.bottom,b=b<0?0:b,a.style.height=b+"px"}},d.prototype.setClientWidth=function(a,b){if(a){var c=this.getPadding(a),d=this.getBorder(a);b=b-c.left-c.right-d.left-d.right,b=b<0?0:b,a.style.width=b+"px"}},d.prototype.getCursortPosition=function(a){var b=-1;if(a){if("selectionStart"in a)b=a.selectionStart;else if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}}else b=-1;return b},d.prototype.setCursorPosition=function(a,b){if(a&&!(b<0)){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}a.focus()}}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){this.parse(a)}b.driver(d);var e=a.string;d.prototype.parse=function(a){a=(a||"").toString().split("#")[0]||"";var b=a.split("?");a=b.shift();for(var c=b.join("?"),d=a.match(/(\w+\:)\/\/(([\w,\-]+(\.|))+)(:\d+|)((\/.+)|)/)||[],e=["href","protocol","host",null,null,"port","pathname"],f=null,g=0,h=e.length;g<h;g++)f=e[g],f&&(this[f]=d[g]||"");d.length<1&&(this.pathname=a),this.url=a,this.port=this.port.replace(":","");var i=(this.pathname||"").split("?");this.search=c||"",this.pathname=i[0],this.parseParams(this.search)},d.prototype.parseParams=function(b){b=b||"",b=a.string.trimStart(b,"?");for(var c=b.split("&"),d=null,e={},f=0,g=c.length;f<g;f++)d=c[f],""!==d&&(d=d.split("="),e[decodeURIComponent(d.shift())]=decodeURIComponent(d.join("=")||""));return this.paras=e,this},d.prototype.bind=function(){for(var a=["href","protocol","host","port","search","pathname"],b=null,c=window.location,d=0,e=a.length;d<e;d++)b=a[d],b&&(this[b]=c[b]);return this.parseParams(this.search),this},d.prototype.toParamString=function(a){var b=this.paras||{},c=[];for(var d in b)a===!0&&e.isNullOrWhiteSpace(b[d])||c.push(d+"="+b[d]);return"?"+c.join("&")},d.prototype.toString=function(b){var c="";a.string.isNullOrWhiteSpace(this.port)||(c=":"+this.port);var d=this.protocol?"//":"";return a.string.format("{0}{1}{2}{3}{4}{5}",this.protocol,d,this.host,c,this.pathname,this.toParamString(b))},a.UrlParserClass=d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){this.emitter=new a.EventEmitterClass,this.emitter.validator=this}function e(b,c,d,e,f,g){if(!b)return c;d=a.utils.ifn(d,e);var h=b.validator;if(h.currentMessage=d,!h.slient)if(c)b.emit("valid");else{var i=a.string,j=[d];f=a.array.ensureArray(f),j.push.apply(j,f),j.push((g||"").toString().substring(0,10)),b.emit("invalid",i.format.apply(i,j))}return c}b.driver(d),a.DataValidator=d,a.validator=new d,d.registerRule=function(b,c,f){var g=d.prototype;if(b in g)throw new Error(a.string.format("已存在名称为{0}的校验器",b));if(!a.type.isFunction(c))throw new Error("检验器必须为一个function");g[b]=function(b,d,g,h){var i=c.apply(this,arguments),j=arguments[arguments.length-2],k=a.utils.argumentArray(arguments),l=k.slice(1,arguments.length-1);return e(this.emitter,i,j,f,l,b)}},d.prototype.onInvalid=function(a){this.emitter.on("invalid",a)},d.prototype.onValid=function(a){this.emitter.on("valid",a)},d.prototype.clear=function(){this.emitter.off()},d.prototype.model=function(b,c,d){if(this.currentFormName=null,!a.type.isObject2(b))throw new Error("model参数必须为不为null的object对象");if(!a.type.isObject(b))throw new Error("参数cfg 必须设置");this.slient=d;for(var e,f=a.utils.getKeys(c),g=f.length<1,h=0,i=f.length;h<i&&(e=f[h],g=this.attr(e,b[e],c,b),g);h++);return g&&(this.currentFormName=null),g},d.prototype.attr=function(b,c,d,e){var f=d[b],g=null,h=a.type,i=!0,j=!0;if(this.currentFormName=b,null===f||void 0===f)return!0;var k=a.utils.getKeys(f);if(f.required?i=this.required(c,f.required):f.twoRequired?i=this.twoRequired.apply(this,[c].concat(f.twoRequired)):a.type.isObject2(c)||a.type.isArray(c)||(j=""!==(c||"").toString().replace(/\s/g,"")),!i||!j)return i;for(var l=null,m=0,n=k.length;m<n;m++)if(g=k[m],"required"!==g&&(l=this[g],h.isFunction(l))){var o=[],p=a.array.ensureArray(f[g]);if(o.push(c),o.push.apply(o,p),o.push(e),i=l.apply(this,o),!i||"break"===i)break}return i&&(this.currentFormName=null),i},d.prototype.required=function(b,c){var d=!a.string.isNullOrWhiteSpace(b);return e(this.emitter,d,c,"不能为空",b)},d.prototype.twoRequired=function(b,c,d,f){var g=!a.string.isNullOrWhiteSpace(b),h=c,i=null,j=!1;i=a.type.isFunction(h)?h():(f||{})[c];var k=!a.string.isNullOrWhiteSpace(i);return(g||k)&&(j=!0),e(this.emitter,j,d,"不能为空",b),!!g||"break"},d.prototype.email=function(a,b){var c=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a);return e(this.emitter,c,b,"请输入有效的电子邮件地址",a)},d.prototype.url=function(a,b){var c=/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a);return e(this.emitter,c,b,"请输入有效的网址",a)},d.prototype.date=function(a,b){var c=!/Invalid|NaN/.test(new Date(a).toString());return e(this.emitter,c,b,"请输入有效的日期",a)},d.prototype.dateISO=function(a,b){var c=/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a);return e(this.emitter,c,b,"请输入有效的日期 (YYYY-MM-DD)",a)},d.prototype.number=function(a,b){var c=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a,a);return e(this.emitter,c,b,"请输入有效的数字")},d.prototype.digits=function(a,b){var c=/^\d+$/.test(a);return e(this.emitter,c,b,"只能输入数字",a)},d.prototype.creditcard=function(a,b){if(/[^0-9 \-]+/.test(a))return!1;var c,d,f=0,g=0,h=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),g=parseInt(d,10),h&&(g*=2)>9&&(g-=9),f+=g,h=!h;var i=f%10===0;return e(this.emitter,i,b,"请输入有效的信用卡号码",a)},d.prototype.minlength=function(a,b,c){var d=(a||"").length>=b;return e(this.emitter,d,c,"最少要输入 {0} 个字符",[b],a)},d.prototype.maxlength=function(a,b,c){var d=(a||"").length<=b;return e(this.emitter,d,c,"最多可以输入 {0} 个字符",[b],a)},d.prototype.rangelength=function(a,b,c,d){var f=(a||"").length,g=f>=b&&f<=c;return e(this.emitter,g,d,"请输入长度在 {0} 到 {1} 之间的字符串",[b,c],a)},d.prototype.min=function(a,b,c){var d=a>=b;return e(this.emitter,d,c,"请输入不小于 {0} 的数值",[b],a)},d.prototype.max=function(a,b,c){var d=a<=b;return e(this.emitter,d,c,"请输入不大于 {0} 的数值",[b],a)},d.prototype.range=function(a,b,c,d){var f=a>=b&&a<=c;return e(this.emitter,f,d,"请输入范围在 {0} 到 {1} 之间的数值",[b,c],a)},d.prototype.mobile=function(a,b){var c=/^1[1-9][0-9]\d{8}$/.test(a);return e(this.emitter,c,b,"请输入有效的手机号码",a)},d.prototype.tel=function(a,b){var c=/^(\d{3,4}-)?\d{7,8}$/.test(a);return e(this.emitter,c,b,"请输入有效的电话号码",a)},d.prototype.equalTo=function(a,b,c,d){d=d||{};var f=d[b],g=null!=a&&a===f;return e(this.emitter,g,c,"值不匹配",a)},d.prototype.minTo=function(a,b,c,d){d=d||{};var f=d[b],g=null!=a&&Number(a)<Number(f);return e(this.emitter,g,c,"{1}不能大于{2}",[g,f],a)},d.prototype.maxTo=function(a,b,c,d){d=d||{};var f=d[b],g=null!=a&&Number(a)>=Number(f);return e(this.emitter,g,c,"{1}不能小于{2}",[g,f],a)},d.prototype.idCard=function(a,b,c){var d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],f=["1","0","X","9","8","7","6","5","4","3","2"],g=!1;if(15!=a.length||isNaN(a)){if(18==a.length){for(var h=0,i=0,j=d.length;i<j;i++)h+=Number(a[i])*d[i];return f[h%11]===a[17]}g=!1}else g=!0;return e(this.emitter,g,b,"无效的身份证号码",c,a)}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){this.container=this.compactContainer($(a))}a.UIScrollCompactClass=d,d.prototype.scrollLeft=function(a){return 0===arguments.length?this.container.scrollLeft():void this.container.scrollLeft(a)},d.prototype.scrollTop=function(a){return 0===arguments.length?this.container.scrollTop():void this.container.scrollTop(a)},d.prototype.scrollWidth=function(){return this.container[0].scrollWidth},d.prototype.scrollHeight=function(){return this.container[0].scrollHeight},d.prototype.clientWidth=function(){return this.container.is("body")&&this.bodyScrollLeftUseful()?document.documentElement.clientWidth:this.container[0].clientWidth},d.prototype.clientHeight=function(){return this.container.is("body")&&this.bodyScrollLeftUseful()?document.documentElement.clientHeight:this.container[0].clientHeight},d.prototype.compactContainer=function(a){return a.length<=0&&(a=$(document.body)),a.is("html")&&(a=$(document.body)),a.is("body")&&!this.bodyScrollLeftUseful()&&(a=$(document.documentElement)),a},d.prototype.bodyScrollLeftUseful=function(){if(a.browser.chrome())return!0}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(b,c,d){var e=d[c];b[c]=function(){return a.utils.apply(b,e,a.utils.argumentArray(arguments))}}function f(){}b.driver(d),a.UIComponentLibraryClass=d,a.UI={};var g=a.type,h=a.utils,i=a.array,j={},k="jquery",l="",m=a.List,n=c.jQuery;d.prototype.$=n,d.driver=function(c,e,f){a.string.isNullOrWhiteSpace(e)||d.pluginRegister(e,c,f);var g=b.extend(c,this);return g.on=this.on,d.prototype.applyChain(g.prototype),g},d.navigate=function(b,c){return function(){var d=n(this).data(c);if(d)return a.type.isString(b)?a.utils.apply(d,d[b],a.utils.argumentArray(arguments)):a.utils.apply(d,b,a.utils.argumentArray(arguments))}},d.onEvent=function(b,c,d,e,f){a.utils.smartCallback(arguments);return n(b).on([c,d].join("."),e,f),this},d.on=function(a,b,c,e,f){d.onEvent(a,b,c,e,d.navigate(f,c))},d.prototype.defaultOptions={},d.prototype.options={},d.prototype.container=null,d.prototype.onEvent=d.onEvent,d.prototype.defaultInitialize=function(b){try{this.options=this.extend({},this.defaultOptions,b),h.call(this,this.initComponents,b),this.releaseHandlers(),this.doListener("created",this.container)}catch(c){var d=c.stack?c.stack:a.utils.getStack(c);a.console.error(d),this.doListener("created",this.container,c.message,c)}return this},d.prototype.initialize=function(a){a=a||{};var b=this.elementRepeatConstructor(a);return b?b:this.defaultInitialize(a)},d.prototype.elementRepeatConstructor=function(a){return null},d.prototype.initComponents=function(){this.loadUIParams(this.options),this.loadUIEvents(),this.loadUIContent(),this.loadUIHandlers(),this.catchEventHandlers(),this.startupUI()},d.prototype.releaseHandlers=function(){delete this.initialize,delete this.initComponents,delete this.loadUIParams,delete this.loadUIEvents,delete this.loadUIContent,delete this.loadUIHandlers,delete this.catchEventHandlers,delete this.startupUI,delete this.releaseHandlers,
delete this.defaultInitialize,delete this.elementRepeatConstructor},d.prototype.loadUIEvents=function(){},d.prototype.loadUIParams=function(){},d.prototype.loadUIContent=function(){},d.prototype.loadUIHandlers=function(){},d.prototype.startupUI=function(){},d.prototype.catchEventHandlers=function(){var a=this.options||{},b=(this.getEvents(),g),c=this,d=h.getKeys(a);i.each(d,function(d){var e=a[d];b.isFunction(e)&&c.containsEvent(d)&&c.addListener(d,e)})},d.prototype.getEmitter=function(){var b=this.__emitter,c=a.EventEmitterClass;return g.isClass(b,c)||(b=this.__emitter=new c),b},d.prototype.getEvents=function(){var a=this.eventTypes;return g.isClass(a,m)||(a=this.eventTypes=new m(["created","destroy"])),a},d.prototype.containsEvent=function(a){return this.getEvents().contains(a)},d.prototype.registerEvent=function(a){this.containsEvent(a)||this.getEvents().add(a)},d.prototype.removeEvent=function(a){this.containsEvent(a)&&(this.getEvents().removeItem(a),this.removeListener(a))},d.prototype.registerEvents=function(a,b,c){for(var d=Array.prototype.slice.call(arguments,0),e=0,f=d.length;e<f;e++)this.registerEvent(d[e])},d.prototype.addListener=function(a,b){this.containsEvent(a)&&this.getEmitter().on(a,b)},d.prototype.onceListener=function(a,b){this.containsEvent(a)&&this.getEmitter().once(a,b)},d.prototype.removeListener=function(a,b){this.getEmitter().off(a,b)},d.prototype.doListener=function(b,c,d){try{var e=this.getEmitter();return e.emit.apply(e,h.argumentArray(arguments))}catch(f){a.console.error(f)}return null},d.prototype.managed=function(b){a.type.isClass(b,d)&&(this.getEmitter().off(),this.getEmitter=function(){return b.getEmitter()})},d.prototype.bind=function(b,c){return a.utils.getCall(this,b,c)},d.prototype.find=function(a){return this.$(this.container).find(a)},d.prototype.extend=function(a,b,c,d){return this.$.extend.apply(this.$,h.argumentArray(arguments))},d.prototype.destroy=function(){this.defaultDestroy()},d.prototype.defaultDestroy=function(){this.doListener("destroy"),this.getEmitter().destroy()},d.prototype.onCall=function(a,b){return h.getCall(this,a,b)},d.pluginRegister=function(b,c,d){var e=j[k];d=d||{},d.target=a.utils.ifn(d.target,"target"),d.instanceOf&&(d.from=b),b=l+b,a.utils.call(this,e,b,c,d,a)},d.prototype.execute=function(b,c){return a.utils.apply(this,this[b],c)},d.prototype.returnChain=function(a){return new f},d.prototype.applyChain=function(a,b){var c=new f;for(var d in f.prototype)e(a,d,c)},d.addRegister=function(a,b){if(j[a])throw new Error("已经存在插件注册器:"+a);if(!g.isFunction(b))throw new Error("插件注册器"+a+",handler必须为函数");j[a]=b},f.prototype.delayRedirect=function(b,c){c=a.utils.ensureDecimal(c,800),setTimeout(function(){window.location.href=b},c)},f.prototype.delayReload=function(a){this.delayRedirect(location.href,a)},n(document).find("html").addClass(a.browser.getClassName())}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b){"use strict";function c(a,c,e,g){if(!a)throw new Error("插件名称 不能为空,必须为字符串");if(f[a])throw new Error("已存在名称为:"+a+"的插件");if(!e.instanceOf&&"function"!=typeof c)throw new Error("插件构造函数不是函数-->"+a);if(e.instanceOf)setTimeout(function(){b[a]=g.UI[e.from]},20);else{var h=null==e.auto||h;f[a]={auto:h},setTimeout(function(){b(e.startHandler)},20);var i=e;b.fn[a]=function(b,e,f){var g=[],h=Array.prototype.slice.call(arguments,1,arguments.length);return this.each(function(){g.push(d(i,c,a,this,b,h))}),g[0]},b.fn[a].defaults=c.defaults}}function d(a,c,d,e,f,g){var h=b(e),i=h.data(d);if(null==i&&"string"!=typeof f)f=b.extend({},c.defaults,b.fn[d].defaults,h.data(),f),f[a.target]=e,i=new c(f),h.data(d,i);else if(i&&"string"==typeof f)return i.execute(f,g)}function e(){var a=b(document.body);a.find("[data-plugin]").each(function(){var a=b(this).attr("data-plugin"),c=f[a];c&&c.auto&&b(this)[a]()})}var f={};b(e),a.addRegister("jquery",c)}(window.Lsmain.UIComponentLibraryClass,window.jQuery),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}function e(b){if(b.disabled)return!1;var c=a.UI.IResizable;return!c||!c.inResizeArea(b.container)}function f(){z>0||(z=setInterval(h,50))}function g(){clearInterval(z),z=0}function h(){var a=t;if(null!=a){var b=a.dragEvent,c=a.ranger,d=c.scrollTop(),e=c.scrollLeft(),f=(a.container,b.pageX),h=b.pageY,i=!1;0!==v&&(f+=v,c.scrollLeft(e+v),i=a.doListener("scrolling","x",f,v,h,w)),0!==w&&(h+=w,c.scrollTop(d+w),i=a.doListener("scrolling","y",f,v,h,w)),i||a.positionRender(b),0===w&&0===v&&g()}}function i(){var a=r(document);a.bind("mouseup.lsmain-draggable",j),a.bind("mousemove.lsmain-draggable",n),u=m}function j(a){var b=t;o(),b&&b.onDragEnd(a)}function k(a){var b=t;null==b&&(u=m);var c=b.container,d={x:a.clientX,y:a.clientY,offsetX:b.offsetX,offsetY:b.offsetY};b.doListener("dragstart",d),b.status=x.draging,c.css("position","absolute"),c.addClass("draging"),b.initRectangle(),b.onDraging(a),u=l}function l(a){var b=t;null==b&&(u=m),b.onDraging(a)}function m(a){}function n(a){u(a)}function o(){u=m,t=null}var p="lsmain-draggable";b.driver(d,"draggable",{target:"container"}),a.UI.IDraggable=d;var q=(a.string,a.animationMiddler,a.type),r=b.prototype.$,s="",t=null,u=null,v=0,w=0,x={down:1,up:2,draging:3,none:4},y={top:1,bottom:2,left:3,right:4,none:-1};d.prototype.status=x.none,d.prototype.isNotStaticRanger=!1,d.prototype.offsetX=0,d.prototype.offsetY=0,d.prototype.maxY=0,d.prototype.minY=0,d.prototype.maxX=0,d.prototype.minX=0,d.prototype.width=0,d.prototype.height=0,d.prototype.stageWidth=0,d.prototype.stageHeight=0,d.prototype.disabled=!1,d.prototype.dragPoint=null,d.prototype.prevPoint=null,d.prototype.ranger=null,d.prototype.defaultOptions={parent:null,container:null,scroll:!1,lock:!1,drag:"lsmain-draggable",dynamic:!1},d.draggable=function(a,c,e){var f=b.prototype.extend({container:a,drag:c},e);return new d(f)},d.prototype.elementRepeatConstructor=function(a){return r(a.container).data(p)},d.prototype.loadUIEvents=function(){this.registerEvents("dragstart","draging","dragend","scrolling")},d.prototype.loadUIParams=function(){var b=this.options,c=r(b.container),d=b.drag,e=null;return this.ranger=new a.UIScrollCompactClass(b.parent),this.isNotStaticRanger="absolute"==this.ranger.container.css("position"),c.length<=0?a.console.error("请设置拖放容器参数 container"):(e=q.isString(d)?c.find(d):r(d),e.length<=0&&(e=c),this.container=c,void(this.dragPoint=e))},d.prototype.loadUIHandlers=function(){if(!(null==this.container||this.container.length<0)){var a=(this.container,this.dragPoint);a.addClass("draggable"),a.bind("mousedown.lsmain-draggable",this.delayCall(this.onDragStart)),a.attr("draggable",!1)}},d.prototype.delayCall=function(a){var b=this;return function(){var c=arguments;setTimeout(function(){a.apply(b,c)},40)}},d.prototype.startupUI=function(){this.container.data(p,this),s=this.container.css("position")},d.prototype.disable=function(){t==this&&o(),this.disabled=!0},d.prototype.enable=function(){this.disabled=!1},d.prototype.onDragStart=function(b){if(e(this)){t=this;var c=r(this.container),d=(c[0],c.offset()),f=(this.ranger,a.uiHelp.getMargin(c[0]));this.options.lock?(this.offsetX=10+f.left,this.offsetY=10+f.top):(this.offsetX=b.pageX-d.left,this.offsetY=b.pageY-d.top),c.find("img").attr("draggable","false"),this.status=x.down,u=k,r(document.body).addClass("dragresize-select")}},d.prototype.initRectangle=function(){var a=r(this.container),b=a[0],c=this.ranger,d=a.offsetParent().offset(),e=c.container.offset(),f=e.left-d.left,g=e.top-d.top;f=f<0?0:f,g=g<0?0:g,this.width=b.offsetWidth,this.height=b.offsetHeight,this.maxX=c.scrollWidth()-this.width+f,this.maxY=c.scrollHeight()-this.height+g,this.minX=f,this.minY=g,this.stageHeight=c.clientHeight(),this.stageWidth=c.clientWidth()},d.prototype.onDraging=function(a){if(!this.disabled){this.options.dynamic&&this.initRectangle(),this.dragEvent=a;var b=this.positionRender(a);this.options.scroll===!0&&this.smartIntoView(b.rx,b.ry,this.width,this.height),this.doListener("draging",b)}},d.prototype.onDragEnd=function(a){this.disabled||(r(document.body).removeClass("dragresize-select"),this.container.removeClass("draging"),this.status=x.up,this.doListener("dragend"),this.status=x.none,this.offsetX=this.offsetY=v=w=0,g(),this.container.css("position",s))},d.prototype.positionRender=function(a){var b=r(this.container),c=b.offsetParent(),d=c.offset(),e=this.isNotStaticRanger?this.ranger.scrollTop():0,f=this.isNotStaticRanger?this.ranger.scrollLeft():0,g=this.maxX,h=this.maxY,i=this.minX,j=this.minY,k=a.pageX-this.offsetX,l=a.pageY-this.offsetY,m=k-d.left+f,n=l-d.top+e;m=m<=i?i:m,n=n<=j?j:n,m=m>g?g:m,n=n>h?h:n;var o={x:m,y:n,rx:m-i,ry:n-j,pageX:a.pageX,pageY:a.pageY};return b.css({left:o.x,top:o.y}),o.direct=this.getDirect(o),this.dragParams=o,o},d.prototype.clickLockRender=function(a){if(this.options.lock){var b=r(this.container),c=b.offsetParent(),d=c.offset();b.css({left:a.pageX-5-d.left,top:a.pageY-5-d.top})}},d.prototype.getDirect=function(a){var b=this.prevPoint,c=y.none;if(b){var d=a.x-b.x,e=a.y-b.y;c=d>e?d>0?y.bottom:y.top:e>0?y.right:y.left}return this.prevPoint=a,c},d.prototype.smartIntoView=function(a,b,c,d){var e=this.ranger,f=e.container.css("overflow-x"),g=e.container.css("overflow-y");this.isScrollBox(f)||this.isScrollBox(g)?this.scrollingParentScrolling(a,b,c,d):this.topParentScrolling(a,b,c,d)},d.prototype.scrollingParentScrolling=function(a,b,c,d){var e=this.isNotStaticRanger?this.ranger.scrollTop():0,h=this.isNotStaticRanger?this.ranger.scrollLeft():0,i=a+c-(h+this.stageWidth),j=b+d-(e+this.stageHeight),k=a-h,l=b-e,m=i>0?i:k<0?k:0,n=j>0?j:l<0?l:0;0!==m||0!==n?(v=m,w=n,f()):g()},d.prototype.topParentScrolling=function(a,b,c,d){var e=this.ranger,h=this.dragParams,i=e.container.offset(),j=e.container[0],k=h.pageX-i.left,l=h.pageX+c-(i.left+j.clientWidth),m=h.pageY-i.top,n=h.pageY+d-(i.top+j.clientHeight),o=k<0?k:l>0?l:0,p=m<0?m:n>0?n:0;0!==o||0!==p?(v=o,w=p,f()):g()},d.prototype.isScrollBox=function(a){return"auto"===a||"scroll"===a},d.prototype.destroy=function(){var a=this.dragPoint;a.removeAttr("draggable");var b=r(this.container);b.unbind("mousedown.lsmain-draggable"),this.defaultDestroy()};var z=0;r(i)}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}var e="lsmain-droppable",f={init:0,dropping:1,end:2,none:-1,forbid:3};b.driver(d,"droppable",{target:"target"}),a.UI.IDroppable=d;var g=(a.string,a.animationMiddler,a.uiHelp),h=b.prototype.$;d.prototype.defaultOptions={target:null,autoBack:!0,proxyCls:"droppable-placeholer",droppingCls:"dropping",startCls:"dropping-start",mode:"",top:null,receiver:".droppable-receiver",notAlloedCls:"not-allowed",auto:!1,offset:0},d.prototype.dragPoint={x:0,y:0,direct:-1},d.prototype.receiverOf={position:""},d.prototype.status=f.none,d.droppable=function(a,c){var e=b.prototype.extend({target:a},c);return new d(e)},d.prototype.elementRepeatConstructor=function(a){return a=a||[],h(a.target).data(e)},d.prototype.loadUIEvents=function(){this.registerEvents("created","start","end","droping","sort","changeReceiver","in","dropin","copy","scrolling")},d.prototype.loadUIParams=function(){var a=this.options;a.lock=!0,a.parent=a.top,this.$target=h(a.target),this.$target.addClass("droppable"),this.$target.attr("data-dropper","dropper");var b=a.mode;"copy"!=b&&"virtual"!=b||(this.copyOptions=h.extend({},a),this.copyOptions.mode="normal")},d.prototype.loadUIHandlers=function(){},d.prototype.startupUI=function(){this.originCssText=this.$target.attr("style");var b=this.dragger=a.UI.IDraggable.draggable(this.$target,null,this.options);b.addListener("dragstart",this.onCall(this.onStart)),b.addListener("dragend",this.onCall(this.onEnd)),b.addListener("draging",this.onCall(this.onDropping)),b.addListener("scrolling",this.onCall(this.onScrolling)),this.isDroppable()||this.forbid()},d.prototype.onStart=function(a){this.isDroppable()&&(this.createPlaceholder(),this.initDropping(),this.doListener("start",a,this.$target),this.status=f.init)},d.prototype.onDropping=function(a){this.isDroppable()&&(this.dragPoint=a,this.delayDropping(a),this.status=f.dropping)},d.prototype.onEnd=function(a){if(this.isDroppable()){var b=this.options.mode;"copy"==b||"virtual"==b?this.onCopyEnd(a):this.onNormalEnd(a);var c=this.options;this.$placeholder&&this.$placeholder.remove(),this.dragPoint={},this.doListener("end",a,this.$target),this.$target.removeClass(c.droppingCls).removeClass(c.startCls),this.$target.removeClass("cursor-forbidden"),this.$target.removeClass("drop-sort-forbidden"),this.status=f.none,this.$currentReceiver&&(this.$currentReceiver.removeClass("empty-receiver"),this.$currentReceiver.removeClass(this.options.notAlloedCls)),this.$prevReceiver&&(this.$prevReceiver.removeClass("empty-receiver"),this.$prevReceiver.removeClass(this.options.notAlloedCls)),this.$target.attr("style",this.originCssText||""),this.emptyReceiverRender(this.$target.closest(this.options.receiver)),this.$currentReceiver=this.$placeholder=this.$copy=null}},d.prototype.onScrolling=function(a,b,c,d,e){return this.doListener("scrolling",a,c,e)},d.prototype.delayDropping=function(a){var b=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){b.$placeholder&&(b.dropping(),b.doListener("droping",a,b.$target))},20)},d.prototype.isDroppable=function(){return!this.$target.is(".drop-forbidden")},d.prototype.isSortable=function(){return!this.$target.is(".drop-sort-forbidden")},d.prototype.forbid=function(){this.$target.addClass("drop-forbidden"),this.dragger.disable()},d.prototype.unForbid=function(){this.$target.removeClass("drop-forbidden"),this.dragger.enable()},d.prototype.onCopyEnd=function(a){var b=this.options;this.$currentReceiver?(this.$target.insertBefore(this.$copy),this.status===f.dropping&&("copy"==b.mode&&this.$copy.insertBefore(this.$placeholder),this.doListener("dropin",this.$currentReceiver,this.$copy,this.$placeholder)),"virtual"==b.mode&&(this.$copy.draggable("destroy"),this.$copy.remove())):this.options.autoBack&&this.$copy&&(this.$target.insertBefore(this.$copy),this.$copy.remove())},d.prototype.onNormalEnd=function(a){this.$currentReceiver&&this.status===f.dropping?(this.$target.insertBefore(this.$placeholder),this.doListener("dropin",this.$currentReceiver,this.$target,this.$placeholder)):this.options.autoBack&&this.$target.insertBefore(this.$placeholder)},d.prototype.initDropping=function(){var a=this.$placeholder,b=this.$target,c=this.options,d=(b.offset(),c.mode);if("copy"==d||"virtual"==d?(this.$copy.show(),this.$copy.addClass(c.droppingCls)):(a.show(),a.addClass(c.droppingCls)),b.addClass(c.droppingCls).removeClass(c.startCls),this.options.top){var e=b[0];g.setClientHeight(e,e.offsetHeight),g.setClientWidth(e,e.offsetWidth),b.appendTo(this.options.top)}this.$receivers=this.getReceivers()},d.prototype.dropping=function(){var a=this.getCurrentReceiver(),b=this.getReceiverChildDropper(a);return this.canDropIn(a)?(a&&this.$placeholder.show(),void(b?this.sort(b,a):a?this.dropIn(a):null==a&&(this.$currentReceiver=null,this.$placeholder.hide()))):void this.$placeholder.hide()},d.prototype.canDropIn=function(a){var b=this.$target,c=!0;if(b.removeClass("cursor-forbidden"),a){var d=a.is(".drop-forbidden");d||(d=this.doListener("in",a,b)===!1),d?(this.status=f.forbid,b.addClass("cursor-forbidden"),a.addClass(this.options.notAlloedCls),c=!1):(this.status=f.dropping,a.removeClass(this.options.notAlloedCls),b.removeClass("cursor-forbidden"))}return c},d.prototype.placeWidthRender=function(a){if(this.options.auto){var b=a[0],c=this.$placeholder[0];g.setClientHeight(c,b.clientWidth),g.setClientWidth(c,b.clientWidth)}},d.prototype.sort=function(a,b){var c=this.$target,d=a.is(".drop-sort-forbidden");return d||(d=this.doListener("sort",a,b,this.$target)),d?void c.addClass("cursor-forbidden"):(c.removeClass("cursor-forbidden"),this.placeWidthRender(b),void this.movePlaceholder(a,b))},d.prototype.dropIn=function(b){var c=(this.$target,a.event),d=this.$placeholder[0];this.emptyReceiverRender(this.$placeholder.closest(this.options.receiver)),c.isChild(d,b[0])||(b.children().length>0?this.$placeholder.insertBefore(b.children().eq(0)):this.$placeholder.appendTo(b),this.$currentReceiver=b),this.placeWidthRender(b),this.$placeholder.show()},d.prototype.emptyReceiverRender=function(a){if(a){var b="[data-dropper],."+this.options.proxyCls;a.find(b).length<1?a.addClass("empty-receiver"):a.removeClass("empty-receiver")}},d.prototype.movePlaceholder=function(a,b){var c=this.dragPoint.direct,d=this.$placeholder;switch(c){case 1:case 3:d.insertBefore(a),this.$currentReceiver=b;break;case 2:case 4:d.insertAfter(a),this.$currentReceiver=b}},d.prototype.getReceiverChildDropper=function(b){if(b){for(var c=this.$target[0],d=this.dragPoint,e=new a.UIScrollCompactClass(document.body),f=b.find("[data-dropper]"),h=null,i=null,j=d.pageX-e.scrollLeft(),k=d.pageY-e.scrollTop(),l=0,m=f.length;l<m;l++)if(h=f.eq(l),h[0]!=c&&g.positionIn(j,k,h[0])){i=h;break}return i}},d.prototype.getCurrentReceiver=function(){for(var a=this.$receivers,b=null,c=null,d=0,e=a.length;d<e;d++)if(b=a.eq(d),this.inReceiver(b)){c=b;break}return c&&this.$prevReceiver&&c[0]!==this.$prevReceiver[0]&&this.doListener("changeReceiver",c,this.$prevReceiver),this.$prevReceiver&&this.$prevReceiver.removeClass(this.options.notAlloedCls),this.$prevReceiver=c,c},d.prototype.inReceiver=function(a){var b=this.$target,c=g.getBoundingClientRect(b[0]);return g.positionIn(c.left,c.top,a[0])},d.prototype.getReceivers=function(){var b=this.options,c=b.receiver,d=null;return d=a.type.isFunction(c)?c(this.$target)||h([]):h(c)},d.prototype.createPlaceholder=function(){this.$placeholder&&this.$placeholder.parent()&&this.$placeholder.remove();var a=this.$target,b=this.$placeholder=a.clone(),c=a[0],d=b[0];d.innerHTML="",d.className=this.options.proxyCls,b.css("margin",a.css("margin")),b.removeAttr("data-dropper"),b.insertBefore(a),g.setClientHeight(d,c.offsetHeight),g.setClientWidth(d,c.offsetWidth),b.hide(),a.addClass(this.options.startCls);var e=this.options.mode;"copy"!=e&&"virtual"!=e||(this.$copy=a.clone(),this.$copy.hide(),this.$copy.insertAfter(a),this.$copy.droppable(this.copyOptions),this.doListener("copy",this.$copy))},d.prototype.destroy=function(){this.dragger.destroy(),this.defaultDestroy()}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}function e(a,b,c){var d=c.options,e=c.point,f=y(c),g=p(e,a,b,d);return f.css({width:g.width}),g}function f(a,b,c){var d=c.options,e=c.point,f=y(c),g=p(e,a,b,d);return f.css({height:g.height}),g}function g(a,b,c){var d=c.options,e=c.point,f=y(c),g=p(e,a,b,d);return f.css({width:g.width,height:g.height}),g}function h(a,b,c){var d=c.options,e=c.point,f=y(c),g=p(a,e,b,d);return f.css({left:g.left,width:g.width}),g}function i(a,b,c){var d=c.options,e=c.point,f=y(c),g=p({x:a.x,y:e.y},{x:e.x,y:a.y},b,d);return f.css({width:g.width,height:g.height,left:g.left}),g}function j(a,b,c){var d=c.options,e=c.point,f=y(c),g=p(a,e,b,d);return f.css({height:g.height,top:g.top}),g}function k(a,b,c){var d=c.options,e=c.point,f=y(c),g=p(a,e,b,d);return f.css({width:g.width,height:g.height,top:g.top,left:g.left}),g}function l(a,b,c){var d=c.options,e=c.point,f=y(c),g=p({x:e.x,y:a.y},{x:a.x,y:e.y},b,d);return f.css({width:g.width,height:g.height,top:g.top}),g}function m(a,b,c){var d=H.intCssOf(b,c,0);return a>0&&a<d?d:a<=0?50:a}function n(a,b,c){var d=H.intCssOf(b,c,0);return a>0&&a>d&&d>0?d:a}function o(b,c,d){return b=a.utils.ensureDecimal(b,0),b<=0&&(b=c.parent()[d]()),b}function p(a,b,c,d){var e=q(b.x-a.x,d.maxWidth,d.minWidth),f=q(b.y-a.y,d.maxHeight,d.minHeight),g=b.x-e,h=b.y-f;return{width:e,height:f,left:g,top:h}}function q(a,b,c){return b>0&&(a=a>b?b:a),c>0&&(a=a<c?c:a),a<0&&(a=null),a}function r(b,c,d){var e=b[0].getBoundingClientRect(),f=(b[0],a.event,5),g=d.clientX-e.left,h=d.clientY-e.top,i=b.width(),j=b.height(),k=i-g,l=j-h,m="";return g<=f&&h<=f?m=M.nw:g<=f&&l<=f?m=M.sw:k<=f&&h<=f?m=M.ne:k<=f&&l<=f?m=M.se:g<f?m=M.w:k<f?m=M.e:h<f?m=M.n:l<f&&(m=M.s),G.indexOf(c,m.replace("-resize",""))<0&&(m=""),m&&(m=m),s(d,m),m}function s(a,b){N&&N!=a.toElement&&(N.style.cursor=b),a.toElement&&(a.toElement.style.cursor=b)}function t(a){var b=a.container[0].offsetParent||document.body,c=I('<div style="display:none;" class="resize-proxy-holder"></div>');c.appendTo(b);var e=a.options,f=d.resizable(c,e.maxWidth,e.maxHeight,e.minWidth,e.minHeight);f.owner=a,f.managed(a),c.mouseout(function(){x(a)}),J.addOnly(f)}function u(a){return J.queryOf("owner",a)[0]}function v(b){if(b.options.proxy===!0){var c=u(b);if(null===c)return;var d=c.container,e=b.container,f=e[0],g={cursor:b.direct,top:f.offsetTop,left:f.offsetLeft};a.uiHelp.setClientHeight(d[0],f.offsetHeight),a.uiHelp.setClientWidth(d[0],f.offsetWidth),d.css(g),d.show()}}function w(b){if(J.contains(b)){var c=b.owner,d=b.container,e=c.container,f=d[0],g={top:d.css("top"),left:d.css("left")};a.uiHelp.setClientHeight(e[0],f.offsetHeight),a.uiHelp.setClientWidth(e[0],f.offsetWidth),e.css(g)}}function x(a,b){var c=null;if(J.contains(a)?c=a:a.options.proxy&&(c=u(a)),c){if(c.isResizing)return;c.container.hide()}}function y(a){if(a.options.proxy===!0){var b=u(a);if(b)return b.container}return a.container}function z(){var a=I(document);a.bind("mouseup.lsmain-resizable",A),a.bind("mousemove.lsmain-resizable",B)}function A(a){K&&(K.onResizeEnd(a),E()),J.each(function(a){a.container.hide()})}function B(a){L&&L(a)}function C(a){L=D,D(a,!0)}function D(a,b){K&&K.onResizing(a,b)}function E(){K=null,L=null}var F="lsmain-resizable";b.driver(d,"resizable",{target:"container"}),a.UI.IResizable=d;var G=(a.string,a.animationMiddler,a.array),H=a.uiHelp,I=b.prototype.$,J=new a.List,K=null,L=null,M={e:"e-resize",ne:"ne-resize",nw:"nw-resize",n:"n-resize",se:"se-resize",sw:"sw-resize",s:"s-resize",w:"w-resize"};d.prototype.direct="",d.prototype.disabled=!1,d.prototype.allows=[],d.prototype.point={x:0,y:0},d.prototype.isResizing=!1,d.resizable=function(c,e,f,g,h,i){var j=null;2==arguments.length&&a.type.isObject(e)?(j=e,j.container=c):j={container:c,maxWidth:e,minWidth:g,maxHeight:f,minHeight:h};var k=b.prototype.extend(j,i);return new d(k)},d.prototype.defaultOptions={container:null,maxWidth:0,maxHeight:0,minWidth:50,minHeight:50,proxy:!1,allows:"all"},d.inResizeArea=function(a){return I(a).is(".resizable-ready")},d.prototype.elementRepeatConstructor=function(a){return I(a.container).data(F)},d.prototype.loadUIEvents=function(){this.registerEvents("resize","start","end")},d.prototype.loadUIParams=function(){var a=this.options,b=this.container=I(a.container),c=null;c="all"===a.allows?["e","s","w","n","se","ne","sw","nw"]:a.allows.split(",");var d=b[0];a.maxWidth=o(a.maxWidth,b,"width"),a.maxHeight=o(a.maxHeight,b,"height"),a.minHeight=m(a.minHeight,d,"min-height"),a.minWidth=m(a.minWidth,d,"min-width"),a.maxHeight=n(a.maxHeight,d,"max-height"),a.maxWidth=n(a.maxWidth,d,"max-width"),this.container.addClass("resizable"),this.allows=c},d.prototype.loadUIHandlers=function(){var a=this.container;a.bind("mousemove.lsmain-resizable",this.onCall(this.sendMessage)),a.bind("mousedown.lsmain-resizable",this.onCall(this.onResizeStart)),this.options.proxy&&t(this)},d.prototype.startupUI=function(){this.container.data(F,this)},d.prototype.disable=function(){K==this&&E(),this.disabled=!0},d.prototype.enable=function(){this.disabled=!1},d.prototype.sendMessage=function(a){if(!this.isResizing){var b=r(this.container,this.allows,a);this.setResize(b)}},d.prototype.clearResize=function(){this.container.removeClass(this.direct),this.direct=""},d.prototype.setResize=function(a){this.clearResize(),this.container.addClass(a),""!==a?(v(this),this.container.css("cursor",a),this.container.addClass("resizable-ready")):(x(this,!0),this.container.css("cursor",""),this.container.removeClass("resizable-ready")),this.direct=a},d.prototype.onResizeStart=function(a){if(!this.disabled){var b=this.direct;if(""!==b){this.isResizing=!0;var c=M,d={},e=this.container[0],f={top:e.offsetTop,left:e.offsetLeft},g=e.offsetWidth,h=e.offsetHeight;switch(b){case c.e:case c.s:case c.se:d={x:f.left,y:f.top};break;case c.w:case c.sw:d={x:f.left+g,y:f.top};break;case c.n:case c.ne:d={x:f.left,y:f.top+h};break;case c.nw:d={x:f.left+g,y:f.top+h}}var i=this.owner?"holder-resize-start":"";this.container.addClass("resize-bcf resize-start "+i),this.point=d,K=this,L=C,this.doListener("start"),I(document.body).addClass("dragresize-select")}}},d.prototype.onResizing=function(b){if(!this.disabled){var c=(this.options,this.container),d=I(c[0].offsetParent).offset()||{left:0,top:0},m=H.getPbs(c[0]),n={x:b.pageX-d.left,y:b.pageY-d.top},o={x:n.x-m.x,y:n.y-m.y},p=this.direct,q=M,r={width:0,height:0};if(a.uiHelp.positionIn(n.x,n.y,c[0].offsetParent)){switch(p){case q.e:r=e(n,o,this);break;case q.s:r=f(n,o,this);break;case q.se:r=g(n,o,this);break;case q.w:r=h(n,o,this);break;case q.sw:r=i(n,o,this);break;case q.n:r=j(n,o,this);break;case q.ne:r=l(n,o,this);break;case q.nw:r=k(n,o,this)}this.doListener("resize",r)}}},d.prototype.onResizeEnd=function(a){this.disabled||(w(this),x(this),this.isResizing=!1,I(document.body).removeClass("dragresize-select"),this.container.removeClass("resize-bcf"),this.container.removeClass("resize-start"),this.container.removeClass("holder-resize-start"),this.doListener("end"),N=null)},d.prototype.destroy=function(){this.defaultDestroy();var a=u(this);if(a){var b=a.container;b.unbind("mouseout.lsmain-resizable"),a.destroy(),b.remove()}};var N=null;I(z)}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){function d(a){this.initialize.apply(this,arguments)}function e(a,b,c,d){var e=!0,f=a.originTarget,g=a.$container.find("[type=hidden]");return a.options.multi||(e=b!==c),f.is("select")&&f.find("option[value="+c+"]").length<1&&f.html('<option value="'+c+'"></option>'),f.val(c),g.val(c),o.call(a,c),"clear"!=d?g.data("ori",c):e=!1,e}function f(a,b){var c,d=a.find("option"),e=[];return d.each(function(){var a=S(this).val(),d=S(this).text();c={},c[b.textField]=d,c[b.valueField]=a,e.push(c)}),e}function g(b){var c=this.options,e=c.formatter;a.type.isFunction(e)||(e=x);var f=e(b);if(!f.success)return i.apply(this,[f.message]);k(this),this.bindRemote=d.prototype.bindRemote;var g=this.doListener("success",f);f=a.utils.undef(g,f),this.bindLocal(f.rows),this.clearRefresh=!1}function h(a){var b=a.$container.find("[type=hidden]"),c=b.data("ori")||"";c&&b.data("ori",null),"ui"==a.valueMode?(N(),a.showPanel()):a.hidePanel(),p(c,a)&&(a.val(c),a.doListener("cascade",a.val()))}function i(a){this.clearRefresh=!1,this.bindRemote=d.prototype.bindRemote;var b=this.getComboboxListPanel();k(this),console.error(a),this.doListener("error",a),b.html('<li class="combobox-error">加载异常</li>')}function j(a){a.readonly(),a.$container.find(".combobox-input").data("loading",!0).val("加载中...")}function k(a){a.readonly(!1),a.$container.find(".combobox-input").data("loading",!1).val("请选择")}function l(a){a.cascadeList.each(function(b){b.val("","clear");a.$container.find("[type=hidden]").data("ori");b.$container.find(".combobox-input").data("loading")&&j(b),l(b)})}function m(b,c,d,e,f){c=c||{},b.__cascadeParams=n(b);var g=b.options.cache&&!b.clearRefresh,h=g?c[e]:null;h?(b.bindLocal(h),b.showPanel()):a.string.isNullOrWhiteSpace(e)?b.bindLocal([]):(b.__showType=f,b.refresh())}function n(b){if(b.__cascadeParent){var c=b.__field,d=b.__cascadeParent.val(),e=null;return a.type.isFunction(c)?e=c(d):(e={},e[c.toString()]=d),e}return{}}function o(a){var b=(a||"").split(","),c=this.$container,d=[],e=null,f=this.getComboboxListPanel();f.find(".combobox-selected").removeClass("combobox-selected");for(var g=0,h=b.length;g<h;g++)e=f.find("[data-value="+b[g]+"]"),e.addClass("combobox-selected"),d.push(e.text());this.doListener("select",a),c.find(".combobox-input").val(d.join(","))}function p(a,b){return null==b.dataList||b.dataList.queryOf(b.options.valueField,a).length>0}function q(a,b,c){var d=a.$container,e=d.find("[type=hidden]"),f=r(b);e.attr("value",f),e.data("ori",f),d.insertBefore(b[0]);var g=y(b);b.css("display","none");var h=a.getComboboxListPanel();t(h,g,"text","value"),h.css("height",c.height),s(a)}function r(a){if(a.is("select")){var b=a[0],c=b.attributes||{},d=c.value||{nodeValue:""};return d.nodeValue||b.value}return a.val()}function s(b){var c=b.$container,d=b.getComboboxListPanel();a.uiHelp.setClientWidth(d[0],c.width())}function t(a,b,c,d){a.html(u(b,c,d))}function u(b,c,d){var e=[];return a.type.isArray(b)&&R.each(b,function(a){e.push('<li class="combobox-list-item" data-value="'+a[d]+'"><a class="combobox-list-item-a" href="###">'+a[c]+"</a></li>")}),e.join("\n")}function v(b){var c=(b.$container,b.getComboboxListPanel()),d=c[0];if(0!==a.uiHelp.verticalFullInClientView(d)){var e=w(b);e.topHeight>e.bottomHeight?(a.uiHelp.setClientHeight(c[0],e.topHeight),c.css({"margin-top":-e.topHeight-d.parentElement.offsetHeight}),c.addClass("combobox-list-top-border")):(a.uiHelp.setClientHeight(c[0],e.bottomHeight),c.removeClass("combobox-list-top-border"))}}function w(a){var b=a.$container,c=a.getComboboxListPanel()[0],d=c.parentElement,e=c.offsetParent,f=Math.abs(c.offsetTop);e==b[0]&&(f+=e.offsetTop,e=e.offsetParent),e=e||{scrollTop:0};var g=e.scrollTop,h=e.scrollTop+e.clientHeight,i=0,j=0;return g<d.offsetTop-c.offsetHeight-d.offsetHeight?j=c.offsetHeight:(i=h-f-5,j=d.offsetTop-g-5),{bottomHeight:i,topHeight:j,min:g,max:h}}function x(a){return{rows:a.data,message:a.message,success:1==a.status}}function y(a,b,c){var d=[];if(a.is("select")){var e=a.find("option");d=e.map(z)}return d}function z(){var a=S(this),b=a.text(),c=a.attr("value")||b;return{text:b,value:c}}function A(a,b,c,d){var e={};e.url=d,e.type="POST",e.success=b,e.error=c,e.dataType="json",e.data=a,S.ajax(e)}function B(a,b){if(9==a.keyCode)return void L.apply(a.srcElement||a.target,a);if(38==a.keyCode||40==a.keyCode||13==a.keyCode){var c=b.getComboboxListPanel();return void("none"!==c.css("display")&&13==a.keyCode&&(a.preventDefault(),a.stopPropagation(),b.hidePanel(),setTimeout(function(){b.valueMode="ui",b.doListener("cascade",b.val())},20)))}if(b.options.search){var d=b.$container.find(".combobox-input"),e=d.val(),f=d.data("old");f!=e&&I(b,e),d.data("old",e)}}function C(a,b){13==a.keyCode&&a.preventDefault(),U||(U=setTimeout(function(){U=null,D(a,b)},80))}function D(a,b){var c=b.getComboboxListPanel();"none"!==c.css("display")?38==a.keyCode?H(b):40==a.keyCode&&G(b):40===a.keyCode&&b.showPanel()}function E(b){var c=S(a.event.getTarget(b)),d=c.parent().attr("data-value");"请选择"===c.text()&&(d=""),this.val(d,"ui"),this.$container.find(".combobox-input").focus().blur(),this.hidePanel(),a.event.stopParentHandler(b)}function F(b){var c=S(a.event.getTarget(b)).parent(),d=c.attr("data-value"),e=this.val(),f=null;if(c.is(".combobox-selected")){c.removeClass("combobox-selected");var g=e.split(",");f=R.filter(g,function(a){return a!==d})}else f=[e,d];this.val(R.filterEmpty(f),"ui"),a.event.stopParentHandler(b)}function G(b){var c=b.getComboboxListPanel(),d=c.find(".combobox-selected"),e=d.next("li");e.length<1&&(e=c.find(".combobox-list-item:first")),e[0]&&a.uiHelp.scrollIntoView(e[0]),b.val(e.attr("data-value"),"clear")}function H(b){var c=b.getComboboxListPanel(),d=c.find(".combobox-selected"),e=d.prev("li");e.length<1&&(e=c.find(".combobox-list-item:last")),e[0]&&a.uiHelp.scrollIntoView(e[0]),b.val(e.attr("data-value"),"clear")}function I(a,b){var c=Q,d=(a.$container,a.options),e=a.dataList;if(e){var f=e.items,g=d.textField;!c.isNullOrWhiteSpace(b)&&e?(f=a.searchHandler(e,b,g),a.needLocalRefresh=!0):a.needLocalRefresh=!1,t(a.getComboboxListPanel(),f,g,d.valueField)}a.showPanel()}function J(a,b,c){var d=a.query(function(a){return(a[c]||"").indexOf(b)>-1});return d}function K(){S(document).on("click.lsmain-combobox",".combobox-input",L),S(document).bind("click.lsmain-combobox",M)}function L(b){var c=S(this).parents(".combobox-wrap").data(P);
c&&c.showPanel("click"),N(c),a.event.stopParentHandler(b)}function M(){N()}function N(a){for(var b=null,c=0,d=T.length;c<d;c++)b=T[c],a&&b==a||b.hidePanel();a?T=[a]:T.length=0}function O(){}var P="lsmain-combobox";b.driver(d,"combobox"),a.UI.Combobox=d;var Q=a.string,R=(a.animationMiddler,a.uiHelp,a.array),S=b.prototype.$,T=[];d.prototype.defaultOptions={target:null,url:"",width:null,height:180,data:null,textField:"text",valueField:"value",formatter:x,queryParams:{},search:!0,multi:!1,disabled:!1,readonly:!1,placeholder:"请选择",leader:null,cache:!0,emptyValue:null,loader:A},d.prototype.__showType=null,d.prototype.__cascadeParams=null,d.prototype.__cascadeHandler=null,d.prototype.elementRepeatConstructor=function(a){return S(a.target).data(P)},d.prototype.loadUIEvents=function(){this.registerEvents("change","select","success","error","cascade")},d.prototype.loadUIParams=function(){var b=this.options,c=a.utils.ensureDecimal(b.height,0);c<=0&&(b.height=180),a.type.isFunction(b.search)?(this.searchHandler=b.search,b.search=!0):this.searchHandler=J,this.cascadeList=new a.List},d.prototype.loadUIContent=function(){var b=['<div class="combobox-wrap">','<div class="combobox">','   <input type="text" class="combobox-input"/>',"</div>",'<ul class="combobox-list" style="display:none"></ul>','<input type="hidden" />',"</div>"],c=this.options,d=this.$container=S(b.join("\n"));this.originTarget=S(c.target),this.$comboxItems=d.find(".combobox-list"),this.$originComboboxItems=this.$comboxItems,c.placeholder=a.utils.ifn(this.originTarget.attr("placeholder"),c.placeholder),Q.isNullOrWhiteSpace(c.url)&&null==c.data&&(c.data=f(this.originTarget,c)),d.find(".combobox-input").css({width:c.width}),d.find(":text").attr("placeholder",c.placeholder),q(this,this.originTarget,c)},d.prototype.loadUIHandlers=function(){this.options.multi?S(this.$container).on("click.lsmain-combobox",".combobox-list-item-a",this.onCall(F,this)):(this.$comboxItems.on("click.lsmain-combobox",".combobox-list-item-a",this.onCall(E,this)),S(this.$container).on("keyup.lsmain-combobox",".combobox-input",this.onCall(B,this)),S(this.$container).on("keypress.lsmain-combobox",".combobox-input",a.event.stopParentHandler),S(this.$container).on("keydown.lsmain-combobox",".combobox-input",this.onCall(C,this))),a.event.customMouseWheel(this.getComboboxListPanel(),"lsmain-combobox")},d.prototype.startupUI=function(){this.$container.data(P,this),this.originTarget.data(P,this),this.$container.find("[type=hidden]").data(P,this),this.leaderRender();var a=this.options;if(a.readonly?this.readonly():a.disabled&&this.disabled(),this.options.noInitRemote){if(this.__cascadeParent&&!this.__cascadeParent.__cascadeParent){var b=this.__cascadeParent;b.doListener("cascade",b.val())}}else this.refresh()},d.prototype.leaderRender=function(){var b=this.options,c=b.leader;c&&!a.type.isClass(c,d)&&(c=S(c).data(P)),a.type.isClass(c,d)&&(c.cascade2(this,b.cascadeParam||c.options.valueField),b.noInitRemote=!0)},d.prototype.bindRemote=function(b,c){var d=this.options,e=d.loader;a.type.isFunction(e)||(e=A),a.type.isFunction(c)&&(c=c()),this.bindRemote=O,c=this.extend({},c,n(this)),j(this),e(c,this.onCall(g),this.onCall(i),b)},d.prototype.bindLocal=function(b){var c=this.$container;if(c){var d=this.options;this.dataList=new a.List(b),t(this.getComboboxListPanel(),this.dataList.items,d.textField,d.valueField),h(this)}},d.prototype.getData=function(){return(this.dataList||{items:[]}).items||[]},d.prototype.cascade=function(a,b){b=b||{};var c=b.url;b.url=null;var e=new d(b);return e.options.url=c,this.cascade2(e,a),e},d.prototype.cascade2=function(b,c){if(a.type.isClass(b,d)){if(a.type.isFunction(b.__cascadeHandler))throw new Error("不允许重复级联");if(b.cascadeList.contains(this))throw new Error("不允许循环级联");if(b==this)throw new Error("不能级联自己");var e={},f=null,g=this,h=b,i=function(a){p(a,g)&&(f=a,l(g),h.valueMode=g.valueMode,m(h,e,c,a,g.__showType))};return i.cacheHandler=function(a){e[f]=a.rows},i.release=function(){h.removeListener("success",i.cacheHandler),e=h=h.__cascadeHandler=i=i.cacheHandler=i.release=null},h.addListener("success",i.cacheHandler),this.addListener("cascade",i),h.__cascadeHandler=i,h.__cascadeParent=this,h.__field=c,this.cascadeList.addOnly(h),h}},d.prototype.cancelCascade=function(b){var c=b;if(a.type.isClass(c,d)||(c=S(b).data(P)),c){this.cascadeList.removeItem(c);var e=c.__cascadeHandler;e.release(),this.removeListener("change",e)}},d.prototype.refresh=function(a){var b=this.options;this.clearRefresh=a,Q.isNullOrWhiteSpace(b.url)?this.bindLocal(b.data):this.bindRemote(b.url,b.queryParams)},d.prototype.val=function(a,b){if(0===arguments.length)return this.$container.find("[type=hidden]").val();this.valueMode=b,a=(a||"").toString();var c=this.val(),d=e(this,c,a,b);(d||"ui"==b)&&(this.doListener("change",a,c),this.doListener("cascade",a))},d.prototype.textOf=function(b){a.type.isArray(b)||(b=(b||"").toString().split(","));var c=[],d=this.dataList;return d&&(c=d.queryByValues(this.options.valueField,b)),R.valuesArray(c,this.options.textField)},d.prototype.valuesOf=function(b){a.type.isArray(b)||(b=(b||"").toString().split(","));var c=[],d=this.dataList;return d&&(c=d.queryByValues(this.options.textField,b)),R.valuesArray(c,this.options.valueField)},d.prototype.showPanel=function(a){var b=this.$container;if(b){var c=b.find(".combobox-input")[0];if(c.disabled||c.readOnly)return;N(this),this.__showType=a,T.push(this),this.showIe7Panel(),s(this),this.getComboboxListPanel().show(),b.addClass("ie6combobox-zindex"),v(this),setTimeout(function(){c.focus()},20)}},d.prototype.showIe7Panel=function(){if(a.browser.ie("<=","7.0")){var b=this.$container.offset();this.$comboxItems.appendTo(document.body),this.$comboxItems.css({left:b.left,top:b.top+this.$container.height()})}},d.prototype.notify=function(){var b=this.dataList;if(this.__cascadeParent)this.__cascadeParent.notify();else if(b&&b.size()>0){var c=this.val(),d=b.item(0);c=a.utils.ifn(c,d[this.options.valueField]),this.val(c)}else this.refresh()},d.prototype.hidePanel=function(){var a=this.$container;a&&(a.removeClass("ie6combobox-zindex"),this.hideIe7Panel(),this.needLocalRefresh&&(this.needLocalRefresh=!1,this.bindLocal(this.dataList),this.__showType=null),this.getComboboxListPanel().hide())},d.prototype.hideIe7Panel=function(){this.$comboxItems.insertAfter(this.$container.find(".combobox"))},d.prototype.readonly=function(a){var b=this.$container;b&&(a!==!1?b.find(".combobox-input").attr("readonly","readonly"):b.find(".combobox-input").removeAttr("readonly"))},d.prototype.disabled=function(a){var b=this.$container;b&&(a!==!1?b.find(".combobox-input").attr("disabled","disabled"):b.find(".combobox-input").removeAttr("disabled"))},d.prototype.destroy=function(){this.defaultDestroy(),this.$container.data(P,null),this.$container.unbind("click.lsmain-combobox"),this.$container.unbind("keyup.lsmain-combobox"),this.$container.find("[type=hidden]").data(P,null),this.$container.remove(),this.$comboxItems=this.$originComboboxItems=null,this.options=null,this.$container=null},d.prototype.getComboboxListPanel=function(){return this.$comboxItems};var U=null;K()}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}function e(){h(document.body);d.on(document.body,"mouseenter",f,"[data-usemap]",d.prototype.syncMap),d.on(document.body,"click",f,"[data-usemap]",d.prototype.syncMap),h(window).resize(function(){h("[data-usemap]").each(function(){var a=h(this).data(f);a&&a.syncMap()})})}var f="lsmain-img-map";a.UI.ImgMap=d,b.driver(d,"imgMap",{target:"target",startHandler:e});var g=a.string,h=(a.animationMiddler,a.uiHelp,b.prototype.$);d.prototype.defaultOptions={target:null},d.prototype.elementRepeatConstructor=function(a){return h(a.target).data(f)},d.prototype.loadUIEvents=function(){},d.prototype.loadUIParams=function(){this.target=h(this.options.target)},d.prototype.loadUIContent=function(){var a=this.target.attr("usemap"),b=h("map[name="+a.replace("#","")+"]");g.isNullOrWhiteSpace(a)&&(a="#"),b.length<1&&(b=h('<map id="'+a.replace("#","")+'"></map>')),this.target.attr("data-usemap",""),this.map=b,this.clientWidth=this.options.clientWidth,this.clientHeight=this.options.clientHeight},d.prototype.getClientOfImage=function(a){var b=new Image,c=this;b.onload=function(){c.clientWidth=b.width,c.clientHeight=b.height},b.src=a},d.prototype.loadUIHandlers=function(){},d.prototype.startupUI=function(){this.target.data(f,this);var a=this;this.target.load(function(){a.syncMap()}),this.syncMap()},d.prototype.addArea=function(a,b){},d.prototype.syncMap=function(){var a=this.map.find("area"),b=this;a.each(function(){b.syncArea(this)})},d.prototype.parse=function(a){var b=h(a),c=b.data("origin");c||(c=b.attr("coords"),b.data("origin",c));var d=c.split(",");return 3==d.length?{x:Number(d[i]),y:Number(d[1]),r:Number(d[2])}:4==d.length?{lx:Number(d[0]),ly:Number(d[1]),rx:Number(d[2]),ry:Number(d[3])}:void 0},d.prototype.syncArea=function(a){var b=h(a).attr("shape");switch(b){case"circle":this.syncCircle(a);break;case"rect":this.syncRect(a)}},d.prototype.syncRect=function(a){var b=this.parse(a),c=this.clientWidth,d=this.clientHeight,e=this.target[0],f=e.offsetWidth,g=e.offsetHeight;b.lx=Math.round(parseInt(b.lx)*(f/c)),b.ly=Math.round(parseInt(b.ly)*(g/d)),b.rx=Math.round(parseInt(b.rx)*(f/c)),b.ry=Math.round(parseInt(b.ry)*(g/d)),h(a).attr("coords",[b.lx,b.ly,b.rx,b.ry].join(","))},d.prototype.syncCircle=function(a){var b=this.parse(a),c=this.clientWidth,d=this.clientHeight,e=this.target.width(),f=this.target.height();b.x=Math.round(parseInt(b.x)*e/c),b.y=Math.round(parseInt(b.y)*f/d),a.attr("coords",[b.x,b.y,b.r].join(","))},d.prototype.destroy=function(){this.defaultDestroy()}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}var e="imgzoom";b.driver(d,e,{target:"target"}),a.UI.ImageZoom=d;var f=b.prototype.$;d.prototype.defaultOptions={imageUrls:null,target:null,rate:2,zoomSize:null},d.prototype.loupeRect={width:0,height:0},d.prototype.rangeRect={left:0,top:0,right:0,bottom:0},d.prototype.elementRepeatConstructor=function(a){return f(a.target).data(e)},d.prototype.loadUIEvents=function(){},d.prototype.loadUIParams=function(){this.$target=f(this.options.target)},d.prototype.loadUIContent=function(){var a=['<div class="image-zoom zoom-disabled">','   <div class="image-zoom-viewport">','       <div class="image-zoom-area">','           <img src="" class="big-img" />',"       </div>","   </div>",'   <div class="image-zoom-small-pane">','       <div class="image-zoom-small">','           <div class="zoom-loupe"></div>',"       </div>",'       <div class="image-zoom-icon-list image-zoom-hide">',"       </div>","   </div>","</div>"],b=f(a.join("\n"));b.appendTo(this.$target),this.$container=b,this.$target.addClass("image-zoom-origin"),this.initZoomUrls()},d.prototype.initZoomUrls=function(){var b=this.options.imageUrls,c=[];if(a.type.isArray(b))for(var d=null,e=0,f=b.length;e<f;e++)d=b[e],c.push('<img class="small-img" small-src="'+d.src+'" data-zoom="'+d.zoom+'" />');this.$target.find("img[data-zoom]").addClass("small-img").appendTo(this.$container.find(".image-zoom-small")),this.$container.find(".image-zoom-small").append(c.join("\n")),this.onActive(0)},d.prototype.onActive=function(a){var b=this.$container,c=b.find("[data-zoom]:eq("+a+")"),d=c.attr("small-src");b.find(".active").removeClass("active"),c.addClass("active"),c.attr("src")||this.getImageRect(d,this.bind(this.onActiveReady,c))},d.prototype.onActiveReady=function(a,b){var c=this.$container.find(".image-zoom-small"),d=c.width(),e=c.height(),f=a.width,g=a.height,h=f/g;f>d&&(f=d,g=f/h),g>e&&(g=e,f=g*h),b.attr("src",a.src).css({width:f,height:g})},d.prototype.getImageRect=function(a,b){var c=new Image;c.onload=c.onerror=function(){b({width:c.width,height:c.height,src:a})}},d.prototype.loadUIHandlers=function(){this.$container.on("mouseenter.image-zoom",".image-zoom-small",this.bind(this.startZoom)),this.$container.on("mousemove.image-zoom",".image-zoom-small",this.bind(this.zooming)),this.$container.on("mouseout.image-zoom",".image-zoom-small",this.bind(this.endZoom))},d.prototype.startupUI=function(a){this.$target.data(e,this),this.$container.data(e,this)},d.prototype.startZoom=function(a){var b=this.$container,c=b.find(".active"),d=b.find(".big-img");this.caculateZomRate(d,c),b.removeClass("zoom-disabled")},d.prototype.caculateZomRate=function(a,b){"auto"===this.options.rate?this.autoCaculateZoomRate(a,b):this.fixedCaculateZoomRate(a,b)},d.prototype.fixedCaculateZoomRate=function(a,b){a.attr("src",b.data("zoom")),this.sync(b),this.ensure(b,a)},d.prototype.autoCaculateZoomRate=function(a,b){var c=a.attr("src"),d=this;c?this.caculateRate(a,b):(a.attr("src",b.data("zoom")),a.load(function(){d.caculateRate(a,b)}))},d.prototype.caculateRate=function(a,b){var c=this.options,d=a.width()/c.viewportWidth,e=a.height()/c.viewportHeight;this.options.rate=Math.max(d,e),this.sync(b),this.ensure(b,a)},d.prototype.zooming=function(a){var b=this.rangeRect,c=this.getCoords(a),d=this.$container,e=d.find(".zoom-loupe"),f=d.find(".big-img"),g={left:-(c.left-b.left)*this.widthRate,top:-(c.top-b.top)*this.heightRate};e.css(c),f.css(g)},d.prototype.endZoom=function(b){a.event.mouseTriggerOfChild(b)||f(b.toElement||b.relatedTarget).is(".zoom-loupe")||this.$container.addClass("zoom-disabled")},d.prototype.getCoords=function(a){var b=this.$container.offset(),c=this.rangeRect,d=this.loupeRect,e=a.pageX-b.left,f=a.pageY-b.top,g=e-d.width/2,h=f-d.height/2;return g<c.left?g=c.left:g>c.right&&(g=c.right),h<c.top?h=c.top:h>c.bottom&&(h=c.bottom),{left:g,top:h}},d.prototype.sync=function(a){var b=this.$container,c=b.find(".image-zoom-small"),d=a.offset(),e=a.offsetParent().offset(),f=d.left-e.left,g=d.top-e.top,h=this.getZoomSize(a);this.loupeRect={width:h,height:h},this.rangeRect={left:f,top:g,right:c.width()-this.loupeRect.width-f,bottom:c.height()-this.loupeRect.height-g},b.find(".zoom-loupe").css(this.loupeRect),b.find(".image-zoom-viewport").css({left:c.width()})},d.prototype.getZoomSize=function(a){var b=a.width(),c=a.height(),d=this.options,e=d.zoomSize;return e||(e=Math.max(b,c)/(d.rate||2)),e},d.prototype.ensure=function(a,b){var c=(this.options,this.loupeRect),d=this.$container.find(".image-zoom-viewport");this.widthRate=d.width()/c.width,this.heightRate=d.height()/c.height,b.css({width:a.width()*this.widthRate,height:a.height()*this.heightRate})},d.prototype.destroy=function(){this.defaultDestroy(),this.$container.remove(),this.$target=this.$container=null}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}b.driver(d),a.UI.ScrollViewportUIClass=d;var e=(a.utils,b.prototype.$);d.prototype.defaultOptions={errorImgUrl:null,timeout:150,autoResize:{"switch":!1,maxWidth:218,maxHeight:218}},d.prototype.registedDomsList=new a.List,d.prototype.registed=!1,d.prototype.loadUIEvents=function(){this.registerEvents("in"),this.emitter=new a.EventEmitterClass},d.prototype.loadUIHandlers=function(){e(window).bind("scroll.viewport",this.bind(this.timerScroll))},d.prototype.destroy=function(){e(window).unbind("scroll.viewport"),this.defaultDestroy()},d.prototype.start=function(a){this.options=e.extend({},this.defaultOptions,a),this.isStarted=!0,this.timerScroll()},d.prototype.on=function(a,b,c){c!==!1?this.emitter.once(a,b):this.emitter.on(a,b)},d.prototype.toRender=function(a){this.render(a.find("[data-src]"))},d.prototype.timerScroll=function(a){this.isStarted&&(this.clearTimer(),this.timer=setTimeout(this.bind(this.scrolling),this.options.timeout))},d.prototype.clearTimer=function(){clearTimeout(this.timer)},d.prototype.scrolling=function(){var a=this.getViewportDomList();this.render(a)},d.prototype.getViewportDomList=function(){for(var b,c=this.searchAllCatDoms(e(document.body)),d=[],f=[],g=0,h=c.count();g<h;g++)b=c.item(g),b.parentElement&&(a.uiHelp.inParentAvaView(b)?f.push(b):d.push(b));return this.registedDomsList=new a.List(d),e(f)},d.prototype.register=function(a){this.registed=!1,this.searchAllCatDoms(a)},d.prototype.searchAllCatDoms=function(a){return this.registed||(this.searchImgList(a),this.searchHandlerList(a),this.registed=!0),this.registedDomsList},d.prototype.searchImgList=function(){for(var a=document.images,b=null,c=null,d=this.registedDomsList,f=0,g=a.length;f<g;f++)b=e(a[f]),c=b.data(),c.src&&b.addClass("lazy-loading"),!c.ignore&&c.src&&d.add(b[0])},d.prototype.searchHandlerList=function(a){var b=a.find("[data-on-viewport]"),c=[].slice.call(b,0,b.length);this.registedDomsList.addRange(c)},d.prototype.render=function(a){a.each(this.bind(this.renderItem)),this.registedDomsList.isEmpty()&&this.destroy()},d.prototype.renderItem=function(a,b){"IMG"==b.tagName&&this.imgRender(b),b.getAttribute("data-on-viewport")&&this.handlerRender(b)},d.prototype.handlerRender=function(a){var b=e(a),c=b.data("onViewport");this.emitter.emit(c,a)},d.prototype.imgRender=function(a){var b=e(a),c=this,d=b.data("src")||"",f=c.options.autoResize;if(d=d.replace(/(https:||http:)/,"")){b.removeAttr("data-src"),b.data("src",null),b.addClass("lazy-loading"),b.data("originDisplay",b.css("display")),b.css("display","none");var g=f["switch"];a.onload=function(){f&&g&&c.autoResizeImage(f.maxWidth,f.maxHeight,b[0]),c.success(b,d)},a.onerror=function(){c.error(b)},a.src=d}},d.prototype.success=function(a,b){this.onload=this.onerror=null,a.removeClass("lazy-loading"),a.css("display",a.data("originDisplay"))},d.prototype.error=function(a){var b=this.options.errorImgUrl;b&&a.attr("src",b),this.onload=this.onerror=null,a.removeClass("lazy-loading")},d.prototype.autoResizeImage=function(a,b,c){var d=new Image;d.src=c.src;var e,f,g=1,h=d.width,i=d.height;f=a/h,e=b/i,0===a&&0===b?g=1:0===a?e<1&&(g=e):0===b?f<1&&(g=f):(f<1||e<1)&&(g=f<=e?f:e),g<1&&(h*=g,i*=g),c.height=i,c.width=h},a.UI.Viewport=new d}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){}function e(b,c){var d=['<div class="messager">','<div class="ie-messager-min-height"></div>','   <div class="messager-icon"></div>','<div class="messager-content"></div>',"</div>"];c=a.string.ensure(c,""),c=i[c]||c;var e=g(d.join("\n"));return e.find(".messager-content").html(b),h.isNullOrWhiteSpace(c)?(e.find(".messager-icon").remove(),e.find(".messager-content").attr("class","messager-content-fit ")):e.find(".messager-icon").addClass(c),e}function f(b,c){var d=['<div class="messager">','<div class="messager-prompt-container">','<div class="messager-prompt-message"></div>','<div class="messager-prompt-wrap"><input type="text" class="messager-prompt" value="" /></div>',"</div>","</div>"],e=g(d.join("\n"));return e.find(".messager-prompt-message").html(b),e.find(".messager-prompt").val(a.string.ensure(c,"")),e}a.UI.Messager=new d,c.messager=a.UI.Messager;var g=b.prototype.$;b.pluginRegister("messager",null,{instanceOf:!0});var h=(a.utils,a.string),i={info:"messager-info",error:"messager-error",warning:"messager-warning",success:"messager-success"};d.prototype.defaultMessageTitle="链尚网",d.prototype.alert=function(b,c,d,f){var g={fixed:!0,esc:!1,maskAnimation:!1,mask:!0,header:!0,footer:!0,maskCls:"messager-mask",position:"center",resizable:!1,draggable:!1},h=a.UI.Modal.open(this.title(c),e(b,d),"auto","auto",g);return h.addButton("messager-button","确定",null,this.smartCallback(arguments),!0),h.topMost(),h},d.prototype.noCloseIconAlert=function(b,c,d,f){var g={fixed:!0,esc:!1,maskAnimation:!1,mask:!0,header:!0,footer:!0,maskCls:"messager-mask",position:"center",resizable:!1,draggable:!1,isShowCloseIcon:!1},h=a.UI.Modal.open(this.title(c),e(b,d),"auto","auto",g);return h.addButton("messager-button","确定",null,this.smartCallback(arguments),!0),h.topMost(),h},d.prototype.error=function(a,b,c){return this.alert(a,this.title(b),"messager-error",this.smartCallback(arguments))},d.prototype.warning=function(a,b,c){return this.alert(a,this.title(b),"messager-warning",this.smartCallback(arguments))},d.prototype.noCloseAlert=function(a,b,c){return this.noCloseIconAlert(a,this.title(b),"messager-warning",this.smartCallback(arguments))},d.prototype.success=function(a,b,c){return this.alert(a,this.title(b),"messager-success",this.smartCallback(arguments))},d.prototype.info=function(a,b,c){return this.alert(a,this.title(b),"messager-info",this.smartCallback(arguments))},d.prototype.confirm=function(b,c,d,f){function g(a){h.call(window,f,a),a?h.call(window,k):h.call(window,l),j=null}var h=a.utils,i={fixed:!0,header:!0,footer:!0,maskAnimation:!1,esc:!1,mask:!0,maskCls:"messager-mask",position:"center",resizable:!1,draggable:!1},j=a.UI.Modal.open(this.title(c),e(b,d),"auto","auto",i),k=null,l=null;return f=this.smartCallback(arguments),j.addButton("messager-ok","确定",null,function(){h.call(window,g,!0)},!0),j.addButton("messager-cancel","取消","ui-button-white",function(){h.call(window,g,!1)},!0),j.topMost(),j.yes=function(a){return k=a,j},j.no=function(a){return l=a,j},j},d.prototype.prompt=function(b,c,d,e){var g=a.utils,h={fixed:!0,header:!0,footer:!0,maskAnimation:!1,esc:!1,mask:!0,maskCls:"messager-mask",position:"center",resizable:!1,draggable:!1};c=a.string.ensure(c,"对话框");var i=a.UI.Modal.open(c,f(b,d),"auto","auto",h);return e=this.smartCallback(arguments),i.addButton("messager-ok","确定",null,function(){var a=i.find(".messager-prompt").val();g.call(window,e,a)!==!1&&i.close()},!1),i.topMost(),i},d.prototype.title=function(b){return a.string.ensure(b,this.defaultMessageTitle)},d.prototype.smartCallback=function(b){return a.utils.smartCallback(b)}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){function d(a){this.initialize.apply(this,arguments)}function e(){var a=this.options,b=this.find(".ls-modal-body");"auto"===a.height&&b.css({height:b.height()}),"auto"===a.width&&b.css({width:b.width()}),this.getContentBody().hide()}function f(){if("none"===this.find(".ls-modal-loading").css("display")){this.getContentBody().show();var a=this.options,b=this.find(".ls-modal-body");"auto"===a.height&&b.css({height:"auto"}),"auto"===a.width&&b.css({width:"auto"})}}function g(){A(this,!0),this.getContentBody().hide()}function h(){this.getContentBody().show()}function i(){var b=a.utils.argumentArray(arguments);b.unshift("resize"),A(this,!0),this.doListener.apply(this,b)}function j(a){a.options.maskAnimation&&(a.mask.css({opacity:0}),a.mask.animate({opacity:.5},300,"swing"));var b=a.animation||{inAnimation:"",outAnimation:""};J.animation(a.container[0],b.inAnimation,function(){a.options.mode==R.iframe&&a.find("iframe").attr("src",a.options.iframe),a.options.mask&&a.mask.show(),a.__isOpening=!1,a.doListener("opened")})}function k(a,b){if("none"!==a.container.css("display")){a.options.maskAnimation&&a.mask.animate({opacity:0},300,"swing");var c=a.animation||{inAnimation:"",outAnimation:""};J.animation(a.container[0],c.outAnimation,b)}else b()}function l(a){if(a.isDisposed===!0)throw new Error("非法调用，当前窗口已销毁")}function m(b){var c=a.utils,d=c.getKeys(Q),e=Q,f=[],g=0,h={};K.each(d,function(a){modal=e[a],null==modal||modal.isHidden()||modal.isTopMost()||(g=modal.getZIndex(),f.push(g),h[g]=modal)});var i=Math.max.apply(Math,f);return h[i]}function n(b){if(b.options.mask!==!0)return b.mask=L(null);var c=a.utils.ifn(b.options.maskCls,"ls-modal-mask"),d=b.mask=L('<div class="'+c+'"></div>'),e=document.body.scrollHeight||document.documentElement.scrollHeight||document.body.scrollHeight,f=document.body.scrollWidth||document.documentElement.scrollWidth||document.body.scrollWidth;d.css({display:"none",height:e,zIndex:O-1,width:f}),L(document.body).append(d)}function o(a){var b=a.options,c=a.container;a.find(".ls-modal-title").html(b.title),c.css({zIndex:O}),a.setSize(b.width,b.height),b.header===!1&&(c.find(".ls-modal-body").append('<button data-dismiss="modal" class="ls-modal-close">&times;</button>'),c.find(".ls-modal-header").remove()),b.footer===!1&&c.find(".ls-modal-footer").hide(),J.supportCSS3Animation()&&c.find(".ls-modal-loading div").removeClass("ls-modal-loading-summary").addClass("modal-css3-loading").html('<div class="l-one"></div><div class="l-two"></div><div class="l-three"></div><div class="l-four"></div>'),b.fixed&&c.addClass("modal-fixed"),c.find(".ls-modal-header").length<1&&c.find(".ls-modal-body").addClass("no-header"),c.find(".ls-modal-footer").length<1&&c.find(".ls-modal-body").addClass("no-footer"),x(a)}function p(a){var b=a.options;switch(a.isAutoSize="auto"==b.width&&"auto"==b.height,a.isAutoSize&&a.container.addClass("auto-width-loading"),b.mode){case R.iframe:q(a);break;case R.url:r(a);break;default:t(a)}}function q(a){var b=(a.options,L('<iframe class="ls-modal-iframe" scrolling="yes" frameBorder="0"></iframe>')),c=a.getContentBody();c.append(b),c.addClass("ls-modal-iframe-wrap"),u(a),b.load(function(){v(a)})}function r(b){var c=b.options;u(b);var d=null;d=a.type.isFunction(c.url)?c.url(c):s(),d.then(function(a){b.getContentBody().empty().append(w(a)),v(b)},function(a,d,e){b.container.addClass("loading-error"),c.errorHtml?b.getContentBody().html(c.errorHtml):b.getContentBody().html(a.responseText),v(b)})}function s(b){return new a.Promise(function(a,c){L.ajax({type:"get",dataType:"html",url:b.url,success:a,error:c})})}function t(a){var b=a.options;a.getContentBody().html(w(b.content)),setTimeout(function(){v(a)},20)}function u(a){a.showLoading()}function v(a){a.isAutoSize&&a.container.removeClass("auto-width-loading"),a.closeLoading(),x(a),a.doListener("init")}function w(a){var b=L(a),c=b,d=b.find("body"),e=b.find("head");return d.length>0&&(c=L(d.html())),e.length>0&&L(e.html()).insertBefore(c.first()),c!=b&&b.remove(),b.show(),c}function x(a){var b=a.options.position||0,c=a.container;switch(b.toString()){case"center":y(c,a),z(c,a);break;case"[object Object]":a.container.css({left:b.left,right:b.right,bottom:b.bottom,top:b.top});break;default:z(c,a)}}function y(a,b){var c=M.getWindowHeight(),d=M.getBodyScroll(),e=a[0].offsetHeight,f=(c-e)/2+d.top;b.setPosition(f)}function z(a,b){var c=M.getWindowWidth(),d=M.getBodyScroll(),e=a[0].offsetWidth,f=(c-e)/2+d.left;b.setPosition(null,f)}function A(b,c){if("auto"!==b.options.height||c){var d=b.container,e=M.getOffsetHeight(d[0]);if(e>0){var f=e-M.getOffsetHeight(d.find(".ls-modal-header")[0])-M.getOffsetHeight(d.find(".ls-modal-footer")[0]);f>0&&(d.find(".ls-modal-body").css({height:f}),a.uiHelp.setClientHeight(d.find(".ls-modal-body-inner")[0],f))}}}function B(a){var b=I;return b.isNullOrWhiteSpace(a.iframe)?b.isNullOrWhiteSpace(a.url)?R.html:R.url:R.iframe}function C(a){var b=P;null==b||b.isDisposed||27==a.keyCode&&b.options.esc===!0&&b.close()}function D(a){Q[a.id]=null,a.paras={},a.container.unbind("click.lsmain-modal"),E(a),a.mask.remove(),a.container.remove(),a.mask=null,a.options=null,a.container=null,a.isDisposed=!0,a.yes=a.no=null,a.defaultDestroy()}function E(a){if(a.options.mode==R.iframe){var b=a.find(".ls-modal-iframe");b.unbind("load");try{var c=b[0].contentWindow;c.document.write(""),c.document.clear(),c.close()}catch(d){}b.attr("src","about:blank"),b.remove()}}function F(){L(document.body).keyup(function(a){C(a)}),L(document).scroll(G),L(document.body).on("click.modal","[data-toggle='modal']",H)}function G(){clearTimeout(T),T=setTimeout(function(){L(".ls-modal.modal-fixed").each(function(){var b=L(this).data("modal");a.type.isClass(b,d)&&b.sync()})},50)}function H(){var b=L(this),c=L(b.data("target")),e=b.data("clear"),f=c.data("modal");if(!f){c.show();var g=L.extend({position:"center"},c.data());g.once=!1,f=d.open(c.data("title"),c,g.width,g.height,g),c.data("modal",f)}e&&a.formWR.clear(f.container[0]),f.open()}b.driver(d,"modal"),a.UI.Modal=d;var I=a.string,J=a.animationMiddler,K=a.array,L=b.prototype.$,M=a.uiHelp,N=0,O=1200,P=null,Q={},R={iframe:1,url:2,html:3},S=new a.List;d.prototype.defaultOptions={title:"",content:"",iframe:"",errorHtml:null,url:"",width:"auto",height:"auto",autoFixed:!1,resizable:!1,draggable:!1,esc:!1,header:!0,footer:!1,position:"origin",once:!0,mask:!1,maskCls:"ls-modal-mask",maskAnimation:!0,hide:!1,fixed:!1,animation:"translateFromTop,translateToBottom",clickClose:!1,jilei:!1,okCancel:!1,isShowCloseIcon:!0},d.openWindow=function(a,b,c,e,f){var g=this.prototype.extend({},f,{iframe:b,title:a,width:c,height:e});return new d(g)},d.openUrl=function(a,b,c,e,f){var g=this.prototype.extend({},f,{url:b,title:a,width:c,height:e});return new d(g)},d.open=function(a,b,c,e,f){var g=this.prototype.extend({},f,{content:b,title:a,width:c,height:e});return new d(g)},d.open2=function(a,b,c,e,f){var g=this.prototype.extend({},f,{content:b,title:a,width:c,height:e,okCancel:!0}),h=new d(g);return h.topMost(),h},d.prototype.loadUIEvents=function(){this.registerEvents("open","closing","closed","opened","resize","init","yes","no")},d.prototype.loadUIParams=function(a){this.id=++N;var b=this;setTimeout(function(){Q[b.id]=b},20);var c=(a.animation||"").toString().split(",");this.animation={inAnimation:c[0],outAnimation:c[1]},a.mode=B(a)},d.prototype.loadUIContent=function(){this.isDisposed=!1;var a="auto"===this.options.width?"auto-width":"",b="auto"===this.options.height?"auto-height":"",c=['<div class="ls-modal '+a+" "+b+'" draggable="false" data-index="0">','   <div class="ls-modal-dialog">','       <div class="ls-modal-header"  draggable="false">','           <div class="ls-modal-header-inner">','               <div class="ls-modal-header-box">','                   <h4 class="ls-modal-title">新窗口</h4>',"               </div>",'               <div class="ls-modal-header-tools"><button data-dismiss="modal" class="ls-modal-close">&times;</button></div>',"               </div>","       </div>",'       <div class="ls-modal-body">','           <div class="ls-modal-body-inner"></div>','           <div class="ls-modal-loading" style="display:none"><div class="ls-modal-loading-summary"></div></div>',"       </div>",'       <div class="ls-modal-footer"></div>',"   </div>","</div>"];O++,this.container=L(c.join("\n")),this.options.isShowCloseIcon||this.container.find(".ls-modal-header-tools .ls-modal-close").remove(),L(document.body).append(this.container),o(this),n(this),this.container.hide(),p(this)},d.prototype.loadUIHandlers=function(){var b=this,c=this.options,d=this.container;if(d.on("click.lsmain-modal",'[data-dismiss="modal"]',this.onCall(this.close)),d.on("click.lsmain-modal","[data-button]",this.onCall(this.triggerButton)),d.find(".ls-modal-header-tools").mousedown(a.event.stopParentHandler),c.mask!==!0&&d.on("click.lsmain-modal",function(){b.bringToFront()}),c.draggable){var j=this.draggabler=a.UI.IDraggable.draggable(d,".ls-modal-header");j.addListener("dragstart",this.onCall(e)),j.addListener("dragend",this.onCall(f))}if(c.resizable){var k=this.resizer=a.UI.IResizable.resizable(d,M.getWindowWidth(),M.getWindowWidth(),100,100);k.addListener("resize",this.onCall(i)),k.addListener("start",this.onCall(g)),k.addListener("end",this.onCall(h))}c.clickClose&&S.addOnly(this)},d.prototype.initMode=function(){if(this.options.okCancel){var a=this;this.addButton("messager-ok","确定",null,function(){a.doListener("yes")},!1),this.addButton("messager-cancel","取消","ui-button-white",function(){a.doListener("no")},!0),this.yes=function(a){return this.addListener("yes",a),this},this.no=function(a){return this.addListener("no",a),this}}},d.prototype.open=function(){if(this.__isOpening!==!0&&!this.isOpened)return this.isOpened=!0,this.__isOpening=!0,l(this),this.bringToFront(),this.container.show(),x(this),A(this),this.doListener("open"),j(this),this},d.prototype.sync=function(){x(this),A(this)},d.prototype.show=function(){if(this.isHidden())return this.bringToFront(),this.container.show(),x(this),A(this),this.doListener("open"),this},d.prototype.close=function(){if(!this.isDisposed&&!this.isClosing){if(this.doListener("closing")===!1)return!1;
var a=this;return this.isOpened=!1,this.isClosing=!0,this.hide(function(){a.doListener("closed"),a.options.once===!0&&a.destroy(),a.isClosing=!1}),!0}},d.prototype.hide=function(b){l(this);var c=this;k(this,function(){c.mask.length>0&&c.mask.hide(),c.container.hide(),c.setZIndex(0),O--;var d=m(this);d&&d.bringToFront(),a.utils.call(c,b)})},d.prototype.fullscreen=function(){l(this);var a=document.documentElement.clientWidth||M.getWindowWidth(),b=document.documentElement.clientHeight||M.getWindowHeight();this.container.addClass("ls-modal-fullscreen"),this.setPosition(0,0),this.setSize(a,b)},d.prototype.topMost=function(a){l(this);var b=this.container;a===!0||null===a||void 0===a?(b.data("top-most",!0),b.attr("data-old-z-index",b.css("z-index")),b.css("z-index","2147483647")):(b.data("top-most",!1),b.css("z-index",b.attr("data-old-z-index")))},d.prototype.isTopMost=function(){return l(this),this.container.data("top-most")},d.prototype.triggerButton=function(b){var c=null,d=null;a.type.isString(b)?(d=this.getButton(b),c=b):(d=L(a.event.getTarget(b)),c=d.attr("data-button"));var e="button-"+c;this.doListener(e,d.attr("data-value")),"modal"===d.attr("data-close")&&this.close()},d.prototype.addButton=function(b,c,d,e,f,g){var h="button-"+b;if(this.containsEvent(h))throw new Error("已存在相同名称的按钮事件："+b);this.registerEvent(h);var i=f===!0?"modal":"",j=a.utils.ifn(d,"ui-button-default"),k=L('<a  href="javascript:void(0)" class="ui-button"></a>');return this.find(".ls-modal-footer").append(k),k.html(c).addClass(j).attr("data-close",i).attr("data-button",b).attr("data-value",g),this.addButtonListener(b,e),this.container.find(".ls-modal-footer").show(),A(this),this},d.prototype.hideButton=function(a){var b=this.getButton(a);b.length>0&&b.hide()},d.prototype.getButton=function(a){return this.find("[data-button="+a+"]")},d.prototype.removeButton=function(a){var b=this.getButton(a);b.length>0&&b.remove(),this.removeEvent("button-"+a)},d.prototype.addButtonListener=function(a,b){this.addListener("button-"+a,b)},d.prototype.showLoading=function(){l(this),this.find(".ls-modal-loading").show(),this.find(".ls-modal-body-inner").hide()},d.prototype.closeLoading=function(){l(this),this.find(".ls-modal-loading").hide(),this.find(".ls-modal-body-inner").show()},d.prototype.getContentBody=function(){return l(this),this.find(".ls-modal-body-inner")},d.prototype.setPosition=function(a,b){l(this);var c={};a&&(c.top=a),b&&(c.left=b),this.container.css(c)},d.prototype.center=function(){this.vCenter(),this.hCenter()},d.prototype.vCenter=function(){l(this),y(this.container,this)},d.prototype.hCenter=function(){l(this),z(this.container,this)},d.prototype.startupUI=function(){this.container.data("modal",this),this.initMode(),this.options.hide!==!0&&this.open()},d.prototype.content=function(a){l(this),this.getContentBody().html(a)},d.prototype.destroy=function(){D(this)},d.prototype.isHidden=function(){return!this.container||"none"===this.container.css("display")},d.prototype.bringToFront=function(){if(!this.isTopMost()){var b=a.utils,c=null,d=0,e=Q,f=b.getKeys(e);K.each(f,function(a){c=e[a],c&&c.isTopMost()!==!0&&(d=c.getZIndex(),c.setZIndex(d-1))}),this.setZIndex(O),P=this}},d.prototype.getZIndex=function(){return this.container?parseInt(this.container.css("z-index")):0},d.prototype.setZIndex=function(a){this.container&&a>0&&(a>O&&(O=a),this.container.css("z-index",a),this.mask.css("z-index",--a))},d.prototype.setSize=function(a,b){if(this.container){var c=this.container;c.css({width:a,height:b}),A(this),x(this)}},d.prototype.setParam=function(a,b){var c=this.params=this.params||{};c[a]=b},d.prototype.getParam=function(a){var b=this.params=this.params||{};return b[a]};var T=null;L(F)}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}function e(b,c,d){c?h(b).bind(a.event.nameOfMouseWheel()+"."+c,d):h(b).bind(a.event.nameOfMouseWheel(),d)}function f(b,c){c?h(b).off(a.event.nameOfMouseWheel()+"."+c):h(b).off(a.event.nameOfMouseWheel())}var g="lsmain-customWheel";b.driver(d,"customWheel",{target:"target"}),a.UI.Demo=d;var h=b.prototype.$;d.prototype.defaultOptions={target:null,speed:60},d.prototype.elementRepeatConstructor=function(a){return a=a||[],h(a.target).data(g)},d.prototype.loadUIEvents=function(){this.registerEvents("wheel")},d.prototype.loadUIParams=function(){this.target=h(this.options.target);var a=Number(this.options.speed);a=isNaN(a)||60,this.options.speed=a},d.prototype.loadUIContent=function(){},d.prototype.loadUIHandlers=function(){e(this.target,"customWheel",this.onCall(this.onMouseWheel))},d.prototype.destroy=function(){f(this.target,"customWheel"),this.defaultDestroy()},d.prototype.onMouseWheel=function(b){b.preventDefault();var c=b.srcElement||b.target,d=this.options.speed;return c.scrollTop+=a.event.getWheelData(b)<=0?d:-d,this.doListener("wheel",c,c.scrollTop),!1}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}function e(b){return a.formWR.read(i(b))}function f(b,c){var d=c.loader,e=null;return e=a.type.isFunction(d)?new a.Promise(function(a,c){d(b,a,c)}):g(c.url,b,c.method,c.dataType)}function g(b,c,d,e){return a.api.request(b,c,d,e)}var h="lsmain-pagination";b.driver(d,"pagination",{target:"target"}),a.UI.Pagination=d;var i=b.prototype.$;d.prototype.defaultOptions={target:null,queryParams:null,loader:null,url:"",method:"post",dataType:"json",size:10,formatter:null,pageName:"pageIndex",pageSizeName:"pageSize",loaded:null,autoLoad:!0,scrollable:!1,other:null},d.prototype.scrollable=!0,d.prototype.elementRepeatConstructor=function(a){return a=a||[],i(a.target).data(h)},d.prototype.loadUIEvents=function(){this.registerEvents("loaded","error")},d.prototype.loadUIParams=function(){var b=this.options;b.pageName=a.utils.ifn(b.pageName,"pageIndex"),b.pageSizeName=a.utils.ifn(b.pageSizeName,"pageSize"),this.page=1,this.target=i(b.target),this.pageSize=b.size},d.prototype.loadUIHandlers=function(){this.options.scrollable===!0?this.target.scroll(this.onCall(this.onScrollPaginate)):this.target.on("click.pagination","[data-page]",this.onCall(this.onClickPage))},d.prototype.startupUI=function(){this.options.autoLoad&&this.refresh()},d.prototype.refresh=function(a){var b=this.options;a=this.getQueryParams(a),a[b.pageName]=this.page,a[b.pageSizeName]=this.pageSize,clearTimeout(this.timer),this.scrollable=!1,f(a,b).success(this.onCall(this.paginationOK)).error(this.onCall(this.paginationError))},d.prototype.onClickPage=function(a){var b=i(a.srcElement||a.target).data("page");this.goPage(b)},d.prototype.onScrollPaginate=function(a){if(!this.scrollable)return void clearTimeout(this.timer);clearTimeout(this.timer);var b=this;this.timer=setTimeout(function(){var c=a.srcElement||a.target,d=c.scrollTop+c.clientHeight;if(d>c.scrollHeight-10){if(b.stop)return;b.page=b.page+1,b.refresh()}},50)},d.prototype.goPage=function(a){this.page=a,this.refresh()},d.prototype.initParam=function(a,b,c){this.page=a,this.pageSize=b,this.options.queryParams=c,this.refresh()},d.prototype.paginationOK=function(a){a=this.resultFormatter(a),this.totalPage=a.pages,this.options.scrollable?(null==a.rows||a.rows.length<=0)&&(this.stop=!0):this.createPagination(this.page,a.pages,a.total),this.doListener("loaded",a),this.endPagination()},d.prototype.endPagination=function(){var a=this;1==this.page&&this.target.scrollTop(0),setTimeout(function(){a.scrollable=!0},100)},d.prototype.paginationError=function(a){this.endPagination(),this.doListener("error",a)},d.prototype.createPagination=function(a,b,c){if(b<=1)return this.target.html(""),"";var d=[],e=a-1,f=a+1;e=e<=0?1:e,f=f>b?b:f,d.push("<div class='page'>"),d.push(this.pageOf(e,a,"< 上一页")),b>7?a<=4?(d.push(this.pageOfRange(a,1,5)),d.push("<span>...</span>")):a>=b-3?(d.push(this.pageOf(0,1,1)),d.push("<span>...</span>"),d.push(this.pageOfRange(a,b-4,b))):(d.push(this.pageOf(0,1,1)),d.push("<span>...</span>"),d.push(this.pageOfRange(a,a-2,a+2)),d.push("<span>...</span>"),d.push(this.pageOf(b,0,b))):d.push(this.pageOfRange(a,1,b)),d.push(this.pageOf(f,a,"下一页 >")),d.push("</div>"),this.target.html(d.join("\n"))},d.prototype.pageOf=function(b,c,d){var e=this.options,f=e.ajax,g=e.url;return c==b?a.string.format("<span class='current'>{0}</span>",d):f?a.string.format("<a href='javascript:void(0)' data-page='{0}'>{1}</a>",b,d):a.string.format("<a href='{0}{1}' data-page='{1}'>{2}</a>",g,b,d)},d.prototype.pageOfRange=function(a,b,c){for(var d=[],e=b;e<=c;e++)d.push(this.pageOf(e,a,e));return d.join("\n")},d.prototype.resultFormatter=function(b){var c=this.options.formatter;return a.type.isFunction(c)?c(b):{rows:b.rows,pages:b.pages,total:b.total}},d.prototype.getQueryParams=function(b){var c=this.options;return b=a.utils.ifn(b,c.queryParams),b=a.utils.ifn(b,e(c.form)),a.type.isFunction(b)&&(b=b(this)),b},d.prototype.destroy=function(){this.target.unbind("scroll"),this.defaultDestroy()}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}function e(a,b){a=j(a||document.body);var c=a.data(i);return c?c.show():(c=new d({target:a,loadCls:b}),a.data(i,c)),c}function f(a){a=j(a||document.body);var b=a.data(i);b&&b.hide()}function g(b,c,d){var e=b[0],f=(a.uiHelp.getMargin(e),c.find(".preloader-inner"));c.addClass(d.loadCls),b.is("body")?b.append(c):c.insertAfter(e),c.css({top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),f.addClass(h(b))}function h(a){var b=a[0],c=b.offsetWidth,d=b.offsetHeight;return c<64||d<64?"preload-contain":"preload-unlimited"}b.driver(d,"preload"),a.UI.Loader=d;var i=(c.preloader={preload:e,close:f},"lsmain-ui-preload"),j=(a.string,a.animationMiddler,a.uiHelp,b.prototype.$);d.prototype.defaultOptions={loadCls:"preloader-circle-gray",target:null},d.prototype.loadUIEvents=function(){},d.prototype.loadUIParams=function(){var b=this.options;b.target=j(a.utils.undef(b.target,document.body));b.target.length<=0&&console.error("请设置预加载目标容器")},d.prototype.loadUIContent=function(){var a=['<div class="preloader" style="display:none">','<div class="preloader-inner"></div>',"</div>"],b=this.options,c=b.target,d=this.container=j(a.join("\n"));setTimeout(function(){g(c,d,b)},20)},d.prototype.startupUI=function(){this.show()},d.prototype.loadUIHandlers=function(){},d.prototype.show=function(){var a=this.container;a&&a.fadeIn("fast")},d.prototype.hide=function(){this.container&&this.container.fadeOut("fast")},d.prototype.destroy=function(){this.defaultDestroy();var a=this.options;a.target.data(i,null),a.target=null,this.container.remove(),this.options=null,this.container=null}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){function d(a){this.initialize.apply(this,arguments)}function e(a,b){var c=b.container;c.parent().length>0?a.insertAfter(c[0]):a.appendTo(document.body)}function f(a){k(a),g(a),h(a)}function g(b){var c=b.container,d=b.__vertical,e=b.__horizon,f=c[0],g=f.offsetWidth,h=f.offsetHeight,i=(a.uiHelp.getPadding(f),a.uiHelp.getPadding(d[0])),j=a.uiHelp.getPadding(e[0]),k={top:f.offsetTop,left:f.offsetLeft},l=k.top-i.top,m=k.left-j.left,n=k.left+g-d.width()-i.left,o=k.top+h-e.height()-j.top;b.__bothBars&&(g-=d.width(),h-=e.height());var p=c.css("z-index");d.css({"z-index":p,height:h,left:n,top:l}),e.css({"z-index":p,width:g,top:o,left:m}),d.find(".scrollbar-track-piece").css({height:h}),e.find(".scrollbar-track-piece").css({width:g})}function h(a){i(a),j(a)}function i(a){var b=a.container,c=b.scrollTop(),d=b[0].scrollHeight,e=a.__vertical,f=e.height(),g=c/(1*d)*f,h=e.find(".scrollbar-thumb"),i=f-h.height();g=g>i?i:g,h.css({top:g})}function j(a){var b=a.container,c=b.scrollLeft(),d=b[0].scrollWidth,e=a.__horizon,f=e.width(),g=c/d*f,h=e.find(".scrollbar-thumb"),i=f-h.width();g=g>i?i:g,h.css({left:g})}function k(a){var b=l(a),c=m(a);a.__bothBars=b&&c}function l(a){var b=a.options,c=a.container,d=a.__horizon,e=c[0].scrollWidth,f=c[0].offsetWidth;if(b.x&&e>f){var g=n(e,f),h=f*g;return h=h<C?C:h,d.find(".scrollbar-thumb").css({width:h}),d.show(),!0}return d.css("display","none"),!1}function m(a){var b=a.options,c=a.container,d=a.__vertical,e=c[0].scrollHeight,f=c[0].offsetHeight;if(b.y&&e>f){var g=n(e,f),h=f*g;return h=h<C?C:h,d.find(".scrollbar-thumb").css({height:h}),d.show(),!0}return d.css("display","none"),!1}function n(a,b){var c=b/(1*a);return c}function o(a,b,c,d){c?(D.show(),D.css("top",document.body.scrollTop+"px")):D.hide()}function p(b,c){if(c.options.y){var d=a.event.getWheelData(b),e=c.container,f=e.scrollTop(),g=c.options.speed;g=Math.abs(g*d),d<0?e.scrollTop(f+g):e.scrollTop(f-g)}}function q(b,c){a.event.mouseTriggerOfChild(b)||f(c)}function r(b,c,d){!a.event.mouseTriggerOfChild(b)}function s(a,b,c){A=b;var d=c.parent().parent();if(B=d.is(".scrollbar-vertical")?x:d.is(".scrollbar-horizontal")?y:null){o(b,d,!0),f(b),b.container.addClass("ready-scrolling");b.container[0];A.__clientTop=a.pageY-c.offset().top+b.container.offset().top,A.__clientLeft=a.pageX-c.offset().left+b.container.offset().left,t(!0,d,b)}}function t(a,b,c){if(a)b.css("z-index",999999999).addClass("active-scrollbar");else{var d=c.container.css("z-index");b.css("z-index",d).removeClass("active-scrollbar")}}function u(){z(document).on("mousemove.lsmain-scrollbar",v),z(document).bind("mouseup.lsmain-scrollbar",w),D=z('<div class="scrollbar-overlap" style="display:none"></div>'),D.css({height:z(window).height()}),D.appendTo(document.body)}function v(a){B&&A&&B(a,A)}function w(){if(B=null,A){var a=A.__vertical,b=A.__horizon;A.container.removeClass("ready-scrolling"),o(A,a,!1),o(A,b,!1),t(!1,a,A),t(!1,b,A)}}function x(a,b){var c=b.container,d=b.__vertical,e=c[0].scrollHeight,f=a.pageY-b.__clientTop,g=f/(1*d.height()),h=e*g;c.scrollTop(h)}function y(a,b){var c=b.container,d=b.__horizon,e=c[0].scrollWidth,f=a.pageX-b.__clientLeft,g=f/(1*d.width()),h=e*g;c.scrollLeft(h)}b.driver(d,"scrollbar"),a.UI.Scrollbar=d;var z=(a.string,a.animationMiddler,a.uiHelp,b.prototype.$),A=null,B=null,C=50,D=null,E="lsmain-scrollbar";d.prototype.defaultOptions={speed:35,x:null,y:null,target:null},d.register=function(b,c,e,f){var g=new d({target:b,x:c,y:e,speed:a.utils.ensureDecimal(f,d.prototype.defaultOptions.speed)});return g},d.prototype.elementRepeatConstructor=function(a){return z(a.target).data(E)},d.prototype.loadUIEvents=function(){},d.prototype.loadUIParams=function(){var b=this.options,c=z(b.target);c.length<1&&console.error("请设置滚动条容器，参数options.target");var d=a.utils;this.container=c,b.x=d.undef(b.x,"hidden"!==c.css("overflow-x")),b.y=d.undef(b.y,"hidden"!==c.css("overflow-y"))},d.prototype.loadUIContent=function(){var a=['<div class="scrollbar-wrap">','   <div style="display:none" class="scrollbar scrollbar-vertical" draggable="false">','      <div class="scrollbar-track-piece" draggable="false">','          <div class="scrollbar-thumb" draggable="false"></div>',"      </div>","   </div>",'   <div  style="display:none" class="scrollbar scrollbar-horizontal" draggable="false">','      <div class="scrollbar-track-piece" draggable="false">','          <div class="scrollbar-thumb" draggable="false"></div>',"      </div>","   </div>","</div>"],b=z(a.join("\n"));this.__horizon=b.find(".scrollbar-horizontal"),this.__vertical=b.find(".scrollbar-vertical"),this.container.addClass("scrollbar-container"),e(b,this)},d.prototype.loadUIHandlers=function(){var b=this,c=this.__horizon.parent();this.container.bind("mouseenter.lsmain-scrollbar",function(a){q(a,b,this)}),this.container.bind("mouseout.lsmain-scrollbar",function(a){r(a,b,this)}),c.on("mousedown.lsmain-scrollbar",".scrollbar-thumb",function(a){s(a,b,z(this))}),this.container.bind("scroll.lsmain-scrollbar",function(){h(b)}),this.container.bind(a.event.nameOfMouseWheel()+".lsmain-scrollbar",function(a){p(a,b)})},d.prototype.startupUI=function(){this.container.data(E,this),this.container.css("overflow","hidden"),f(this)},d.prototype.destroy=function(){var b=this.__horizon.parent();this.container.unbind("mouseenter.lsmain-scrollbar"),this.container.unbind("mouseout.lsmain-scrollbar"),this.container.unbind("scroll.lsmain-scrollbar"),this.container.unbind(a.event.nameOfMouseWheel()+".lsmain-scrollbar"),this.container.data(E,null),this.__horizon=this.__vertical=null,b.unbind("mousedown.lsmain-scrollbar"),b.unbind("mouseenter.lsmain-scrollbar"),b.unbind("mouseout.lsmain-scrollbar"),b.remove(),this.defaultDestroy()},z(u)}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}var e="lsmain-tabs";b.driver(d,"tabs",{target:"target"}),a.UI.Demo=d;var f=b.prototype.$;d.prototype.defaultOptions={target:null,activeCls:"current"},d.prototype.elementRepeatConstructor=function(a){return a=a||[],f(a.target).data(e)},d.prototype.loadUIEvents=function(){this.registerEvents("tabChange")},d.prototype.loadUIParams=function(){this.target=f(this.options.target)},d.prototype.loadUIContent=function(){},d.prototype.loadUIHandlers=function(){this.target.on("click.tabs",".tab",this.onCall(this.onClickTab))},d.prototype.onClickTab=function(a){var b,c=this.options,d=f(a.target||a.srcElement),e=d.parents(".tabs").eq(0),g=e.next(".tabPanels").eq(0),h=g.find(d.data("target"));h.length<1&&(h=f(d.data("target")));var i,j=c.activeCls,k="."+j;h.length>0&&(i=g.data("activeCls")||"current",b=e.find(k),b.removeClass(j),d.addClass(j),d.show(),g.find(".tabPanel").hide(),g.find(k).removeClass(j),h.addClass(j).show(),this.doListener("tabChange",d,b))},d.prototype.startupUI=function(){},d.prototype.destroy=function(){this.target.unbind("click.tabs"),this.target=null,this.defaultDestroy()}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a){this.initialize.apply(this,arguments)}var e="lsmain-demo";b.driver(d,"集成插件名称",{target:"target"}),a.UI.Demo=d;var f=(a.string,a.animationMiddler,a.uiHelp,b.prototype.$);d.prototype.defaultOptions={},d.prototype.elementRepeatConstructor=function(a){return a=a||[],f(a.target).data(e)},d.prototype.loadUIEvents=function(){},d.prototype.loadUIParams=function(){},d.prototype.loadUIContent=function(){var a=['<div class="ui">',"</div>"];this.container=f(a.join("\n"))},d.prototype.loadUIHandlers=function(){},d.prototype.startupUI=function(){},d.prototype.destroy=function(){this.defaultDestroy()}}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),function(a,b,c){"use strict";function d(a,b){var c=this;e(function(){c.init()})}var e=b.prototype.$;b.driver(d,"tip",{instanceOf:!0}),d.prototype.tipPositionCls="tip-right",d.prototype.timeoutnum=2e3,d.prototype.element=null,d.prototype.content=null,d.prototype.canAutoHide=!0,d.prototype.showing=!1,d.prototype.init=function(b,c){var d=this,f=e("<div style='display:none;overflow:hidden;'></div>");f.html('<div class="tip-content"><div class="tip-message"></div><div class="tip-close">X</div></div>'),e(document.body).append(f),this.element=f,this.content=f.find(".tip-message"),this.timeoutnum=isNaN(b)?this.timeoutnum:b,this.tipPositionCls=c||this.tipPositionCls,f.bind("mouseenter",function(b){a.event.mouseTriggerOfChild(b)||d.clearTimeout()}),f.bind("mouseout",function(b){a.event.mouseTriggerOfChild(b)||d.timeout()}),f.bind("click",function(a){d.onclick(a)}),delete this.tip},d.prototype.tip=function(b,c,d,e,f){var g=this.element;if(g){var h=this;h.showing=!0,h.canAutoHide=!0,h.content.html(b),h.clearTimeout(),e=e||"translateFromTop",h.outAnimation=f||"translateToBottom",h.inAnimation=e,g.attr("class","tip-box "+c+" "+h.tipPositionCls),a.animationMiddler.animation(g[0],e,function(){h.timeout(d)})}},d.prototype.hide=function(b){var c=this.element;if(c){this.canAutoHide=!1;var d=this;if(d.showing=!1,b)return this.clearTimeout(),c.hide();a.animationMiddler.animation(c[0],d.outAnimation,function(){d.showing||c.hide()})}},d.prototype.info=function(a,b){return this.tip(a,"tip-info",b),this},d.prototype.warning=function(a,b){return this.tip(a,"tip-warning",b),this},d.prototype.success=function(a,b){return this.tip(a,"tip-success",b),this},d.prototype.error=function(a,b){return this.tip(a,"tip-error",b,"scaleIn","scaleOut"),this},d.prototype.clearTimeout=function(){clearTimeout(this.timer)},d.prototype.timeout=function(a){if(a=a||this.timeoutnum,this.canAutoHide&&a>0){var b=this;this.clearTimeout(),this.timer=setTimeout(function(){b.hide()},a)}},d.prototype.onclick=function(a){var b=a.srcElement||a.target;"tip-close"==b.className&&(this.clearTimeout(),this.hide())},a.UI.InfoTips=d,a.tip=a.UI.tip=new d}(window.Lsmain,window.Lsmain.UIComponentLibraryClass,window),$(function(){var a=new Lsmain.CookieParser(document.cookie),b=a.startSourceId,c=new Lsmain.UrlParserClass;c.parse(window.location.href);var d=c.paras,e=d.ls_activity_id,f=d.ls_source_id,g=d.ls_content,h=1,i=30,j=new Date,k=new Date;j.setTime(j.getTime()+24*h*60*60*1e3),k.setTime(k.getTime()+24*i*60*60*1e3);var l=a.arryActivitySourceId;if(l||$.get("/acSourceConfig/queryAcSourceConfigByParentSourceId",{parentSourceId:"2"},function(b){if(1==b.status){for(var c=[],d=0;d<b.data.length;d++){var e=b.data[d].sourceId;c.push(e)}a.setCookie("arryActivitySourceId",c,k.toGMTString(),"/"),c.indexOf(f)!=-1&&(a.setCookie("startSourceId",f,j.toGMTString(),"/"),a.setCookie("startLsContent",g,j.toGMTString(),"/"))}}),l)var m=l.split(",");!b&&f?(a.setCookie("startSourceId",f,j.toGMTString(),"/"),a.setCookie("startLsContent",g,j.toGMTString(),"/")):m&&m.indexOf(f)!=-1&&(a.setCookie("startSourceId",f,j.toGMTString(),"/"),a.setCookie("startLsContent",g,j.toGMTString(),"/")),f&&a.setCookie("sourceId",f,k.toGMTString(),"/"),g&&a.setCookie("lsContent",g,k.toGMTString(),"/"),e&&a.setCookie("activityId",e,k.toGMTString(),"/")}),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},"undefined"==typeof window.LS&&(window.LS={},LS.version="1.0.0"),function(a){"undefined"==typeof LS.config&&(LS.config={})}(jQuery),function(a){"undefined"==typeof LS.validate&&(LS.validate={}),LS.validate.CheckMail=function(a){return""!=a.trim()&&/^[_a-zA-Z0-9_-_._-]+@([_a-zA-Z0-9_-]+\.)+[a-zA-Z]{2,3}$/.test(a)},LS.validate.CheckMobile=function(a){return""!=a.trim()&&/^1[0-9]{10}$/.test(a)}}(jQuery),function(a){"undefined"==typeof LS.utils&&(LS.utils={}),LS.utils={GetWindowWidth:function(){return a(window).width()},GetWindowHeight:function(){return a(window).height()},GetDocumentWidth:function(){return a(document.body).width()},GetDocumentHeight:function(){return a(document.body).height()},GetScrollLeft:function(){return a(window).scrollLeft()},GetScrollTop:function(){return a(window).scrollTop()},Trim:function(){return a.trim(src)}}}(jQuery),function(a){"undefined"==typeof LS.tool&&(LS.tool={}),LS.tool.timer={},LS.tool.ToDoubleDigit=function(a){return a<10?"0"+a:""+a},LS.tool.AjaxAbort=function(a,b,c){return LS.tool.timer[a]&&(window.clearTimeout(LS.tool.timer[a]),delete LS.tool.timer[a]),LS.tool.timer[a]=window.setTimeout(function(){b(),delete LS.tool.timer[a]},c)},LS.tool.CountDownTime=function(b,c,d){for(var e=0,f=a(b).length;e<f;e++){var g=a(b)[e],h=parseInt(g.getAttribute("val"))-1e3*c;if(h<0)return void(d&&d(g));g.innerHTML=Lsmain.date.countHour(h)}c++,setTimeout(arguments.callee,1e3,b,c,d)},LS.tool.ImageGetTop=function(a){for(var b=0,c=0;a;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{x:b,y:c}},LS.tool.ImageLazyInit=function(){function b(){for(var b,e,f=c.documentElement.scrollLeft||c.body.scrollLeft,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.clientWidth,i=c.documentElement.clientHeight,j=0,k=d.length;j<k;j++){try{b=LS.tool.ImageGetTop(d[j]).x,e=LS.tool.ImageGetTop(d[j]).y}catch(l){}if(void 0!=b&&b>=f&&e>=g&&b<f+h&&e<g+i){var m=d[j].getAttribute("data-original");d[j].src!==m&&null!=m&&(d[j].src=m,a(d[j]).parent().next().fadeIn(),d[j].removeAttribute("data-original"))}}}var c=document,d=c.getElementsByTagName("img"),e=window,f=e.onscroll=b;f()},LS.tool.boxRemove=function(a,b,c){b.animate({opacity:0},300,function(){c?b.hide():b.remove()}),a.animate({"margin-top":-a.outerHeight()/2-100},300,function(){c?a.hide():a.remove()})},LS.tool.boxSlide=function(a,b){a.css({"margin-left":-a.outerWidth()/2,"margin-top":-a.outerHeight()/2-100}),b.show().animate({opacity:.5},300,function(){a.show().animate({"margin-top":-a.outerHeight()/2},200)})}}(jQuery),function(a){"undefined"==typeof LS.dialog&&(LS.dialog={}),LS.dialog.slideBox=function(b,c,d,e){var f='<div id="lSlideShow" class="none" style="width:'+c+"px;height:"+d+'px;"><div class="lSlide_body">'+b+'</div><div class="lSopera"><div class="lSno">取消</div><div class="lSyes">确认</div></div></div><div id="lsMark" class="none"></div>';a("body").append(f);var g=a("#lsMark"),h=a("#lSlideShow"),i=a(".lSyes");LS.tool.boxSlide(h,g),"function"==typeof e&&i.show().on("click",function(){LS.tool.boxRemove(h,g),e()}),a(".lSno").on("click",function(){LS.tool.boxRemove(h,g)})},LS.dialog.login=function(){var b='<div class="login_body" id="login-slide"><div class="login_title">欢迎登录链尚<p title="关闭"></p></div><form id="slide-login-form"><div id="slide-login-error" class="login_error"></div><div class="login_list mt15"><em class="left username"></em><input id="slide-login-username" name="username" type="text" class="right" placeholder="手机号/用户名/邮箱" /></div><div class="login_list mt40"><em class="left password"></em><input id="slide-login-password" name="password" type="password" class="right" autocomplete="off" /></div><div class="login_check mt15"><div class="check_box left"><div class="check_l check_g"></div>自动登录</div><input type="checkbox" id="slide-login-remember" value="1" class="none" /><div class="right"><a href="/user/find-pwd-index">忘记密码</a></div></div><div class="btn mt50"><input type="submit" value="登录" id="slide-login-btn" class="btn_login" /></div><div class="login_text">还不是会员？ <a href="/user/register">立即注册</a></div></form></div><div id="login-mark" class="none"></div>';a("body").append(b);var c=a("#login-mark"),d=a("#login-slide");LS.tool.boxSlide(d,c),a("#login-slide .login_title p").on("click",function(){LS.tool.boxRemove(d,c)}),a("#slide-login-username,#slide-login-password").click(function(){var b=a(this);b.removeClass("login_list_error"),b.siblings().addClass("current")}).blur(function(){var b=a(this);b.siblings().removeClass("current")}),a("#slide-login-form").validate({onkeyup:!1,rules:{username:{required:!0},password:{required:!0}},messages:{username:{required:"请输入用户名"},password:{required:"请输入密码"}},errorClass:"login_list_error",errorLabelContainer:"#slide-login-error",submitHandler:function(b){a("#slide-login-btn").val("登录中..."),a.post("/user/login",{data:{username:a.trim(a("#slide-login-username").val()),password:a.trim(a("#slide-login-password").val()),remember:a("#slide-login-remember").val()}},function(b){1==b.status?location.reload(!0):Lsmain.tip.warning(b.message),a("#slide-login-btn").val("登录")})}})}}(jQuery),LS.getUploadSettings=function(type,submitHandler,successHandler){var settings={action:"/upload/do-upload-ajax",name:"upload",data:{type:type},responseType:!1,onSubmit:submitHandler||function(){},onComplete:function(filename,data){return data=eval("("+data+")"),"fail"==data.status?(alert(data.msg),!1):void(successHandler&&successHandler(data.img_path,data))}};return settings},LS.getDefaultValidateSettings=function(a,b){var c={onkeyup:!1,rules:{},messages:{},submitHandler:a,errorClass:"invalid-input",errorPlacement:function(a,b){$(b);$('<div class="invalid-message error-message" style="display:none"></div>').css({display:"none"}).html(a).insertAfter(b)},createErrors:function(a,b){b.length>0?LSApplication.tip.error(b[0].message,-1):b.length<=0&&LSApplication.tip.hide(!0),this.defaultcreateErrors()},success:function(a){$(a).addClass("valid-input")}};return c},function(){function a(){}var b=Lsmain,c=b.api;a.prototype.initCaptch=function(a){return c.postRequest("/captcha/v2/isCaptchaShow",a)},a.prototype.getCaptcha=function(){return c.postRequest("/captcha/v2/get-captcha")},a.prototype.checkCaptcha=function(a,b){var d={data:{signature:a,vcode:b}};return c.postRequest("/captcha/v2/gCloudVerify",d)},window.TecentCaptch=new a}(),$(document).ready(function(){$(".addr_left_t .user_name_btn em").click(function(){$(this).parent().filter("dd").hide(),$(".addr_left_t .user_name_edit").show(),$(".addr_left_t .user_name_edit .user_name_input").attr("value","").focus()}),Lsmain.validator.onInvalid(function(a){Lsmain.tip.error(a)}),$(".addr_left_t .user_name_edit a").click(function(){var a=$(".addr_left_t .user_name_edit .user_name_input"),b=Lsmain.string.trim(a.val()),c={userName:b},d={userName:{required:"昵称不能为空",maxlength:[20,"昵称不能超过{0}个字符"]}};if(Lsmain.validator.model(c,d)){var e={data:{username:b}};$.post("/user/do-modify-username-ajax",e,function(a){1==a.status?($(".addr_left_t .user_name_edit").hide(),$(".addr_left_t .user_name_btn").show(),messager.success("修改成功!","昵称修改"),window.location.reload()):messager.error(a.message,"昵称修改")},"json")}})}),function(){"use strict";function a(){}function b(b,c,d,e){var f=c.currentFormName,g=d.find("[name="+f+"],[data-provider="+f+"]");if(g.is("input,textarea,select")){e&&g.focus();var h=g.data("combobox");h?(h.$container.find(".combobox").addClass("error"),g=$.merge(h.$container.find(".combobox-input"),g)):g.addClass("error"),n(g,b,e)}else a.prototype.error(b)}function c(a,b,c){var d=b.currentFormName,e=c.find("[name="+d+"],[data-provider="+d+"]");if(!(e.length<0)){var f=e.data("combobox");e.removeClass("error"),f&&f.$container.find(".combobox").removeClass("error"),o(e)}}function d(){if(!this.__$container)throw new Error("请先执行initBind");var a=this,b=this.__$container,c=this.__validator;b.data("validator",c).attr("data-validator","yes").data("rules",function(){return a.validationModel})}function e(a,b){var c=$(b),d=c.closest("[data-validator]"),e=d.data("validator"),f=d.data("rules");if("function"==typeof f&&(f=f()),f&&(c.unbind("blur.validation"),r.type.isObject2(f))){var g=r.utils.ifn(c.attr("name"),c.data("provider"));e.attr(g,c.val(),f,Lsmain.formWR.read(d[0]))}}function f(){this.__validator=new r.DataValidator,this.__validator.onInvalid(this.getCall(this.onDataInvalid)),this.__validator.onValid(this.getCall(this.onDataValid))}function g(a){a.on("click",h(this,"click"))}function h(a,b){return function(c){var d=$(c.target||c.srcElement),e=d.data(),f=d.data(b);if(r.type.isFunction(a[f])){if(k(a,a[f])||d.hasClass("disabled"))return;a[f](e,d)}}}function i(a,b){var c=l(a);c.methods.query(function(a){return a==b}).length<1&&c.methods.add(b)}function j(a,b){var c=l(a);c.methods.removeItem(b)}function k(a,b){var c=l(a);return c.methods.query(function(a){return a==b}).length>0}function l(a){var b=v.query(function(b){return b.obj===a}),c=b[0];return c?c.methods=c.methods||new r.List([]):(c={methods:new r.List,obj:a},v.add(c)),c}function m(){clearTimeout(s),setTimeout(function(){t.hide(!0)},500)}function n(a,b,c){var d=$(a.data("validationerror"));d.length<1&&(d=$(['<span id="" class="validation tooltip tooltip-error tooltip-right">','<div class="tooltip-content"></div>','<div class="tooltip-arrow-outer"></div>','<div class="tooltip-arrow"></div>',"</span>"].join("\n")),d.find(".tooltip-content").html(b),a.data("validationerror",d[0]),d.insertBefore(a[0]),d.hide(),d.find(".tooltip-content").html(b),q(a,d)),c&&(r.uiHelp.scrollIntoView(a[0]),d.css({top:"initial",display:""}))}function o(a){var b=$(a.data("validationerror"));b.length>0&&(b.remove(),a.data("validationerror",null))}function p(a){var b=$(a.srcElement||a.target),c=b.closest("[data-validator]"),d=b.data("validationerror");$(".validation.tooltip.validation-second").hide(),$(".validation.tooltip.first").removeClass("first").addClass("validation-second");var e=$(d);if(d&&1!=c.data("slient")){var f="none"==b.css("display");f&&(b=b.siblings().eq(0)),q(b,e),e.css({top:"initial"}).show()}else e.hide()}function q(a,b){var c=a.offsetParent(),d=c.offset()||{
left:0,top:0},e=a.offset();b.css({left:e.left+a.width()+28-d.left,top:e.top-d.top}),b.addClass("first").removeClass("validation-second")}function e(a){var b=$(this);if(b.is("input,select,textarea")){var c=b.closest("[data-validator]"),d=b.closest(".combobox-wrap"),e=c.data("validator"),f=c.data("rules"),g=r.utils.ifn(b.attr("name"),b.data("provider")),h=b.val();if("function"==typeof f&&(f=f()),f){if(d.length>0){var i=d.data("lsmain-combobox"),j=$(i.originTarget);g=r.utils.ifn(j.attr("name"),j.data("provider")),h=i.val()}if(b.unbind("blur.validation"),r.type.isObject2(f)){var k=f[g];if(e.attr(g,h,f,Lsmain.formWR.read(c[0])),k&&k.twoRequired){var l=c.find("[name="+k.twoRequired[0]+"],[data-provider="+k.twoRequired[0]+"]"),m=b.data("validationerror");l.removeClass("error"),m&&$(m).hide()}}}}}var r=Lsmain,s=null,t=new r.UI.InfoTips,u=$(document.body),v=new r.List;window.LsPageClass=a,a.driver=function(b){r.BaseClass.extend(b,a)},a.run=function(b,c){r.type.isClass(b,a)||a.driver(b);var d=new b;return $(function(){d.initBind(c),d.init()}),d},a.prototype.bind=function(a,b,c,d){var e=this;3==arguments.length&&(d=c,c=b,b=null),b=b||this.__$container,b.on(a,c,function(a){if(!k(e,d)&&!$(this).hasClass("disabled"))return r.utils.call(e,d,a,this)})},a.prototype.init=function(a){},a.prototype.setSlient=function(a){this.slient=a,this.__$container.data("slient",a)},a.prototype.getCall=function(a,b){return r.utils.getCall(this,a,b)},a.prototype.doCall=function(a,b){return this.getCall(a,b)},a.prototype.yesCall=function(a,b,c,d){var e=this;return function(f,g){g=f||g,e.unLock(c);var h=null==g.status?g.code:g.status,i=d?h==d:1==g.status||null==g.stauts&&0==g.code;return i?a.apply(e,[g,b]):void messager.error(g.message)}},a.prototype.doLoading=function(a){preloader.preload(a)},a.prototype.doloadEnd=function(a){preloader.close(a)},a.prototype.registerUploadCall=function(a,b){AjaxUpload.handlers[a]=this.doCall(b)},a.prototype.get=function(a,b){return r.api.getRequest(a,b)},a.prototype.post=function(a,b,c){return r.api.postRequest(a,b,null,c)},a.prototype.error=function(a){r.string.isNullOrWhiteSpace(a)||(m(),r.tip.error(a))},a.prototype.info=function(a,b){b=r.utils.ensureDecimal(b,0),s=setTimeout(function(){t.info(a)},b)},a.prototype.success=function(a){return m(),r.tip.success(a)},a.prototype.initBind=function(a){a!==!1&&(this.__$container=$(a||document.body),f.apply(this),g.apply(this,[this.__$container]),d.apply(this))},a.prototype.yesValidation=function(a){return this.__focusable=!0,this.__validator.model(a,this.validationModel,this.slient)},a.prototype.getValidationMessage=function(){return this.__validator.currentMessage},a.prototype.onDataInvalid=function(a){if(r.type.isFunction(this.onInvalid)){var c=this.__validator.currentFormName,d=this.__$container.find("[name="+c+"],[data-provider="+c+"]");return this.onInvalid(a,d)}b(a,this.__validator,this.__$container,this.__focusable),this.__focusable=!1},a.prototype.onDataValid=function(a){if(r.type.isFunction(this.onValid)){var b=this.__validator.currentFormName,d=this.__$container.find("[name="+b+"],[data-provider="+b+"]");return this.onValid(d)}c(a,this.__validator,this.__$container)},a.prototype.lock=function(a){r.type.isFunction(a)?i(this,a):$(a).data("lock","locked")},a.prototype.unLock=function(a){var b=this;setTimeout(function(){r.type.isFunction(a)?j(b,a):$(a).data("lock","unlock")},500)},a.prototype.disabled=function(a){$(a).addClass("disabled")},a.prototype.enable=function(a){$(a).removeClass("disabled")},a.prototype.read=function(a){return 0==arguments.length?r.formWR.read(this.__$container):r.formWR.read(a)},a.prototype.registerValidator=function(a,d,e){var f=$(a);if(f.data("validator"))return f.data("validator");var g=new r.DataValidator,h=!1;return g.onInvalid(function(a){"none"!=e&&(b(a,g,f,h),h=!1)}),g.onValid(function(a){c(a,g,f)}),g.doValidate=function(a,b){f.data("slient",b),h=!0;var c="function"==typeof d?d():d;return this.model(a,c,b)},f.data("validator",g).attr("data-validator","yes").data("rules",d),g},a.prototype.fill=function(a,b){1==arguments.length?r.formWR.fill(this.__$container,a):r.formWR.fill(b,a)},u.on("blur.validation","[name],[data-provider],.combobox-input",e),u.on("click.validation","[name],[data-provider],.combobox-input",p)}(),function(){function a(){b.apply(this),c.apply(this)}function b(){this.staticUrl=Lsmain.config.get("f2e-framework.cdnUrl")}function c(){for(var a=$("[data-page-module]"),b=0,c=a.length;b<c;b++)d.apply(this,[a.eq(b)])}function d(a){var b=a.data("pageModule"),c=Lsmain.string.format("{0}resources/js/modules/{1}",this.staticUrl,b),d=this;this.$current=null,Angel.using(c,function(){d.$current=a,a=null})}a.prototype.create=function(a){Lsmain.utils.call(window,a,this.$current)}}(),function(){function a(){b(),c(),d(),LS.tool.ImageLazyInit(),n(),e(),f(),g(),i(),j(),h(),o(),p(),q(),s(),t(),r(),v()}function b(){"true"===$("#isMdfPwd").val()&&location.href.indexOf("/user/safe-change-password")<0&&messager.noCloseAlert('<em>经过系统检测，您的账户安全系数较低 : </em><br/><br/><em>为进一步确保<em style="color:red;">账户安全</em>, 请立即修改密码。</em>',"温馨提示",function(){location.href="/user/safe-change-password"})}function c(){var a=new Lsmain.CookieParser(document.cookie);LS.user=a}function d(){var a,b,c,d,e=$("[data-menus]"),f=(location.pathname||"").toLowerCase(),g=null;e.each(function(){b=$(this),d=null,c=b.data("activeCls")||"current",b.find("."+c).removeClass(c);var e=(b.data("activeMenu"),b.data("menu")||"a");return b.find(e).each(function(){g=$(this);var b=null;if(b=g.is("a")?g:g.find("a"),a=$.trim(b.attr("href")).toLowerCase().split("?")[0],a==f)return d=g,!1}),d||(d=b.find(b.data("activeMenu"))),d.length>0?void d.addClass(c):void b.find(e).eq(0).addClass(c)})}function e(){$(".in_search_btn,.btn_search").on("click",k),$(document.body).on("click","[data-search=pricerange] .list_search_b",function(){l($(this).parents("[data-search=pricerange]:eq(0)"))}),$(document.body).on("blur.search","[data-search=pricerange] input",function(){var a=this.value;(isNaN(a)||a<0)&&(this.value=0)}),$(document.body).on("keyup","[data-search=pricerange] :text",function(a){if(13==a.keyCode){var b=this.value;(isNaN(b)||b<0)&&(this.value=0),l($(this).parents("[data-search=pricerange]:eq(0)"))}})}function f(){$(".menu_list").hover(function(){var a=$(this);a.find(".menu_body").show(),a.find(".menu_list_l span").addClass("current")},function(){var a=$(this);a.find(".menu_body").hide(),a.find(".menu_list_l span").removeClass("current")}),$("#nav .classify").hover(function(){$(this).siblings(".menu").show()},function(){$(this).siblings(".menu").hide()}),$("#menu").hover(function(){$(this).show()},function(){$(this).hide()}),$("#publishDemand,#indexPublish").on("click",function(){$.post("/public/detection-login-ajax",function(a){1==a.status?location.href="/user/goods-demand":0==a.status?LS.dialog.login():alert(a.message)},"json")})}function g(){$(".main_nav1").hover(function(){$(this).children(".dd1").removeClass("none")},function(){$(this).children(".dd1").addClass("none")}),$(".dd1 ul li").hover(function(){$(this).siblings("li").css({"border-right":"1px solid #e74c3c",width:139}),$(this).siblings("li.dd_li_first,li.dd_li_sec ").css({"border-right":"1px solid #e74c3c",width:188}),$(this).addClass("hover"),$(this).children(".dorpdown_layer").show()},function(){$(this).removeClass("hover"),$(this).siblings("li").css({"border-right":"1px solid transparent"}),$(this).children(".dorpdown_layer").hide()}),$(".navitems_group li:not('.free_market_li')").hover(function(){$(this).children(".in_navitems_group").show(),$(this).find(".white_arr").hide().siblings(".w_arr").show()},function(){$(this).find(".white_arr").show().siblings(".w_arr").hide(),$(this).children(".in_navitems_group").hide()}),$(".free_market").on("click",function(a){$("body,html").animate({scrollTop:$(".market").offset().top},1e3)}),$(document.body).on("click",".check_box",function(){var a=$(this).find(".check_l");a.hasClass("check_g")?(a.removeClass("check_g"),$(this).next().val("0")):(a.addClass("check_g"),$(this).next().val("1"))})}function h(){$(document.body).on("keypress","[maxlength]",function(a){var b=$(this),c=parseInt(b.attr("maxlength"));b.val().length>=c&&(a.returnValue=!1,a.originalEvent.returnValue=!1)})}function i(){var a;$(".shopSelect").hover(function(){var b=$(this),c=b.innerHeight();b.css({"z-index":"3",position:"relative"}).parents(".order_new_current").css("z-index","3"),a=$("<div>").css({position:"absolute","z-index":"3",left:"0",top:c}),this.shopTimer=setTimeout(function(){var c={id:b.attr("val"),type:b.attr("type")};$.post("/public/do-user-card-ajax",{data:c},function(c){if(1==c.status){var d='<dl><dt><img src="'+c.data.avatar+'" alt=""></dt><dd title="'+c.data.name+'">'+c.data.name+'</dd></dl><ul class="shopSelect_ul">';c.data.tel&&(d+='<li title="'+c.data.tel+'"><i class="t"></i>'+c.data.tel+"</li>"),c.data.qq&&(d+='<li title="'+c.data.qq+'"><i class="q"></i>'+c.data.qq+"</li>"),c.data.email&&(d+='<li title="'+c.data.email+' "><i class="m"></i>'+c.data.email+"</li>"),d+="</ul>",a.html(d),b.append(a)}},"json")},500)},function(){$(this).css("z-index","2").parents(".order_new_current").css("z-index","1"),clearTimeout(this.shopTimer),a.remove()})}function j(){$("#btnJump").on("click",z),$(".toolbar_tit_w").on("click",function(a){LS.dialog.login()}),$(".search_tab li").on("click",function(a){$_index=$(this).index()+1,$("#stype").val($(this).data("value")),$(this).addClass("cur").siblings("li").removeClass("cur"),""==$(".search_con .txt").val()&&$(".search_con span").show()}),$(".toolbar_my").hover(function(){var a=$(this);a.find(".toolbar_tit").addClass("current"),a.find(".toolbar_select").show(),$(this).find("em").css("background-position","-145px -87px")},function(){var a=$(this);a.find(".toolbar_tit").removeClass("current"),a.find(".toolbar_select").hide(),$(this).find("em").css("background-position","-145px -79px")})}function k(a){var b=$(this);return""==$.trim(b.prev().val())?(b.prev().focus(),!1):void b.parent().submit()}function l(a){var b=m(window.location.href,a.find(":text"));b&&(window.location.href=b)}function m(a,b){var c=new LSApplication.UrlParserClass(a),d=$.trim(b.eq(0).val()),e=$.trim(b.eq(1).val());if((""==d||isNaN(d)||d<0)&&b.eq(0).val("0"),(""==e||isNaN(e)||e<0)&&b.eq(1).val("0"),d&&e){var f=[Number(d),Number(e)];e=Math.max.apply(Math,f),d=Math.min.apply(Math,f),c.paras.startPrice=d,c.paras.endPrice=e}return 0==d&&0==e&&(c.paras.startPrice=void 0,c.paras.endPrice=void 0),c.toString(!0)}function n(){$("#province").combobox({textField:"name",valueField:"id"}),$("#city").combobox({url:"/public/do-city-list-ajax",leader:$("#province"),cascadeParam:D,textField:"name",valueField:"id"}),$("#county").combobox({url:"/public/do-area-list-ajax",leader:$("#city"),cascadeParam:D,textField:"name",valueField:"id"})}function o(){function a(){Lsmain.tip.info("录音读取失败"),c()}function b(a){return d&&d[0]!=a?(c(),!1):e?(1==e.getState()?(d.addClass(d.data("playing")),e.start()):(d.removeClass(d.data("playing")),e.pause()),!0):void 0}function c(){return e?(d.removeClass(d.data("playing")),e.destroy(),d=e=null,!0):void(f=!1)}var d,e=null,f=!1;$(document.body).on("click.audio","[data-audio]",function(){b(this)||d&&d[0]==this&&f||(d=$(this),f=!0,d.addClass(d.data("playing")),e=new Lsmain.Audio(d.data("audio")),e.on("end",c),e.on("error",a),e.start())})}function p(){var a=$("<div class='tip_pane' style='display:none'></div>");$(document.body).append(a),$(document.body).on("mouseenter",".tip_question",function(){var b=$(this);a.css({left:b.offset().left+b.width(),top:b.offset().top+b.height()/2}),a.html(b.data("title")),a.show()}),$(document.body).on("mouseout",".tip_question",function(){a.hide()})}function q(){var a=$(document.body);a.on("click.visible","[data-toggle='visible']",function(){var a=$(this),b=$(a.data("target"));b.toggle()}),a.on("click.show","[data-toggle='show']",function(){var a=$(this),b=$(a.data("target")),c=$(a.data("hide"));c.hide(),b.show()}),a.on("click.hide","[data-toggle='hide']",function(){var a=$(this),b=$(a.data("target")),c=$(a.data("hide"));c.show(),b.hide()})}function r(){var a=null;$(document.body).on("click.popover",'[data-toggle="popover"]',function(b){var c=$(this);a=$(c.data("target")),a.show()}),$(document.body).click(function(b){var c=$(b.srcElement||b.target);!c.is("[data-toggle='popover']")&&a&&a.hide()})}function s(){$(document.body).on("keyup.bank","[data-bank-card]",x)}function t(){$(document.body).on("blur","[data-plugin=number]",u)}function u(){this.value=w(this)}function v(){$(document.body).on("click.firfox","a[target='_blank'],a[target='_top']",function(a){var b=$.trim(this.href);(0==b.indexOf("#")||b.indexOf("javascript:")>=0)&&this.removeAttribute("target")})}function w(a){var b=a.value||"",c=$(a).data(),d=Lsmain.utils.ifn(c["default"],""),e=Number(b),f=c.min,g=c.max;return isNaN(e)||e<f||e>g?d:(isNaN(c.precision)||(b=Number(b).toFixed(c.precision)),b)}function x(a){if(8!=a.keyCode){var b=Lsmain.uiHelp,c=a.srcElement||a.target,d=b.getCursortPosition(c)+1;this.value=y(this.value),b.setCursorPosition(c,d)}}function y(a){a=a||"",a=a.replace(/\s/g,"");var b=a.match(/(\d{0,4})+?/g);return null==b&&b.push(a),$.trim(b.join(" "))}function z(){var a=$("#pageJump"),b=parseInt(a.attr("page")),c=parseInt($.trim(a.val()));!c||c>b||c<1?a.val("").focus():location.href=a.attr("url")+c}function A(a,b,c,d){var e=jQuery(a)[0],f=jQuery(b)[0],g=jQuery(c)[0];if(e){jQuery(e).change(function(){B(this,f,g)}),jQuery(f).change(function(){B(e,this,g)}),d=d||{};var h=d.min,i=d.max,j=(new Date).getFullYear();h=isNaN(h)||h<=0?1930:parseInt(h),i=isNaN(i)||i<h?j:parseInt(i);for(var k=j;k>=h;k--){E(e,k);var l=parseInt(e.getAttribute("data"));k==l&&(e.options[j-k+1].selected=!0)}for(var k=1;k<=12;k++){E(f,k);var m=parseInt(f.getAttribute("data"));k==m&&(f.options[k].selected=!0)}for(var k=1;k<=31;k++){E(g,k);var n=parseInt(g.getAttribute("data"));k==n&&(g.options[k].selected=!0)}B(e,f,g)}}function B(a,b,c){var d=[31,28,31,30,31,30,31,31,30,31,30,31],e=a.options[a.selectedIndex].text,f=b.options[b.selectedIndex].text,g=d[f-1];2==f&&C(e)&&g++;for(var h=c.options.length-1;h>=g;h--)c.remove(h);for(var i=c.options.length;i<=g;i++)E(c,i)}function C(a){return a%4==0||a%100==0&&a%400==0}function D(a){return{data:{id:a}}}function E(a,b){var c=document.createElement("option");c.text=b,c.value=b,a.options.add(c)}function F(){$(".sameLogo-con , .iconDown-box").hover(function(){$(".sameLogo-con").css({height:"46px",overflow:"visible"})},function(){$(".sameLogo-con").css({height:"20px",overflow:"hidden"})})}function G(){this.value=this.value.replace(/[^\d.]/g,""),this.value=this.value.replace(/^\./g,""),this.value=this.value.replace(/\.{2,}/g,"."),this.value=this.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.value=this.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")}window.createYearMonthDayLinks=LS.createYearMonthDayLinks=A,Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1},Array.prototype.pushRemove=function(a){var b=this.indexOf(a);b>-1?this.splice(b,1):this.push(a)},$(a),F(),$(document.body).on("keyup","[data-keep-two-decimal]",G)}(),$(function(){$(".dif-header-in .search_tab").hover(function(){$(this).css("overflow","visible")},function(){$(this).css("overflow","hidden")}),$(".dif_search_tab").on("click","li",function(){var a=$(this).html(),b=$(this).attr("data-value"),c="<li class=cur data-value="+b+">"+a+"</li>";$(".dif_search_tab li").eq(0).before(c),$(".dif_search_tab li:gt(0)").removeClass("cur"),$(this).remove(),$(".dif-header-in .search_tab").css("overflow","hidden"),$("#stype").val(b)})}),$(function(){$(window).scroll(function(){$(document).scrollTop()>100?$(".back_top").fadeIn():$(".back_top").fadeOut()}),$(".back_top").on("click",function(a){$("body,html").animate({scrollTop:0},200)})}),!function(a,b){"use strict";function c(a,b){for(var c,d=[],e=0;e<a.length;++e){if(c=h[a[e]]||f(a[e]),!c)throw"module definition dependecy not found: "+a[e];d.push(c)}b.apply(null,d)}function d(a,d,e){if("string"!=typeof a)throw"invalid module definition, module id must be defined and be a string";if(d===b)throw"invalid module definition, dependencies must be specified";if(e===b)throw"invalid module definition, definition function must be specified";c(d,function(){h[a]=e.apply(null,arguments)})}function e(a){return!!h[a]}function f(b){for(var c=a,d=b.split(/[.\/]/),e=0;e<d.length;++e){if(!c[d[e]])return;c=c[d[e]]}return c}function g(c){for(var d=0;d<c.length;d++){for(var e=a,f=c[d],g=f.split(/[.\/]/),i=0;i<g.length-1;++i)e[g[i]]===b&&(e[g[i]]={}),e=e[g[i]];e[g[g.length-1]]=h[f]}}var h={},i="moxie/core/utils/Basic",j="moxie/core/I18n",k="moxie/core/utils/Env",l="moxie/core/utils/Dom",m="moxie/core/utils/Events",n="moxie/core/utils/Url",o="moxie/core/Exceptions",p="moxie/core/EventTarget",q="moxie/runtime/Runtime",r="moxie/core/utils/Mime",s="moxie/runtime/RuntimeClient",t="moxie/file/FileInput",u="moxie/core/utils/Encode",v="moxie/file/Blob",w="moxie/file/FileReader",x="plupload",y="plupload/core/Collection",z="moxie/file/File",A="moxie/file/FileDrop",B="plupload/core/Optionable",C="plupload/core/Queueable",D="plupload/core/Stats",E="plupload/core/Queue",F="plupload/QueueUpload",G="plupload/QueueResize",H="moxie/runtime/RuntimeTarget",I="moxie/file/FileReaderSync",J="moxie/xhr/FormData",K="moxie/xhr/XMLHttpRequest",L="plupload/ChunkUploader",M="plupload/FileUploader",N="moxie/runtime/Transporter",O="moxie/image/Image",P="plupload/ImageResizer",Q="plupload/File",R="plupload/Uploader",S="moxie/runtime/html5/Runtime",T="moxie/runtime/html5/file/Blob",U="moxie/runtime/html5/file/FileInput",V="moxie/runtime/html5/file/FileDrop",W="moxie/runtime/html5/file/FileReader",X="moxie/runtime/html5/xhr/XMLHttpRequest",Y="moxie/runtime/html5/utils/BinaryReader",Z="moxie/runtime/html5/image/JPEGHeaders",$="moxie/runtime/html5/image/ExifParser",_="moxie/runtime/html5/image/JPEG",aa="moxie/runtime/html5/image/PNG",ba="moxie/runtime/html5/image/ImageInfo",ca="moxie/runtime/html5/image/ResizerCanvas",da="moxie/runtime/html5/image/ResizerWebGL",ea="moxie/runtime/html5/image/Image",fa="moxie/runtime/flash/Runtime",ga="moxie/runtime/flash/file/Blob",ha="moxie/runtime/flash/file/FileInput",ia="moxie/runtime/flash/file/FileReader",ja="moxie/runtime/flash/file/FileReaderSync",ka="moxie/runtime/flash/runtime/Transporter",la="moxie/runtime/flash/xhr/XMLHttpRequest",ma="moxie/runtime/flash/image/Image",na="moxie/runtime/silverlight/Runtime",oa="moxie/runtime/silverlight/file/Blob",pa="moxie/runtime/silverlight/file/FileInput",qa="moxie/runtime/silverlight/file/FileDrop",ra="moxie/runtime/silverlight/file/FileReader",sa="moxie/runtime/silverlight/file/FileReaderSync",ta="moxie/runtime/silverlight/runtime/Transporter",ua="moxie/runtime/silverlight/xhr/XMLHttpRequest",va="moxie/runtime/silverlight/image/Image",wa="moxie/runtime/html4/Runtime",xa="moxie/runtime/html4/file/FileInput",ya="moxie/runtime/html4/file/FileReader",za="moxie/runtime/html4/xhr/XMLHttpRequest",Aa="moxie/runtime/html4/image/Image";d(i,[],function(){function a(a){var b;return a===b?"undefined":null===a?"null":a.nodeType?"node":{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function b(){return d(!1,arguments)}function c(){return d(!0,arguments)}function d(b,c){var e,g=c[0];return f(c,function(c,h){h>0&&f(c,function(c,f){return!!(c===e||b&&g[f]===e)||void(a(g[f])===a(c)&&j(a(c),["array","object"])!==-1?d(b,[g[f],c]):g[f]=c)})}),g}function e(a,b){function c(){this.constructor=a}for(var d in b)({}).hasOwnProperty.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__parent__=b.prototype,a}function f(a,b){var c,d,e,f;if(a){try{c=a.length}catch(a){c=f}if(c===f||"number"!=typeof c){for(d in a)if(a.hasOwnProperty(d)&&b(a[d],d)===!1)return}else for(e=0;e<c;e++)if(b(a[e],e)===!1)return}}function g(b){var c;if(!b||"object"!==a(b))return!0;for(c in b)return!1;return!0}function h(b,c){function d(e){"function"===a(b[e])&&b[e](function(a){++e<f&&!a?d(e):c(a)})}var e=0,f=b.length;"function"!==a(c)&&(c=function(){}),b&&b.length||c(),d(e)}function i(a,b){var c=0,d=a.length,e=new Array(d);f(a,function(a,f){a(function(a){if(a)return b(a);var g=[].slice.call(arguments);g.shift(),e[f]=g,c++,c===d&&(e.unshift(null),b.apply(this,e))})})}function j(a,b){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c}return-1}function k(b,c){var d=[];"array"!==a(b)&&(b=[b]),"array"!==a(c)&&(c=[c]);for(var e in b)j(b[e],c)===-1&&d.push(b[e]);return!!d.length&&d}function l(a,b){var c=[];return f(a,function(a){j(a,b)!==-1&&c.push(a)}),c.length?c:null}function m(a){var b,c=[];for(b=0;b<a.length;b++)c[b]=a[b];return c}function n(a){return a?String.prototype.trim?String.prototype.trim.call(a):a.toString().replace(/^\s*/,"").replace(/\s*$/,""):a}function o(a){if("string"!=typeof a)return a;var b,c={t:1099511627776,g:1073741824,m:1048576,k:1024};return a=/^([0-9\.]+)([tmgk]?)$/.exec(a.toLowerCase().replace(/[^0-9\.tmkg]/g,"")),b=a[2],a=+a[1],c.hasOwnProperty(b)&&(a*=c[b]),Math.floor(a)}function p(b){var c=[].slice.call(arguments,1);return b.replace(/%[a-z]/g,function(){var b=c.shift();return"undefined"!==a(b)?b:""})}function q(a,b){var c=this;setTimeout(function(){a.call(c)},b||1)}var r=function(){var a=0;return function(b){var c,d=(new Date).getTime().toString(32);for(c=0;c<5;c++)d+=Math.floor(65535*Math.random()).toString(32);return(b||"o_")+d+(a++).toString(32)}}();return{guid:r,typeOf:a,extend:b,extendIf:c,inherit:e,each:f,isEmptyObj:g,inSeries:h,inParallel:i,inArray:j,arrayDiff:k,arrayIntersect:l,toArray:m,trim:n,sprintf:p,parseSizeStr:o,delay:q}}),d(j,[i],function(a){var b={};return{addI18n:function(c){return a.extend(b,c)},translate:function(a){return b[a]||a},_:function(a){return this.translate(a)},sprintf:function(b){var c=[].slice.call(arguments,1);return b.replace(/%[a-z]/g,function(){var b=c.shift();return"undefined"!==a.typeOf(b)?b:""})}}}),d(k,[i],function(a){function b(a,b,c){var d=0,e=0,f=0,g={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},h=function(a){return a=(""+a).replace(/[_\-+]/g,"."),a=a.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),a.length?a.split("."):[-8]},i=function(a){return a?isNaN(a)?g[a]||-7:parseInt(a,10):0};for(a=h(a),b=h(b),e=Math.max(a.length,b.length),d=0;d<e;d++)if(a[d]!=b[d]){if(a[d]=i(a[d]),b[d]=i(b[d]),a[d]<b[d]){f=-1;break}if(a[d]>b[d]){f=1;break}}if(!c)return f;switch(c){case">":case"gt":return f>0;case">=":case"ge":return f>=0;case"<=":case"le":return f<=0;case"==":case"=":case"eq":return 0===f;case"<>":case"!=":case"ne":return 0!==f;case"":case"<":case"lt":return f<0;default:return null}}var c=function(a){var b="",c="?",d="function",e="undefined",f="object",g="name",h="version",i={has:function(a,b){return b.toLowerCase().indexOf(a.toLowerCase())!==-1},lowerize:function(a){return a.toLowerCase()}},j={rgx:function(){for(var b,c,g,h,i,j,k,l=0,m=arguments;l<m.length;l+=2){var n=m[l],o=m[l+1];if(typeof b===e){b={};for(h in o)i=o[h],typeof i===f?b[i[0]]=a:b[i]=a}for(c=g=0;c<n.length;c++)if(j=n[c].exec(this.getUA())){for(h=0;h<o.length;h++)k=j[++g],i=o[h],typeof i===f&&i.length>0?2==i.length?typeof i[1]==d?b[i[0]]=i[1].call(this,k):b[i[0]]=i[1]:3==i.length?typeof i[1]!==d||i[1].exec&&i[1].test?b[i[0]]=k?k.replace(i[1],i[2]):a:b[i[0]]=k?i[1].call(this,k,i[2]):a:4==i.length&&(b[i[0]]=k?i[3].call(this,k.replace(i[1],i[2])):a):b[i]=k?k:a;break}if(j)break}return b},str:function(b,d){for(var e in d)if(typeof d[e]===f&&d[e].length>0){for(var g=0;g<d[e].length;g++)if(i.has(d[e][g],b))return e===c?a:e}else if(i.has(d[e],b))return e===c?a:e;return b}},k={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},l={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[g,h],[/\s(opr)\/([\w\.]+)/i],[[g,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[g,h],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[g,"IE"],h],[/(edge)\/((\d+)?[\w\.]+)/i],[g,h],[/(yabrowser)\/([\w\.]+)/i],[[g,"Yandex"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],h],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[g,h],[/(dolfin)\/([\w\.]+)/i],[[g,"Dolphin"],h],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[g,"Chrome"],h],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[h,[g,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[h,[g,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[h,[g,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[h,[g,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[h,g],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[g,[h,j.str,k.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[g,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[g,"Netscape"],h],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[g,h]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[g,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[g,h],[/rv\:([\w\.]+).*(gecko)/i],[h,g]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[g,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[g,[h,j.str,k.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[g,"Windows"],[h,j.str,k.os.windows.version]],[/\((bb)(10);/i],[[g,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[g,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[g,"Symbian"],h],[/\((series40);/i],[g],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[g,"Firefox OS"],h],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[g,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[g,"Chromium OS"],h],[/(sunos)\s?([\w\.]+\d)*/i],[[g,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[g,h],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[g,"iOS"],[h,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[g,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[g,h]]},m=function(a){var c=a||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:b);this.getBrowser=function(){return j.rgx.apply(this,l.browser)},this.getEngine=function(){return j.rgx.apply(this,l.engine)},this.getOS=function(){return j.rgx.apply(this,l.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return c},this.setUA=function(a){return c=a,this},this.setUA(c)};return m}(),d=function(){var b={define_property:function(){return!1}(),create_canvas:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}(),return_response_type:function(a){try{if(c.inArray(a,["","text","document"])!==-1)return!0;if(window.XMLHttpRequest){var b=new XMLHttpRequest;if(b.open("get","/"),"responseType"in b)return b.responseType=a,b.responseType===a}}catch(c){}return!1},use_data_uri:function(){var a=new Image;return a.onload=function(){b.use_data_uri=1===a.width&&1===a.height},setTimeout(function(){a.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return b.use_data_uri&&("IE"!==f.browser||f.version>=9)},use_data_uri_of:function(a){return b.use_data_uri&&a<33e3||b.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var a=document.createElement("input");return a.setAttribute("type","file"),!a.disabled}};return function(c){var d=[].slice.call(arguments);return d.shift(),"function"===a.typeOf(b[c])?b[c].apply(this,d):!!b[c]}}(),e=(new c).getResult(),f={can:d,uaParser:c,browser:e.browser.name,version:e.browser.version,os:e.os.name,osVersion:e.os.version,verComp:b,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return f.OS=f.os,f}),d(l,[k],function(a){var b=function(a){return"string"!=typeof a?a:document.getElementById(a)},c=function(a,b){if(!a.className)return!1;var c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");return c.test(a.className)},d=function(a,b){c(a,b)||(a.className=a.className?a.className.replace(/\s+$/,"")+" "+b:b)},e=function(a,b){if(a.className){var c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");a.className=a.className.replace(c,function(a,b,c){return" "===b&&" "===c?" ":""})}},f=function(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null)[b]:void 0},g=function(b,c){function d(a){var b,c,d=0,e=0;return a&&(c=a.getBoundingClientRect(),b="CSS1Compat"===j.compatMode?j.documentElement:j.body,d=c.left+b.scrollLeft,e=c.top+b.scrollTop),{x:d,y:e}}var e,f,g,h=0,i=0,j=document;if(b=b,c=c||j.body,b&&b.getBoundingClientRect&&"IE"===a.browser&&(!j.documentMode||j.documentMode<8))return f=d(b),g=d(c),{x:f.x-g.x,y:f.y-g.y};for(e=b;e&&e!=c&&e.nodeType;)h+=e.offsetLeft||0,i+=e.offsetTop||0,e=e.offsetParent;for(e=b.parentNode;e&&e!=c&&e.nodeType;)h-=e.scrollLeft||0,i-=e.scrollTop||0,e=e.parentNode;return{x:h,y:i}},h=function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}};return{get:b,hasClass:c,addClass:d,removeClass:e,getStyle:f,getPos:g,getSize:h}}),d(m,[i],function(a){function b(){this.returnValue=!1}function c(){this.cancelBubble=!0}var d={},e="moxie_"+a.guid(),f=function(f,g,h,i){var j,k;g=g.toLowerCase(),f.addEventListener?(j=h,f.addEventListener(g,j,!1)):f.attachEvent&&(j=function(){var a=window.event;a.target||(a.target=a.srcElement),a.preventDefault=b,a.stopPropagation=c,h(a)},f.attachEvent("on"+g,j)),f[e]||(f[e]=a.guid()),d.hasOwnProperty(f[e])||(d[f[e]]={}),k=d[f[e]],k.hasOwnProperty(g)||(k[g]=[]),k[g].push({func:j,orig:h,key:i})},g=function(a,b,c){var f,g;if(b=b.toLowerCase(),a[e]&&d[a[e]]&&d[a[e]][b]){f=d[a[e]][b];for(var h=f.length-1;h>=0&&(f[h].orig!==c&&f[h].key!==c||(a.removeEventListener?a.removeEventListener(b,f[h].func,!1):a.detachEvent&&a.detachEvent("on"+b,f[h].func),f[h].orig=null,f[h].func=null,f.splice(h,1),c===g));h--);if(f.length||delete d[a[e]][b],i.isEmptyObj(d[a[e]])){delete d[a[e]];try{delete a[e]}catch(i){a[e]=g}}}},h=function(b,c){b&&b[e]&&a.each(d[b[e]],function(a,d){
g(b,d,c)})};return{addEvent:f,removeEvent:g,removeAllEvents:h}}),d(n,[],function(){var a=function(b,c){for(var d=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],e=d.length,f={http:80,https:443},g={},h=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,i=h.exec(b||"");e--;)i[e]&&(g[d[e]]=i[e]);if(!g.scheme){c&&"string"!=typeof c||(c=a(c||document.location.href)),g.scheme=c.scheme,g.host=c.host,g.port=c.port;var j="";/^[^\/]/.test(g.path)&&(j=c.path,j=/\/[^\/]*\.[^\/]*$/.test(j)?j.replace(/\/[^\/]+$/,"/"):j.replace(/\/?$/,"/")),g.path=j+(g.path||"")}return g.port||(g.port=f[g.scheme]||80),g.port=parseInt(g.port,10),g.path||(g.path="/"),delete g.source,g},b=function(b){var c={http:80,https:443},d="object"==typeof b?b:a(b);return d.scheme+"://"+d.host+(d.port!==c[d.scheme]?":"+d.port:"")+d.path+(d.query?d.query:"")},c=function(b){function c(a){return[a.scheme,a.host,a.port].join("/")}return"string"==typeof b&&(b=a(b)),c(a())===c(b)};return{parseUrl:a,resolveUrl:b,hasSameOrigin:c}}),d(o,[i],function(a){function b(a,b){var c;for(c in a)if(a[c]===b)return c;return null}return{RuntimeError:function(){function c(a,c){this.code=a,this.name=b(d,a),this.message=this.name+(c||": RuntimeError "+this.code)}var d={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return a.extend(c,d),c.prototype=Error.prototype,c}(),OperationNotAllowedException:function(){function b(a){this.code=a,this.name="OperationNotAllowedException"}return a.extend(b,{NOT_ALLOWED_ERR:1}),b.prototype=Error.prototype,b}(),ImageError:function(){function c(a){this.code=a,this.name=b(d,a),this.message=this.name+": ImageError "+this.code}var d={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return a.extend(c,d),c.prototype=Error.prototype,c}(),FileException:function(){function c(a){this.code=a,this.name=b(d,a),this.message=this.name+": FileException "+this.code}var d={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return a.extend(c,d),c.prototype=Error.prototype,c}(),DOMException:function(){function c(a){this.code=a,this.name=b(d,a),this.message=this.name+": DOMException "+this.code}var d={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return a.extend(c,d),c.prototype=Error.prototype,c}(),EventException:function(){function b(a){this.code=a,this.name="EventException"}return a.extend(b,{UNSPECIFIED_EVENT_TYPE_ERR:0}),b.prototype=Error.prototype,b}()}}),d(p,[k,o,i],function(a,b,c){function d(){this.uid=c.guid()}var e={};return c.extend(d.prototype,{init:function(){this.uid||(this.uid=c.guid("uid_"))},addEventListener:function(a,b,d,f){var g,h=this;return this.hasOwnProperty("uid")||(this.uid=c.guid("uid_")),a=c.trim(a),/\s/.test(a)?void c.each(a.split(/\s+/),function(a){h.addEventListener(a,b,d,f)}):(a=a.toLowerCase(),d=parseInt(d,10)||0,g=e[this.uid]&&e[this.uid][a]||[],g.push({fn:b,priority:d,scope:f||this}),e[this.uid]||(e[this.uid]={}),void(e[this.uid][a]=g))},hasEventListener:function(a){var b=a?e[this.uid]&&e[this.uid][a]:e[this.uid];return!!b&&b},removeEventListener:function(a,b){var d,f,g=this;if(a=a.toLowerCase(),/\s/.test(a))return void c.each(a.split(/\s+/),function(a){g.removeEventListener(a,b)});if(d=e[this.uid]&&e[this.uid][a]){if(b){for(f=d.length-1;f>=0;f--)if(d[f].fn===b){d.splice(f,1);break}}else d=[];d.length||(delete e[this.uid][a],c.isEmptyObj(e[this.uid])&&delete e[this.uid])}},removeAllEventListeners:function(){e[this.uid]&&delete e[this.uid]},dispatchEvent:function(a){var d,f,g,h,i,j={},k=!0;if("string"!==c.typeOf(a)){if(h=a,"string"!==c.typeOf(h.type))throw new b.EventException(b.EventException.UNSPECIFIED_EVENT_TYPE_ERR);a=h.type,h.total!==i&&h.loaded!==i&&(j.total=h.total,j.loaded=h.loaded),j.async=h.async||!1}if(a.indexOf("::")!==-1?!function(b){d=b[0],a=b[1]}(a.split("::")):d=this.uid,a=a.toLowerCase(),f=e[d]&&e[d][a]){f.sort(function(a,b){return b.priority-a.priority}),g=[].slice.call(arguments),g.shift(),j.type=a,g.unshift(j);var l=[];c.each(f,function(a){g[0].target=a.scope,j.async?l.push(function(b){setTimeout(function(){b(a.fn.apply(a.scope,g)===!1)},1)}):l.push(function(b){b(a.fn.apply(a.scope,g)===!1)})}),l.length&&c.inSeries(l,function(a){k=!a})}return k},bindOnce:function(a,b,c,d){var e=this;e.bind.call(this,a,function f(){return e.unbind(a,f),b.apply(this,arguments)},c,d)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(a){var b=this;this.bind(a.join(" "),function(a){var b="on"+a.type.toLowerCase();"function"===c.typeOf(this[b])&&this[b].apply(this,arguments)}),c.each(a,function(a){a="on"+a.toLowerCase(a),"undefined"===c.typeOf(b[a])&&(b[a]=null)})}}),d.instance=new d,d}),d(q,[k,i,l,p],function(a,b,c,d){function e(a,d,f,h,i){var j,k=this,l=b.guid(d+"_"),m=i||"browser";a=a||{},g[l]=this,f=b.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},f),a.preferred_caps&&(m=e.getMode(h,a.preferred_caps,m)),j=function(){var a={};return{exec:function(b,c,d,e){if(j[c]&&(a[b]||(a[b]={context:this,instance:new j[c]}),a[b].instance[d]))return a[b].instance[d].apply(this,e)},removeInstance:function(b){delete a[b]},removeAllInstances:function(){var c=this;b.each(a,function(a,d){"function"===b.typeOf(a.instance.destroy)&&a.instance.destroy.call(a.context),c.removeInstance(d)})}}}(),b.extend(this,{initialized:!1,uid:l,type:d,mode:e.getMode(h,a.required_caps,m),shimid:l+"_container",clients:0,options:a,can:function(a,c){var d=arguments[2]||f;if("string"===b.typeOf(a)&&"undefined"===b.typeOf(c)&&(a=e.parseCaps(a)),"object"===b.typeOf(a)){for(var g in a)if(!this.can(g,a[g],d))return!1;return!0}return"function"===b.typeOf(d[a])?d[a].call(this,c):c===d[a]},getShimContainer:function(){var a,d=c.get(this.shimid);return d||(a=c.get(this.options.container)||document.body,d=document.createElement("div"),d.id=this.shimid,d.className="moxie-shim moxie-shim-"+this.type,b.extend(d.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),a.appendChild(d),a=null),d},getShim:function(){return j},shimExec:function(a,b){var c=[].slice.call(arguments,2);return k.getShim().exec.call(this,this.uid,a,b,c)},exec:function(a,b){var c=[].slice.call(arguments,2);return k[a]&&k[a][b]?k[a][b].apply(this,c):k.shimExec.apply(this,arguments)},destroy:function(){if(k){var a=c.get(this.shimid);a&&a.parentNode.removeChild(a),j&&j.removeAllInstances(),this.unbindAll(),delete g[this.uid],this.uid=null,l=k=j=a=null}}}),this.mode&&a.required_caps&&!this.can(a.required_caps)&&(this.mode=!1)}var f={},g={};return e.order="html5,flash,silverlight,html4",e.getRuntime=function(a){return!!g[a]&&g[a]},e.addConstructor=function(a,b){b.prototype=d.instance,f[a]=b},e.getConstructor=function(a){return f[a]||null},e.getInfo=function(a){var b=e.getRuntime(a);return b?{uid:b.uid,type:b.type,mode:b.mode,can:function(){return b.can.apply(b,arguments)}}:null},e.parseCaps=function(a){var c={};return"string"!==b.typeOf(a)?a||{}:(b.each(a.split(","),function(a){c[a]=!0}),c)},e.can=function(a,b){var c,d,f=e.getConstructor(a);return!!f&&(c=new f({required_caps:b}),d=c.mode,c.destroy(),!!d)},e.thatCan=function(a,b){var c=(b||e.order).split(/\s*,\s*/);for(var d in c)if(e.can(c[d],a))return c[d];return null},e.getMode=function(a,c,d){var e=null;if("undefined"===b.typeOf(d)&&(d="browser"),c&&!b.isEmptyObj(a)){if(b.each(c,function(c,d){if(a.hasOwnProperty(d)){var f=a[d](c);if("string"==typeof f&&(f=[f]),e){if(!(e=b.arrayIntersect(e,f)))return e=!1}else e=f}}),e)return b.inArray(d,e)!==-1?d:e[0];if(e===!1)return!1}return d},e.capTrue=function(){return!0},e.capFalse=function(){return!1},e.capTest=function(a){return function(){return!!a}},e}),d(r,[i,j],function(a,b){var c="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",d={mimes:{},extensions:{},addMimeType:function(a){var b,c,d,e=a.split(/,/);for(b=0;b<e.length;b+=2){for(d=e[b+1].split(/ /),c=0;c<d.length;c++)this.mimes[d[c]]=e[b];this.extensions[e[b]]=d}},extList2mimes:function(b,c){var d,e,f,g,h=this,i=[];for(e=0;e<b.length;e++)for(d=b[e].extensions.split(/\s*,\s*/),f=0;f<d.length;f++){if("*"===d[f])return[];if(g=h.mimes[d[f]],g&&a.inArray(g,i)===-1&&i.push(g),c&&/^\w+$/.test(d[f]))i.push("."+d[f]);else if(!g)return[]}return i},mimes2exts:function(b){var c=this,d=[];return a.each(b,function(b){if("*"===b)return d=[],!1;var e=b.match(/^(\w+)\/(\*|\w+)$/);e&&("*"===e[2]?a.each(c.extensions,function(a,b){new RegExp("^"+e[1]+"/").test(b)&&[].push.apply(d,c.extensions[b])}):c.extensions[b]&&[].push.apply(d,c.extensions[b]))}),d},mimes2extList:function(c){var d=[],e=[];return"string"===a.typeOf(c)&&(c=a.trim(c).split(/\s*,\s*/)),e=this.mimes2exts(c),d.push({title:b.translate("Files"),extensions:e.length?e.join(","):"*"}),d.mimes=c,d},getFileExtension:function(a){var b=a&&a.match(/\.([^.]+)$/);return b?b[1].toLowerCase():""},getFileMime:function(a){return this.mimes[this.getFileExtension(a)]||""}};return d.addMimeType(c),d}),d(s,[k,o,i,q],function(a,b,c,d){return function(){var a;c.extend(this,{connectRuntime:function(e){function f(c){var g,i;return c.length?(g=c.shift().toLowerCase(),(i=d.getConstructor(g))?(a=new i(e),a.bind("Init",function(){a.initialized=!0,setTimeout(function(){a.clients++,h.trigger("RuntimeInit",a)},1)}),a.bind("Error",function(){a.destroy(),f(c)}),a.bind("Exception",function(a,c){var d=c.name+"(#"+c.code+")"+(c.message?", from: "+c.message:"");h.trigger("RuntimeError",new b.RuntimeError(b.RuntimeError.EXCEPTION_ERR,d))}),a.mode?void a.init():void a.trigger("Error")):void f(c)):(h.trigger("RuntimeError",new b.RuntimeError(b.RuntimeError.NOT_INIT_ERR)),void(a=null))}var g,h=this;if("string"===c.typeOf(e)?g=e:"string"===c.typeOf(e.ruid)&&(g=e.ruid),g){if(a=d.getRuntime(g))return a.clients++,a;throw new b.RuntimeError(b.RuntimeError.NOT_INIT_ERR)}f((e.runtime_order||d.order).split(/\s*,\s*/))},disconnectRuntime:function(){a&&--a.clients<=0&&a.destroy(),a=null},getRuntime:function(){return a&&a.uid?a:a=null},exec:function(){return a?a.exec.apply(this,arguments):null},can:function(b){return!!a&&a.can(b)}})}}),d(t,[i,k,r,l,o,p,j,q,s],function(a,b,c,d,e,f,g,h,i){function j(b){var f,j,l;if(a.inArray(a.typeOf(b),["string","node"])!==-1&&(b={browse_button:b}),j=d.get(b.browse_button),!j)throw new e.DOMException(e.DOMException.NOT_FOUND_ERR);l={accept:[{title:g.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:j.parentNode||document.body},b=a.extend({},l,b),"string"==typeof b.required_caps&&(b.required_caps=h.parseCaps(b.required_caps)),"string"==typeof b.accept&&(b.accept=c.mimes2extList(b.accept)),f=d.get(b.container),f||(f=document.body),"static"===d.getStyle(f,"position")&&(f.style.position="relative"),f=j=null,i.call(this),a.extend(this,{uid:a.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var c=this;c.bind("RuntimeInit",function(e,f){c.ruid=f.uid,c.shimid=f.shimid,c.bind("Ready",function(){c.trigger("Refresh")},999),c.bind("Refresh",function(){var c,e,g,h,i;g=d.get(b.browse_button),h=d.get(f.shimid),g&&(c=d.getPos(g,d.get(b.container)),e=d.getSize(g),i=parseInt(d.getStyle(g,"z-index"),10)||0,h&&a.extend(h.style,{top:c.y+"px",left:c.x+"px",width:e.w+"px",height:e.h+"px",zIndex:i+1})),h=g=null}),f.exec.call(c,"FileInput","init",b)}),c.connectRuntime(a.extend({},b,{required_caps:{select_file:!0}}))},getOption:function(a){return b[a]},setOption:function(a,d){if(b.hasOwnProperty(a)){var f=b[a];switch(a){case"accept":"string"==typeof d&&(d=c.mimes2extList(d));break;case"container":case"required_caps":throw new e.FileException(e.FileException.NO_MODIFICATION_ALLOWED_ERR)}b[a]=d,this.exec("FileInput","setOption",a,d),this.trigger("OptionChanged",a,d,f)}},disable:function(b){var c=this.getRuntime();c&&this.exec("FileInput","disable","undefined"===a.typeOf(b)||b)},refresh:function(){this.trigger("Refresh")},destroy:function(){var b=this.getRuntime();b&&(b.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===a.typeOf(this.files)&&a.each(this.files,function(a){a.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(k)}var k=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return j.prototype=f.instance,j}),d(u,[],function(){var a=function(a){return unescape(encodeURIComponent(a))},b=function(a){return decodeURIComponent(escape(a))},c=function(a,c){if("function"==typeof window.atob)return c?b(window.atob(a)):window.atob(a);var d,e,f,g,h,i,j,k,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,n=0,o="",p=[];if(!a)return a;a+="";do g=l.indexOf(a.charAt(m++)),h=l.indexOf(a.charAt(m++)),i=l.indexOf(a.charAt(m++)),j=l.indexOf(a.charAt(m++)),k=g<<18|h<<12|i<<6|j,d=k>>16&255,e=k>>8&255,f=255&k,64==i?p[n++]=String.fromCharCode(d):64==j?p[n++]=String.fromCharCode(d,e):p[n++]=String.fromCharCode(d,e,f);while(m<a.length);return o=p.join(""),c?b(o):o},d=function(b,c){if(c&&(b=a(b)),"function"==typeof window.btoa)return window.btoa(b);var d,e,f,g,h,i,j,k,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,n=0,o="",p=[];if(!b)return b;do d=b.charCodeAt(m++),e=b.charCodeAt(m++),f=b.charCodeAt(m++),k=d<<16|e<<8|f,g=k>>18&63,h=k>>12&63,i=k>>6&63,j=63&k,p[n++]=l.charAt(g)+l.charAt(h)+l.charAt(i)+l.charAt(j);while(m<b.length);o=p.join("");var q=b.length%3;return(q?o.slice(0,q-3):o)+"===".slice(q||3)};return{utf8_encode:a,utf8_decode:b,atob:c,btoa:d}}),d(v,[i,u,s],function(a,b,c){function d(f,g){function h(b,c,f){var g,h=e[this.uid];return"string"===a.typeOf(h)&&h.length?(g=new d(null,{type:f,size:c-b}),g.detach(h.substr(b,g.size)),g):null}c.call(this),f&&this.connectRuntime(f),g?"string"===a.typeOf(g)&&(g={data:g}):g={},a.extend(this,{uid:g.uid||a.guid("uid_"),ruid:f,size:g.size||0,type:g.type||"",slice:function(a,b,c){return this.isDetached()?h.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),a,b,c)},getSource:function(){return e[this.uid]?e[this.uid]:null},detach:function(a){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),a=a||"","data:"==a.substr(0,5)){var c=a.indexOf(";base64,");this.type=a.substring(5,c),a=b.atob(a.substring(c+8))}this.size=a.length,e[this.uid]=a},isDetached:function(){return!this.ruid&&"string"===a.typeOf(e[this.uid])},destroy:function(){this.detach(),delete e[this.uid]}}),g.data?this.detach(g.data):e[this.uid]=g}var e={};return d}),d(w,[i,u,o,p,v,s],function(a,b,c,d,e,f){function g(){function d(a,d){if(this.trigger("loadstart"),this.readyState===g.LOADING)return this.trigger("error",new c.DOMException(c.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend");if(!(d instanceof e))return this.trigger("error",new c.DOMException(c.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend");if(this.result=null,this.readyState=g.LOADING,d.isDetached()){var f=d.getSource();switch(a){case"readAsText":case"readAsBinaryString":this.result=f;break;case"readAsDataURL":this.result="data:"+d.type+";base64,"+b.btoa(f)}this.readyState=g.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(d.ruid),this.exec("FileReader","read",a,d)}f.call(this),a.extend(this,{uid:a.guid("uid_"),readyState:g.EMPTY,result:null,error:null,readAsBinaryString:function(a){d.call(this,"readAsBinaryString",a)},readAsDataURL:function(a){d.call(this,"readAsDataURL",a)},readAsText:function(a){d.call(this,"readAsText",a)},abort:function(){this.result=null,a.inArray(this.readyState,[g.EMPTY,g.DONE])===-1&&(this.readyState===g.LOADING&&(this.readyState=g.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(h),this.bind("Error",function(a,b){this.readyState=g.DONE,this.error=b},999),this.bind("Load",function(a){this.readyState=g.DONE},999)}var h=["loadstart","progress","load","abort","error","loadend"];return g.EMPTY=0,g.LOADING=1,g.DONE=2,g.prototype=d.instance,g}),d(x,[j,k,i,l,m,n,p,q,t,w],function(a,b,c,d,e,f,g,h,i,j){return b.global_event_dispatcher="plupload.EventTarget.instance.dispatchEvent",{VERSION:"3.0-beta1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,OPTION_ERROR:-800,ua:b,typeOf:c.typeOf,extend:c.extend,extendIf:c.extendIf,inSeries:c.inSeries,inParallel:c.inParallel,guid:c.guid,getAll:function(a){var b,c=[];"array"!==plupload.typeOf(a)&&(a=[a]);for(var d=a.length;d--;)b=plupload.get(a[d]),b&&c.push(b);return c.length?c:null},get:d.get,each:c.each,getPos:d.getPos,getSize:d.getSize,xmlEncode:function(a){var b={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},c=/[<>&\"\']/g;return a?(""+a).replace(c,function(a){return b[a]?"&"+b[a]+";":a}):a},toArray:c.toArray,inArray:c.inArray,addI18n:a.addI18n,translate:a.translate,sprintf:c.sprintf,isEmptyObj:c.isEmptyObj,hasClass:d.hasClass,addClass:d.addClass,removeClass:d.removeClass,getStyle:d.getStyle,addEvent:e.addEvent,removeEvent:e.removeEvent,removeAllEvents:e.removeAllEvents,cleanName:function(a){var b,c;for(c=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],b=0;b<c.length;b+=2)a=a.replace(c[b],c[b+1]);return a=a.replace(/\s+/g,"_"),a=a.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(a,b){var c="";return plupload.each(b,function(a,b){c+=(c?"&":"")+encodeURIComponent(b)+"="+encodeURIComponent(a)}),c&&(a+=(a.indexOf("?")>0?"&":"?")+c),a},formatSize:function(a){function b(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)}if(a=parseInt(a,10),isNaN(a))return plupload.translate("N/A");var c=Math.pow(1024,4);return a>c?b(a/c,1)+" "+plupload.translate("tb"):a>(c/=1024)?b(a/c,1)+" "+plupload.translate("gb"):a>(c/=1024)?b(a/c,1)+" "+plupload.translate("mb"):a>1024?Math.round(a/1024)+" "+plupload.translate("kb"):a+" "+plupload.translate("b")},resolveUrl:f.resolveUrl,parseSize:c.parseSizeStr,delay:c.delay,EventTarget:g,Runtime:h,FileInput:i,FileReader:j}}),d(y,[i],function(a){var b=function(){function c(){var a;for(a in e);return e[a]}var d,e={},f=0;a.extend(this,{count:function(){return f},hasKey:function(a){return e.hasOwnProperty(a)},get:function(a){return e[a]},first:function(){for(var a in e)return e[a]},last:function(){return d},toObject:function(){return e},add:function(b,c){var g=this;return"object"!=typeof b||c?e.hasOwnProperty(b)?g.update.apply(g,arguments):(e[b]=d=c,void f++):a.each(b,function(a,b){g.add(b,a)})},remove:function(a){if(this.hasKey(a)){var b=e[a];delete e[a],f--,d===b&&(d=c())}},extract:function(a){var b=this.get(a);return this.remove(a),b},shift:function(){var a,b,c=this;for(b in e)return a=e[b],c.remove(b),a},update:function(a,b){e[a]=b},each:function(b){a.each(e,b)},combineWith:function(){var c=new b;return c.add(e),a.each(arguments,function(a){a instanceof b&&c.add(a.toObject())}),c},clear:function(){e={},d=null,f=0}})};return b}),d(z,[i,r,v],function(a,b,c){function d(d,e){e||(e={}),c.apply(this,arguments),this.type||(this.type=b.getFileMime(e.name));var f;if(e.name)f=e.name.replace(/\\/g,"/"),f=f.substr(f.lastIndexOf("/")+1);else if(this.type){var g=this.type.split("/")[0];f=a.guid((""!==g?g:"file")+"_"),b.extensions[this.type]&&(f+="."+b.extensions[this.type][0])}a.extend(this,{name:f||a.guid("file_"),relativePath:"",lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString()})}return d.prototype=c.prototype,d}),d(A,[j,l,o,i,k,z,s,p,r],function(a,b,c,d,e,f,g,h,i){function j(c){var e,f=this;"string"==typeof c&&(c={drop_zone:c}),e={accept:[{title:a.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},c="object"==typeof c?d.extend({},e,c):e,c.container=b.get(c.drop_zone)||document.body,"static"===b.getStyle(c.container,"position")&&(c.container.style.position="relative"),"string"==typeof c.accept&&(c.accept=i.mimes2extList(c.accept)),g.call(f),d.extend(f,{uid:d.guid("uid_"),ruid:null,files:null,init:function(){f.bind("RuntimeInit",function(a,b){f.ruid=b.uid,b.exec.call(f,"FileDrop","init",c),f.dispatchEvent("ready")}),f.connectRuntime(c)},destroy:function(){var a=this.getRuntime();a&&(a.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(k)}var k=["ready","dragenter","dragleave","drop","error"];return j.prototype=h.instance,j}),d(B,[i,p],function(a,b){return function(b){function c(){b.apply(this,arguments),this.uid=a.guid(),this._options={}}return a.inherit(c,b),a.extend(c.prototype,{uid:a.guid(),setOption:function(b,c){var d,e=this;return"object"==typeof b?void a.each(b,function(a,b){e.setOption(b,a)}):(d=e._options[b],e._options[b]=c,void e.trigger("OptionChanged",b,c,d))},getOption:function(a){return a?this._options[a]:this._options},setOptions:function(a){"object"==typeof a&&this.setOption(a)},getOptions:function(){return this.getOption()}}),c}(b)}),d(C,[i,B],function(a,b){return function(b){function c(){b.apply(this,arguments)}return a.inherit(c,b),c.IDLE=0,c.PROCESSING=1,c.PAUSED=2,c.RESUMED=3,c.DONE=4,c.FAILED=5,c.DESTROYED=8,a.extend(c.prototype,{uid:a.guid(),state:c.IDLE,processed:0,total:0,percent:0,retries:0,start:function(){this.state=c.PROCESSING,this.trigger("started")},pause:function(){this.processed=this.percent=0,this.loaded=this.processed,this.state=c.PAUSED,this.trigger("paused")},stop:function(){this.processed=this.percent=0,this.loaded=this.processed,this.state=c.IDLE,this.trigger("stopped")},done:function(a){this.processed=this.total,this.loaded=this.processed,this.percent=100,this.state=c.DONE,this.trigger("done",a),this.trigger("processed")},failed:function(a){this.processed=this.percent=0,this.loaded=this.processed,this.state=c.FAILED,this.trigger("failed",a),this.trigger("processed")},progress:function(a,b){this.processed=a,this.loaded=this.processed,b&&(this.total=b),this.percent=Math.min(Math.ceil(this.processed/this.total*100),100),this.trigger({type:"progress",loaded:this.processed,total:this.total})},destroy:function(){self.state!==c.DESTROYED&&(this.state=c.DESTROYED,this.trigger("destroy"),this.unbindAll())}}),c}(b)}),d(D,[],function(){return function(){var a=this;a.size=0,a.total=0,a.loaded=0,a.uploaded=0,a.done=0,a.failed=0,a.queued=0,a.processing=0,a.paused=0,a.percent=0,a.bytesPerSec=0,a.processedPerSec=0,a.reset=function(){a.size=a.total=a.loaded=a.processed=a.uploaded=a.done=a.failed=a.queued=a.processing=a.paused=a.percent=a.bytesPerSec=a.processedPerSec=0}}}),d(E,[i,y,B,C,D],function(a,b,c,d,e){return function(c){function f(d){c.apply(this,arguments),this._queue=new b,this.state=f.IDLE,this.stats=new e,this._options=a.extend({max_slots:1,max_retries:0,auto_start:!1,finish_active:!1,pause_before_start:!0},d)}function g(){var a;return this._queue.each(function(b){if(b.state===d.IDLE||b.state===d.RESUMED)return a=b,!1}),a}function h(){for(var a,b=this;b.stats.processing<b.getOption("max_slots");)if(a=g.call(b))b.getOption("pause_before_start")&&a.state===d.IDLE?(b.pauseItem(a.uid),a.trigger("BeforeStart")&&b.resumeItem(a.uid)):(b.stats.processing++,a.start(b.getOptions()));else if(!b.stats.processing)return b.stop(),b.trigger("Done")}function i(){var a=this;a.stats.reset(),a.forEachItem(function(b){switch(a.stats.processed+=b.processed,a.stats.total+=b.total,b.status){case d.DONE:a.stats.done++,a.stats.uploaded=a.stats.done;break;case d.FAILED:a.stats.failed++;break;default:a.stats.queued++}a._startTime&&(a.stats.processedPerSec=Math.ceil(a.stats.processed/((+new Date-a._startTime||1)/1e3)),a.stats.bytesPerSec=a.stats.processedPerSec),a.stats.total&&(a.stats.percent=Math.ceil(a.stats.processed/a.stats.total*100))}),a.stats.loaded=a.stats.processed,a.stats.size=a.stats.total}return a.inherit(f,c),f.STOPPED=1,f.STARTED=2,f.PAUSED=3,f.DESTROYED=8,a.extend(f.prototype,{count:function(){return this._queue.count()},start:function(){var a=this,b=a.state;return a.state!==f.STARTED&&(a.state=f.STARTED,a.trigger("StateChanged",a.state,b),a._startTime=new Date,h.call(a),!0)},pause:function(){var b=this,c=b.state;this._queue.each(function(c){a.inArray(c.state,[d.PROCESSING,d.RESUMED])!==-1&&b.pauseItem(c)}),b.state=f.PAUSED,this.trigger("StateChanged",b.state,c),b.trigger("Paused")},stop:function(){var a=this,b=a.state;a.getOption("finish_active")||((a.stats.processing||a.stats.paused)&&a._queue.each(function(b){a.stopItem(b.uid)}),a.state=f.STOPPED,a.trigger("StateChanged",a.state,b),a.trigger("Stopped"))},forEachItem:function(a){this._queue.each(a)},getItem:function(a){return this._queue.get(a)},addItem:function(a){var b=this;a.bind("Progress",function(){i.call(b)}),a.bind("Failed",function(){b.getOption("max_retries")&&this.retries<b.getOption("max_retries")&&(this.stop(),this.retries++)}),a.bind("Processed",function(){b.stats.processing--,i.call(b),h.call(b)},0,this),this._queue.add(a.uid,a),i.call(this),a.trigger("Queued"),b.getOption("auto_start")&&this.start()},extractItem:function(a){var b=this._queue.get(a);return b&&(this.stopItem(b.uid),this.state===f.STARTED&&h.call(this),this._queue.remove(a),i.call(this)),b},removeItem:function(a){var b=this.extractItem(a);b&&b.destroy()},stopItem:function(a){var b=this._queue.get(a);return!!b&&(b.state===d.PROCESSING&&this.stats.processing--,b.stop(),this.stats.processing||this.stats.paused||this.stop(),!0)},pauseItem:function(a){var b=this._queue.get(a);return!!b&&(b.state===d.PROCESSING&&this.stats.processing--,this.stats.paused++,b.pause(),this.stats.processing||this.pause(),!0)},resumeItem:function(a){var b=this._queue.get(a);return!(!b||b.state!==d.PAUSED||(b.state=d.RESUMED,this.stats.paused--,this.start(),0))},countSpareSlots:function(){return Math.max(this.getOption("max_slots")-this.stats.processing,0)},toArray:function(){var a=[];return this.forEachItem(function(b){a.push(b)}),a},clear:function(){var a=this;return a.state!==f.STOPPED?(a.bindOnce("Stopped",function(){a.clear()}),a.stop()):(a._queue.clear(),void a.stats.reset())},destroy:function(){var a=this,b=a.state;if(a.state!==f.DESTROYED)return a.state!==f.STOPPED?(a.bindOnce("Stopped",function(){a.destroy()}),a.stop()):(a.trigger("Destroy"),a.clear(),a.state=f.DESTROYED,a.trigger("StateChanged",a.state,b),a.unbindAll(),void(a._queue=a.stats=a._startTime=null))}}),f}(c)}),d(F,[i,E],function(a,b){return function(c){function d(a){b.call(this,{max_slots:1,max_retries:0,auto_start:!1,finish_active:!1,pause_before_start:!0,url:!1,chunk_size:0,multipart:!0,http_method:"POST",params:{},headers:!1,file_data_name:"file",send_file_name:!0,stop_on_fail:!0}),this.setOption=function(a,b){("object"==typeof a||("max_upload_slots"==a&&(a="max_slots"),this._options.hasOwnProperty(a)))&&d.prototype.setOption.apply(this,arguments)},this.setOptions(a)}return a.inherit(d,c),d}(b)}),d(G,[i,E],function(a,b){return function(c){function d(a){b.call(this,{max_slots:1,max_retries:0,auto_start:!1,finish_active:!1,pause_before_start:!0,resize:{}}),this.setOption=function(a,b){("object"==typeof a||("max_resize_slots"==a&&(a="max_slots"),this._options.hasOwnProperty(a)))&&d.prototype.setOption.apply(this,arguments)},this.setOptions(a)}return a.inherit(d,c),d}(b)}),d(H,[i,s,p],function(a,b,c){function d(){this.uid=a.guid("uid_"),b.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return d.prototype=c.instance,d}),d(I,[i,s,u],function(a,b,c){return function(){function d(a,b){if(!b.isDetached()){var d=this.connectRuntime(b.ruid).exec.call(this,"FileReaderSync","read",a,b);return this.disconnectRuntime(),d}var e=b.getSource();switch(a){case"readAsBinaryString":return e;case"readAsDataURL":return"data:"+b.type+";base64,"+c.btoa(e);case"readAsText":for(var f="",g=0,h=e.length;g<h;g++)f+=String.fromCharCode(e[g]);return f}}b.call(this),a.extend(this,{uid:a.guid("uid_"),readAsBinaryString:function(a){return d.call(this,"readAsBinaryString",a)},readAsDataURL:function(a){return d.call(this,"readAsDataURL",a)},readAsText:function(a){return d.call(this,"readAsText",a)}})}}),d(J,[o,i,v],function(a,b,c){function d(){var a,d=[];b.extend(this,{append:function(e,f){var g=this,h=b.typeOf(f);f instanceof c?a={name:e,value:f}:"array"===h?(e+="[]",b.each(f,function(a){g.append(e,a)})):"object"===h?b.each(f,function(a,b){g.append(e+"["+b+"]",a)}):"null"===h||"undefined"===h||"number"===h&&isNaN(f)?g.append(e,"false"):d.push({name:e,value:f.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return a&&a.value||null},getBlobName:function(){return a&&a.name||null},each:function(c){b.each(d,function(a){c(a.value,a.name)}),a&&c(a.value,a.name)},destroy:function(){a=null,d=[]}})}return d}),d(K,[i,o,p,u,n,q,H,v,I,J,k,r],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){this.uid=a.guid("uid_")}function n(){function c(a,b){if(A.hasOwnProperty(a))return 1===arguments.length?k.can("define_property")?A[a]:z[a]:void(k.can("define_property")?A[a]=b:z[a]=b)}function i(b){function d(){x&&(x.destroy(),x=null),h.dispatchEvent("loadend"),h=null}function e(e){x.bind("LoadStart",function(a){c("readyState",n.LOADING),
h.dispatchEvent("readystatechange"),h.dispatchEvent(a),H&&h.upload.dispatchEvent(a)}),x.bind("Progress",function(a){c("readyState")!==n.LOADING&&(c("readyState",n.LOADING),h.dispatchEvent("readystatechange")),h.dispatchEvent(a)}),x.bind("UploadProgress",function(a){H&&h.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:a.total,loaded:a.loaded})}),x.bind("Load",function(b){c("readyState",n.DONE),c("status",Number(e.exec.call(x,"XMLHttpRequest","getStatus")||0)),c("statusText",o[c("status")]||""),c("response",e.exec.call(x,"XMLHttpRequest","getResponse",c("responseType"))),~a.inArray(c("responseType"),["text",""])?c("responseText",c("response")):"document"===c("responseType")&&c("responseXML",c("response")),O=e.exec.call(x,"XMLHttpRequest","getAllResponseHeaders"),h.dispatchEvent("readystatechange"),c("status")>0?(H&&h.upload.dispatchEvent(b),h.dispatchEvent(b)):(J=!0,h.dispatchEvent("error")),d()}),x.bind("Abort",function(a){h.dispatchEvent(a),d()}),x.bind("Error",function(a){J=!0,c("readyState",n.DONE),h.dispatchEvent("readystatechange"),I=!0,h.dispatchEvent(a),d()}),e.exec.call(x,"XMLHttpRequest","send",{url:r,method:s,async:B,user:t,password:u,headers:C,mimeType:E,encoding:D,responseType:h.responseType,withCredentials:h.withCredentials,options:N},b)}var h=this;v=(new Date).getTime(),x=new g,"string"==typeof N.required_caps&&(N.required_caps=f.parseCaps(N.required_caps)),N.required_caps=a.extend({},N.required_caps,{return_response_type:h.responseType}),b instanceof j&&(N.required_caps.send_multipart=!0),a.isEmptyObj(C)||(N.required_caps.send_custom_headers=!0),K||(N.required_caps.do_cors=!0),N.ruid?e(x.connectRuntime(N)):(x.bind("RuntimeInit",function(a,b){e(b)}),x.bind("RuntimeError",function(a,b){h.dispatchEvent("RuntimeError",b)}),x.connectRuntime(N))}function q(){c("responseText",""),c("responseXML",null),c("response",null),c("status",0),c("statusText",""),v=w=null}var r,s,t,u,v,w,x,y,z=this,A={timeout:0,readyState:n.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},B=!0,C={},D=null,E=null,F=!1,G=!1,H=!1,I=!1,J=!1,K=!1,L=null,M=null,N={},O="";a.extend(this,A,{uid:a.guid("uid_"),upload:new m,open:function(f,g,h,i,j){var k;if(!f||!g)throw new b.DOMException(b.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(f)||d.utf8_encode(f)!==f)throw new b.DOMException(b.DOMException.SYNTAX_ERR);if(~a.inArray(f.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(s=f.toUpperCase()),~a.inArray(s,["CONNECT","TRACE","TRACK"]))throw new b.DOMException(b.DOMException.SECURITY_ERR);if(g=d.utf8_encode(g),k=e.parseUrl(g),K=e.hasSameOrigin(k),r=e.resolveUrl(g),(i||j)&&!K)throw new b.DOMException(b.DOMException.INVALID_ACCESS_ERR);if(t=i||k.user,u=j||k.pass,B=h||!0,B===!1&&(c("timeout")||c("withCredentials")||""!==c("responseType")))throw new b.DOMException(b.DOMException.INVALID_ACCESS_ERR);F=!B,G=!1,C={},q.call(this),c("readyState",n.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(e,f){var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(c("readyState")!==n.OPENED||G)throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(e)||d.utf8_encode(e)!==e)throw new b.DOMException(b.DOMException.SYNTAX_ERR);return e=a.trim(e).toLowerCase(),!~a.inArray(e,g)&&!/^(proxy\-|sec\-)/.test(e)&&(C[e]?C[e]+=", "+f:C[e]=f,!0)},getAllResponseHeaders:function(){return O||""},getResponseHeader:function(b){return b=b.toLowerCase(),J||~a.inArray(b,["set-cookie","set-cookie2"])?null:O&&""!==O&&(y||(y={},a.each(O.split(/\r\n/),function(b){var c=b.split(/:\s+/);2===c.length&&(c[0]=a.trim(c[0]),y[c[0].toLowerCase()]={header:c[0],value:a.trim(c[1])})})),y.hasOwnProperty(b))?y[b].header+": "+y[b].value:null},overrideMimeType:function(d){var e,f;if(~a.inArray(c("readyState"),[n.LOADING,n.DONE]))throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);if(d=a.trim(d.toLowerCase()),/;/.test(d)&&(e=d.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(d=e[1],e[2]&&(f=e[2])),!l.mimes[d])throw new b.DOMException(b.DOMException.SYNTAX_ERR);L=d,M=f},send:function(c,e){if(N="string"===a.typeOf(e)?{ruid:e}:e?e:{},this.readyState!==n.OPENED||G)throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);if(c instanceof h)N.ruid=c.ruid,E=c.type||"application/octet-stream";else if(c instanceof j){if(c.hasBlob()){var f=c.getBlob();N.ruid=f.ruid,E=f.type||"application/octet-stream"}}else"string"==typeof c&&(D="UTF-8",E="text/plain;charset=UTF-8",c=d.utf8_encode(c));this.withCredentials||(this.withCredentials=N.required_caps&&N.required_caps.send_browser_cookies&&!K),H=!F&&this.upload.hasEventListener(),J=!1,I=!c,F||(G=!0),i.call(this,c)},abort:function(){if(J=!0,F=!1,~a.inArray(c("readyState"),[n.UNSENT,n.OPENED,n.DONE]))c("readyState",n.UNSENT);else{if(c("readyState",n.DONE),G=!1,!x)throw new b.DOMException(b.DOMException.INVALID_STATE_ERR);x.getRuntime().exec.call(x,"XMLHttpRequest","abort",I),I=!0}},destroy:function(){x&&("function"===a.typeOf(x.destroy)&&x.destroy(),x=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(p.concat(["readystatechange"])),this.upload.handleEventProps(p)}var o={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};m.prototype=c.instance;var p=["loadstart","progress","abort","error","load","timeout","loadend"];return n.UNSENT=0,n.OPENED=1,n.HEADERS_RECEIVED=2,n.LOADING=3,n.DONE=4,n.prototype=c.instance,n}),d(L,[x,y,C,K,J],function(a,b,c,d,e){function f(b,g){function h(b,c){var d="";return a.each(c,function(a,b){d+=(d?"&":"")+encodeURIComponent(b)+"="+encodeURIComponent(a)}),d&&(b+=(b.indexOf("?")>0?"&":"?")+d),b}var i,j=b;c.call(this),this.setOptions(g),a.extend(this,{uid:a.guid(),start:function(b){var c,g,k,l=this;b&&this.setOptions(b),k=this.getOptions(),f.prototype.start.call(this),i=new d,i.upload&&(i.upload.onprogress=function(a){l.progress(a.loaded,a.total)}),i.onload=function(){var a={response:i.responseText,status:i.status,responseHeaders:i.getAllResponseHeaders()};return i.status>=400?l.failed(a):void l.done(a)},i.onerror=function(){l.failed()},i.onloadend=function(){i=null},c=k.multipart?k.url:h(k.url,k.params),i.open(k.http_method,c,!0),a.isEmptyObj(k.headers)||a.each(k.headers,function(a,b){i.setRequestHeader(b,a)}),k.multipart?(g=new e,a.isEmptyObj(k.params)||a.each(k.params,function(a,b){g.append(b,a)}),g.append(k.file_data_name,j),i.send(g)):(!a.isEmptyObj(k.headers)&&k.headers["content-type"]||i.setRequestHeader("content-type","application/octet-stream"),i.send(j))},stop:function(){f.prototype.stop.call(this),i&&(i.abort(),i=null)}})}return f.prototype=new c,f}),d(M,[x,y,C,L],function(a,b,c,d){function e(f,g){function h(){var a=0;return k.each(function(b){b.state===c.DONE&&(a+=b.end-b.start)}),a}function i(){for(var a=0;a<l&&k.hasKey(a);)a++;return a}var j=f,k=new b,l=1;c.call(this),this._options={url:!1,chunk_size:0,multipart:!0,http_method:"POST",params:{},headers:!1,file_data_name:"file",send_file_name:!0,stop_on_fail:!0},a.extend(this,{uid:a.guid(),name:j.name,start:function(a){var b,c=this;this.setOptions(a),e.prototype.start.call(c),c._options.send_file_name&&(c._options.params.name=c.target_name||c.name),c._options.chunk_size?(l=Math.ceil(j.size/c._options.chunk_size),c.uploadChunk(!1,!1,!0)):(b=new d(j,c._options),b.bind("progress",function(a){c.progress(a.loaded,a.total)}),b.bind("done",function(a,b){c.done(b)}),b.bind("failed",function(a,b){c.failed(b)}),g.addItem(b))},uploadChunk:function(b,e,f){var m,n,o=this,p=this.getOption("chunk_size"),q={};return e&&(delete e.chunk_size,a.extend(this._options,e)),q.seq=parseInt(b,10)||i(),q.start=q.seq*p,q.end=Math.min(q.start+p,j.size),q.total=j.size,!(q.start<0||q.start>=j.size||(n=a.extend({},this.getOptions(),{params:{chunk:b,chunks:l}}),m=new d(j.slice(q.start,q.end,j.type),n),m.bind("progress",function(a){o.progress(h()+a.loaded,j.size)}),m.bind("failed",function(b,d){k.add(q.seq,a.extend({state:c.FAILED},q)),o.trigger("chunkuploadfailed",a.extend({},q,d)),n.stop_on_fail&&o.failed(d)}),m.bind("done",function(b,d){k.add(q.seq,a.extend({state:c.DONE},q)),o.trigger("chunkuploaded",a.extend({},q,d)),h()>=j.size?o.done(d):f&&a.delay(function(){o.uploadChunk(i(),!1,f)})}),m.bind("processed",function(){this.destroy()}),k.add(q.seq,a.extend({state:c.PROCESSING},q)),g.addItem(m),f&&g.countSpareSlots()&&o.uploadChunk(i(),!1,f),0))},setOption:function(a,b){("object"==typeof a||this._options.hasOwnProperty(a))&&e.prototype.setOption.apply(this,arguments)},destroy:function(){e.prototype.destroy.call(this),g=j=null}})}return e.prototype=new c,e}),d(N,[i,u,s,p],function(a,b,c,d){function e(){function d(){k=l=0,j=this.result=null}function f(b,c){var d=this;i=c,d.bind("TransportingProgress",function(b){l=b.loaded,l<k&&a.inArray(d.state,[e.IDLE,e.DONE])===-1&&g.call(d)},999),d.bind("TransportingComplete",function(){l=k,d.state=e.DONE,j=null,d.result=i.exec.call(d,"Transporter","getAsBlob",b||"")},999),d.state=e.BUSY,d.trigger("TransportingStarted"),g.call(d)}function g(){var a,c=this,d=k-l;m>d&&(m=d),a=b.btoa(j.substr(l,m)),i.exec.call(c,"Transporter","receive",a,k)}var h,i,j,k,l,m;c.call(this),a.extend(this,{uid:a.guid("uid_"),state:e.IDLE,result:null,transport:function(b,c,e){var g=this;if(e=a.extend({chunk_size:204798},e),(h=e.chunk_size%3)&&(e.chunk_size+=3-h),m=e.chunk_size,d.call(this),j=b,k=b.length,"string"===a.typeOf(e)||e.ruid)f.call(g,c,this.connectRuntime(e));else{var i=function(a,b){g.unbind("RuntimeInit",i),f.call(g,c,b)};this.bind("RuntimeInit",i),this.connectRuntime(e)}},abort:function(){var a=this;a.state=e.IDLE,i&&(i.exec.call(a,"Transporter","clear"),a.trigger("TransportingAborted")),d.call(a)},destroy:function(){this.unbindAll(),i=null,this.disconnectRuntime(),d.call(this)}})}return e.IDLE=0,e.BUSY=1,e.DONE=2,e.prototype=d.instance,e}),d(O,[i,l,o,I,K,q,s,N,k,p,v,z,u],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){function d(a){a||(a=this.exec("Image","getInfo")),this.size=a.size,this.width=a.width,this.height=a.height,this.type=a.type,this.meta=a.meta,""===this.name&&(this.name=a.name)}function j(a){var b=d.typeOf(a);try{if(a instanceof n){if(!a.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);p.apply(this,arguments)}else if(a instanceof k){if(!~d.inArray(a.type,["image/jpeg","image/png"]))throw new c.ImageError(c.ImageError.WRONG_FORMAT);q.apply(this,arguments)}else if(d.inArray(b,["blob","file"])!==-1)j.call(this,new l(null,a),arguments[1]);else if("string"===b)"data:"===a.substr(0,5)?j.call(this,new k(null,{data:a}),arguments[1]):r.apply(this,arguments);else{if("node"!==b||"img"!==a.nodeName.toLowerCase())throw new c.DOMException(c.DOMException.TYPE_MISMATCH_ERR);j.call(this,a.src,arguments[1])}}catch(d){this.trigger("error",d.code)}}function p(b,c){var d=this.connectRuntime(b.ruid);this.ruid=d.uid,d.exec.call(this,"Image","loadFromImage",b,"undefined"===a.typeOf(c)||c)}function q(b,c){function d(a){e.ruid=a.uid,a.exec.call(e,"Image","loadFromBlob",b)}var e=this;e.name=b.name||"",b.isDetached()?(this.bind("RuntimeInit",function(a,b){d(b)}),c&&"string"==typeof c.required_caps&&(c.required_caps=f.parseCaps(c.required_caps)),this.connectRuntime(a.extend({required_caps:{access_image_binary:!0,resize_image:!0}},c))):d(this.connectRuntime(b.ruid))}function r(a,b){var c,d=this;c=new e,c.open("get",a),c.responseType="blob",c.onprogress=function(a){d.trigger(a)},c.onload=function(){q.call(d,c.response,!0)},c.onerror=function(a){d.trigger(a)},c.onloadend=function(){c.destroy()},c.bind("RuntimeError",function(a,b){d.trigger("RuntimeError",b)}),c.send(null,b)}g.call(this),a.extend(this,{uid:a.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){j.apply(this,arguments)},resize:function(a){var b,d,e=this,f={x:0,y:0,width:e.width,height:e.height};a=h.extendIf({width:e.width,height:e.height,type:e.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},a);try{if(!e.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);if(e.width>n.MAX_RESIZE_WIDTH||e.height>n.MAX_RESIZE_HEIGHT)throw new c.ImageError(c.ImageError.MAX_RESOLUTION_ERR);if(b=e.meta&&e.meta.tiff&&e.meta.tiff.Orientation||1,h.inArray(b,[5,6,7,8])!==-1){var g=a.width;a.width=a.height,a.height=g}if(a.crop){switch(d=Math.max(a.width/e.width,a.height/e.height),a.fit?(f.width=Math.min(Math.ceil(a.width/d),e.width),f.height=Math.min(Math.ceil(a.height/d),e.height),d=a.width/f.width):(f.width=Math.min(a.width,e.width),f.height=Math.min(a.height,e.height),d=1),"boolean"==typeof a.crop&&(a.crop="cc"),a.crop.toLowerCase()){case"rb":case"right-bottom":f.x=e.width-f.width,f.y=e.height-f.height;break;case"cb":case"center-bottom":f.x=Math.floor((e.width-f.width)/2),f.y=e.height-f.height;break;case"lb":case"left-bottom":f.x=0,f.y=e.height-f.height;break;case"lt":case"left-top":f.x=0,f.y=0;break;case"ct":case"center-top":f.x=Math.floor((e.width-f.width)/2),f.y=0;break;case"rt":case"right-top":f.x=e.width-f.width,f.y=0;break;case"rc":case"right-center":case"right-middle":f.x=e.width-f.width,f.y=Math.floor((e.height-f.height)/2);break;case"lc":case"left-center":case"left-middle":f.x=0,f.y=Math.floor((e.height-f.height)/2);break;case"cc":case"center-center":case"center-middle":default:f.x=Math.floor((e.width-f.width)/2),f.y=Math.floor((e.height-f.height)/2)}f.x=Math.max(f.x,0),f.y=Math.max(f.y,0)}else d=Math.min(a.width/e.width,a.height/e.height);this.exec("Image","resize",f,d,a)}catch(h){e.trigger("error",h.code)}},downsize:function(b){var c={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,preserveHeaders:!0,resample:"default"};b="object"==typeof b?a.extend(c,b):a.extend(c,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(b)},crop:function(a,b,c){this.downsize(a,b,!0,c)},getAsCanvas:function(){if(!i.can("create_canvas"))throw new c.RuntimeError(c.RuntimeError.NOT_SUPPORTED_ERR);var a=this.connectRuntime(this.ruid);return a.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(a,b){if(!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",a||"image/jpeg",b||90)},getAsDataURL:function(a,b){if(!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",a||"image/jpeg",b||90)},getAsBinaryString:function(a,b){var c=this.getAsDataURL(a,b);return m.atob(c.substring(c.indexOf("base64,")+7))},embed:function(a,d){function e(b,d){var e=this;if(i.can("create_canvas")){var j=e.getAsCanvas();if(j)return a.appendChild(j),j=null,e.destroy(),void g.trigger("embedded")}var l=e.getAsDataURL(b,d);if(!l)throw new c.ImageError(c.ImageError.WRONG_FORMAT);if(i.can("use_data_uri_of",l.length))a.innerHTML='<img src="'+l+'" width="'+e.width+'" height="'+e.height+'" />',e.destroy(),g.trigger("embedded");else{var n=new h;n.bind("TransportingComplete",function(){f=g.connectRuntime(this.result.ruid),g.bind("Embedded",function(){k.extend(f.getShimContainer().style,{top:"0px",left:"0px",width:e.width+"px",height:e.height+"px"}),f=null},999),f.exec.call(g,"ImageView","display",this.result.uid,width,height),e.destroy()}),n.transport(m.atob(l.substring(l.indexOf("base64,")+7)),b,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:a})}}var f,g=this;d=k.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90},d||{});try{if(!(a=b.get(a)))throw new c.DOMException(c.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new c.DOMException(c.DOMException.INVALID_STATE_ERR);this.width>n.MAX_RESIZE_WIDTH||this.height>n.MAX_RESIZE_HEIGHT;var j=new n;return j.bind("Resize",function(){e.call(this,d.type,d.quality)}),j.bind("Load",function(){j.downsize(d)}),this.meta.thumb&&this.meta.thumb.width>=d.width&&this.meta.thumb.height>=d.height?j.load(this.meta.thumb.data):j.clone(this,!1),j}catch(k){this.trigger("error",k.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}}),this.handleEventProps(o),this.bind("Load Resize",function(){d.call(this)},999)}var o=["progress","load","error","resize","embedded"];return n.MAX_RESIZE_WIDTH=8192,n.MAX_RESIZE_HEIGHT=8192,n.prototype=j.instance,n}),d(P,[x,C,O],function(a,b,c){function d(a){b.call(this),this._options={width:0,height:0,type:"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},this.setOption=function(a,b){("object"==typeof a||this._options.hasOwnProperty(a))&&d.prototype.setOption.apply(this,arguments)},this.start=function(b){var d,e=this;b&&this.setOptions(b.resize),d=new c,d.bind("load",function(){this.resize(e.getOptions())}),d.bind("resize",function(){e.done(this.getAsBlob(e.getOption("type"),e.getOption("quality"))),this.destroy()}),d.bind("error",function(){e.failed(),this.destroy()}),d.load(a)}}return d.prototype=new b,d}),d(Q,[x,C,M,P],function(a,b,c,d){function e(h,i,j){var k=h,l=a.guid();b.call(this),a.extend(this,{id:l,uid:l,name:k.name,target_name:null,type:k.type,size:k.size,origSize:k.size,start:function(b){var c=this;b&&this.setOptions(b),!a.isEmptyObj(b.resize)&&f(this.type)&&g(k,"send_binary_string")?this.resizeAndUpload():this.upload(),e.prototype.start.call(c)},getSource:function(){return k},getNative:function(){return this.getFile().getSource()},resizeAndUpload:function(){var a=this,b=new d(k);b.bind("progress",function(b){a.progress(b.loaded,b.total)}),b.bind("done",function(b,c){k=c,a.upload()}),b.bind("failed",function(b,c){a.upload()}),j.addItem(b)},upload:function(){var a=this,b=new c(k,i);b.bind("progress",function(b){a.progress(b.loaded,b.total)}),b.bind("done",function(b,c){a.done(c)}),b.bind("failed",function(b,c){a.failed(c)}),b.start(a.getOptions())},destroy:function(){e.prototype.destroy.call(this),k=null}})}function f(b){return a.inArray(b,["image/jpeg","image/png"])>-1}function g(b,c){if(b.ruid){var d=a.Runtime.getInfo(b.ruid);if(d)return d.can(c)}return!1}return e.prototype=new b,e}),d(R,[x,y,r,v,z,t,A,q,E,F,G,Q],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){function c(){var a=z[0]||A[0];return!!a&&a.getRuntime().uid}function p(){this.bind("FilesAdded FilesRemoved",function(a){a.trigger("QueueChanged"),a.refresh()},this,999),this.bind("BeforeUpload",t),this.bind("Done",function(a){a.trigger("UploadComplete")}),this.bind("Error",u),this.bind("Destroy",v)}function q(b){var c=this,d=0,e=[],i={runtime_order:c.getOption("runtimes"),required_caps:c.getOption("required_features"),preferred_caps:c.getOption("preferred_caps"),swf_url:c.getOption("flash_swf_url"),xap_url:c.getOption("silverlight_xap_url")};a.each(c.getOption("runtimes").split(/\s*,\s*/),function(a){c.getOption(a)&&(i[a]=c.getOption(a))}),c.getOption("browse_button")&&a.each(c.getOption("browse_button"),function(b){e.push(function(e){var g=new f(a.extend({},i,{accept:c.getOption("filters").mime_types,name:c.getOption("file_data_name"),multiple:c.getOption("multi_selection"),container:c.getOption("container"),browse_button:b}));g.onready=function(){var b=h.getInfo(this.ruid);a.extend(c.features,{chunks:b.can("slice_blob"),multipart:b.can("send_multipart"),multi_selection:b.can("select_multiple")}),d++,z.push(this),e()},g.onchange=function(){c.addFile(this.files)},g.bind("mouseenter mouseleave mousedown mouseup",function(d){C||(c.getOption("browse_button_hover")&&("mouseenter"===d.type?a.addClass(b,c.getOption("browse_button_hover")):"mouseleave"===d.type&&a.removeClass(b,c.getOption("browse_button_hover"))),c.getOption("browse_button_active")&&("mousedown"===d.type?a.addClass(b,c.getOption("browse_button_active")):"mouseup"===d.type&&a.removeClass(b,c.getOption("browse_button_active"))))}),g.bind("mousedown",function(){c.trigger("Browse")}),g.bind("error runtimeerror",function(){g=null,e()}),g.init()})}),c.getOption("drop_element")&&a.each(c.getOption("drop_element"),function(b){e.push(function(e){var f=new g(a.extend({},i,{drop_zone:b}));f.onready=function(){var b=h.getInfo(this.ruid);a.extend(c.features,{chunks:b.can("slice_blob"),multipart:b.can("send_multipart"),dragdrop:b.can("drag_and_drop")}),d++,A.push(this),e()},f.ondrop=function(){c.addFile(this.files)},f.bind("error runtimeerror",function(){f=null,e()}),f.init()})}),a.inParallel(e,function(){"function"==typeof b&&b(d)})}function t(a,b){if(a.getOption("unique_names")){var c=b.name.match(/\.([^.]+)$/),d="part";c&&(d=c[1]),b.target_name=b.id+"."+d}}function u(b,c){c.code===a.INIT_ERROR?b.destroy():c.code===a.HTTP_ERROR&&b.state==a.STARTED&&b.trigger("CancelUpload")}function v(b){b.forEachItem(function(a){a.destroy()}),z.length&&(a.each(z,function(a){a.destroy()}),z=[]),A.length&&(a.each(A,function(a){a.destroy()}),A=[]),B=!1,w&&w.destroy(),x&&x.destroy(),D=w=x=null}var w,x,y=a.guid(),z=[],A=[],B=!1,C=!1,D=a.extend({runtimes:h.order,multi_selection:!0,flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:"*",prevent_duplicates:!1,max_file_size:0},max_upload_slots:1,max_resize_slots:1,multipart:!0,multipart_params:{},params:{},http_method:"POST",file_data_name:"file",chunk_size:0,send_file_name:!0,send_chunk_number:!0,max_retries:0,resize:!1,backward_compatibility:!0},b);D.required_features=n(a.extend({},D)),D.preferred_caps=n(a.extend({},D,{required_features:!0})),i.call(this),a.extend(this,{id:y,uid:y,state:a.STOPPED,features:{},settings:{},runtime:null,files:[],total:this.stats,init:function(){var b,d,e=this;return b=e.getOption("preinit"),"function"==typeof b?b(e):a.each(b,function(a,b){e.bind(b,a)}),p.call(e),a.each(["container","browse_button","drop_element"],function(b){if(null===e.getOption(b))return d={code:a.INIT_ERROR,message:a.sprintf(a.translate("%s specified, but cannot be found."),b)},!1}),d?e.trigger("Error",d):e.getOption("browse_button")||e.getOption("drop_element")?void q.call(e,function(b){var d,f=e.getOption("init"),g=a.extend({},e.getOption(),{auto_start:!0});"function"==typeof f?f(e):a.each(f,function(a,b){e.bind(b,a)}),b?(B=!0,d=h.getInfo(c()),w=new j(g),x=new k(g),e.trigger("Init",{ruid:d.uid,runtime:e.runtime=d.type}),e.trigger("PostInit")):e.trigger("Error",{code:a.INIT_ERROR,message:a.translate("Init error.")})}):e.trigger("Error",{code:a.INIT_ERROR,message:a.translate("You must specify either browse_button or drop_element.")})},setOption:function(b,c){return B&&a.inArray(b,["container","browse_button","drop_element","runtimes","multi_selection","flash_swf_url","silverlight_xap_url"])>-1?this.trigger("Error",{code:a.OPTION_ERROR,message:a.sprintf(a.translate("%s option cannot be changed.")),option:b}):("object"!=typeof b&&(c=o(b,c,D),w&&w.setOption(b,c),x&&x.setOption(b,c)),void m.prototype.setOption.call(this,b,c))},refresh:function(){z.length&&a.each(z,function(a){a.trigger("Refresh")}),A.length&&a.each(A,function(a){a.trigger("Refresh")}),this.trigger("Refresh")},stop:function(){m.prototype.stop.call(this),this.state!=a.STOPPED&&this.trigger("CancelUpload")},disableBrowse:function(){C=arguments[0]===r||arguments[0],z.length&&a.each(z,function(a){a.disable(C)}),this.trigger("DisableBrowse",C)},getFile:function(a){return this.getItem(a)},addFile:function(b,f){function g(b){b.bind("beforestart",function(a){return k.trigger("BeforeUpload",a.target)}),b.bind("started",function(){k.trigger("UploadFile",this)}),b.bind("progress",function(){k.trigger("UploadProgress",this)}),b.bind("done",function(a,b){k.trigger("FileUploaded",this,b)}),b.bind("failed",function(b,c){k.trigger("Error",a.extend({code:a.HTTP_ERROR,message:a.translate("HTTP Error."),file:this},c))})}function h(b,c){var d=[];a.each(k.getOption("filters"),function(a,c){s[c]&&d.push(function(d){s[c].call(k,a,b,function(a){d(!a)})})}),a.inParallel(d,c)}function i(b){var c=a.typeOf(b);if(b instanceof e){if(!b.ruid&&!b.isDetached()){if(!j)return!1;b.ruid=j,b.connectRuntime(j)}m.push(function(c){h(b,function(d){var e;d||(e=new l(b,w,x),f&&(e.name=f),g(e),k.addItem(e),n.push(e),k.trigger("FileFiltered",e)),a.delay(c)})})}else b instanceof d?(i(b.getSource()),b.destroy()):a.inArray(c,["file","blob"])!==-1?i(new e(null,b)):"node"===c&&"filelist"===a.typeOf(b.files)?a.each(b.files,i):"array"===c&&(f=null,a.each(b,i))}var j,k=this,m=[],n=[];j=c(),i(b),m.length&&a.inParallel(m,function(){n.length&&k.trigger("FilesAdded",n)})},removeFile:function(a){var b=this.extractItem("string"==typeof a?a:a.uid);b&&(this.trigger("FilesRemoved",[b]),b.destroy())},splice:function(b,c){var d=this,e=0,f=[],g=a.STARTED==this.state;b===r?0:Math.max(b,0);var h=c===r?this.count():Math.min(b+c,this.count());if(this.forEachItem(function(a){return e<b||!(e>h)&&(d.extractItem(a.uid),f.push(a),void e++)}),f.length){for(this.trigger("FilesRemoved",f),g&&this.stop(),e=0;e<f.length;e++)f[e].destroy();g&&this.start()}},dispatchEvent:function(a){var b,c;if(a=a.toLowerCase(),b=this.hasEventListener(a)){b.sort(function(a,b){return b.priority-a.priority}),c=[].slice.call(arguments),c.shift(),c.unshift(this);for(var d=0;d<b.length;d++)if(b[d].fn.apply(b[d].scope,c)===!1)return!1}return!0},bind:function(b,c,d,e){a.Uploader.prototype.bind.call(this,b,c,e,d)}}),D.backward_compatibility&&(this.bind("FilesAdded FilesRemoved",function(a){a.files=a.toArray()},this,999),this.bind("OptionChanged",function(b,c,d){b.settings[c]="object"==typeof d?a.extend({},d):d},this,999)),this.setOptions(D)}function n(b){function c(a,b,c){var d={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};d[a]?e[d[a]]=b:c||(e[a]=b)}var d=b.required_features,e={};return"string"==typeof d?a.each(d.split(/\s*,\s*/),function(a){c(a,!0)}):"object"==typeof d?a.each(d,function(a,b){c(b,a)}):d===!0&&(b.chunk_size&&b.chunk_size>0&&(e.slice_blob=!0),a.isEmptyObj(b.resize)&&b.multipart!==!1||(e.send_binary_string=!0),b.http_method&&(e.use_http_method=b.http_method),a.each(b,function(a,b){c(b,!!a,!0)})),e}function o(b,d,e){switch(b){case"chunk_size":(d=a.parseSize(d))&&(e.send_file_name=!0);break;case"headers":var f={};return"object"==typeof d&&a.each(d,function(a,b){f[b.toLowerCase()]=a}),f;case"http_method":return"PUT"===d.toUpperCase()?"PUT":"POST";case"filters":return"array"===a.typeOf(d)&&(d={mime_types:d}),d.mime_types&&("string"===a.typeOf(d.mime_types)&&(d.mime_types=c.mimes2extList(d.mime_types)),d.mime_types.regexp=function(b){var c=[];return a.each(b,function(b){a.each(b.extensions.split(/,/),function(a){/^\s*\*\s*$/.test(a)?c.push("\\.*"):c.push("\\."+a.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+c.join("|")+")$","i")}(d.mime_types)),d;case"max_file_size":e&&!e.filters&&(e.filters={}),e.filters.max_file_size=d;break;case"multipart":d||(e.send_file_name=!0);break;case"multipart_params":e.params=e.multipart_params=d;break;case"resize":return!!d&&a.extend({preserve_headers:!0,crop:!1},d);case"prevent_duplicates":e&&!e.filters&&(e.filters={}),e.filters.prevent_duplicates=!!d;break;case"unique_names":d&&(e.send_file_name=!0);break;case"container":case"browse_button":case"drop_element":return"container"===b?a.get(d):a.getAll(d)}return d}function p(a,b){s[a]=b}function q(a,b){var c,d;return c=new m(a),d=h.thatCan(c.getOption("required_features"),b||a.runtimes),c.destroy(),d}var r,s={};return p("mime_types",function(b,c,d){b.length&&!b.regexp.test(c.name)?(this.trigger("Error",{code:a.FILE_EXTENSION_ERROR,message:a.translate("File extension error."),file:c}),d(!1)):d(!0)}),p("max_file_size",function(b,c,d){var e;b=a.parseSize(b),c.size!==e&&b&&c.size>b?(this.trigger("Error",{code:a.FILE_SIZE_ERROR,message:a.translate("File size error."),file:c}),d(!1)):d(!0)}),p("prevent_duplicates",function(b,c,d){if(b)for(var e=this.files.length;e--;)if(c.name===this.files[e].name&&c.size===this.files[e].size)return this.trigger("Error",{code:a.FILE_DUPLICATE_ERROR,message:a.translate("Duplicate file error."),file:c}),void d(!1);d(!0)}),m.addFileFilter=p,m.prototype=new i,a.addFileFilter=p,a.predictRuntime=q,m}),d(S,[i,o,q,k],function(a,b,c,d){function f(b){var f=this,i=c.capTest,j=c.capTrue,k=a.extend({access_binary:i(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return f.can("access_binary")&&!!h.Image},display_media:i((d.can("create_canvas")||d.can("use_data_uri_over32kb"))&&e("moxie/image/Image")),do_cors:i(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:i(function(){var a=document.createElement("div");return("draggable"in a||"ondragstart"in a&&"ondrop"in a)&&("IE"!==d.browser||d.verComp(d.version,9,">"))}()),filter_by_extension:i(function(){return!("Chrome"===d.browser&&d.verComp(d.version,28,"<")||"IE"===d.browser&&d.verComp(d.version,10,"<")||"Safari"===d.browser&&d.verComp(d.version,7,"<")||"Firefox"===d.browser&&d.verComp(d.version,37,"<"))}()),return_response_headers:j,return_response_type:function(a){return!("json"!==a||!window.JSON)||d.can("return_response_type",a)},return_status_code:j,report_upload_progress:i(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return f.can("access_binary")&&d.can("create_canvas")},select_file:function(){return d.can("use_fileinput")&&window.File},select_folder:function(){return f.can("select_file")&&("Chrome"===d.browser&&d.verComp(d.version,21,">=")||"Firefox"===d.browser&&d.verComp(d.version,42,">="))},select_multiple:function(){return f.can("select_file")&&!("Safari"===d.browser&&"Windows"===d.os)&&!("iOS"===d.os&&d.verComp(d.osVersion,"7.0.0",">")&&d.verComp(d.osVersion,"8.0.0","<"))},send_binary_string:i(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:i(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||f.can("send_binary_string")},slice_blob:i(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return f.can("slice_blob")&&f.can("send_multipart")},summon_file_dialog:function(){return f.can("select_file")&&("Firefox"===d.browser&&d.verComp(d.version,4,">=")||"Opera"===d.browser&&d.verComp(d.version,12,">=")||"IE"===d.browser&&d.verComp(d.version,10,">=")||!!~a.inArray(d.browser,["Chrome","Safari","Edge"]))},upload_filesize:j,use_http_method:j},arguments[2]);c.call(this,b,arguments[1]||g,k),
a.extend(this,{init:function(){this.trigger("Init")},destroy:function(a){return function(){a.call(f),a=f=null}}(this.destroy)}),a.extend(this.getShim(),h)}var g="html5",h={};return c.addConstructor(g,f),h}),d(T,[S,v],function(a,b){function c(){function a(a,b,c){var d;if(!window.File.prototype.slice)return(d=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?d.call(a,b,c):null;try{return a.slice(),a.slice(b,c)}catch(d){return a.slice(b,c-b)}}this.slice=function(){return new b(this.getRuntime().uid,a.apply(this,arguments))}}return a.Blob=c}),d(U,[S,z,i,l,m,r,k],function(a,b,c,d,e,f,g){function h(){var a,h;c.extend(this,{init:function(i){var j,k,l,m,n,o,p=this,q=p.getRuntime();a=i,l=a.accept.mimes||f.extList2mimes(a.accept,q.can("filter_by_extension")),k=q.getShimContainer(),k.innerHTML='<input id="'+q.uid+'" type="file" style="font-size:999px;opacity:0;"'+(a.multiple&&q.can("select_multiple")?"multiple":"")+(a.directory&&q.can("select_folder")?"webkitdirectory directory":"")+(l?' accept="'+l.join(",")+'"':"")+" />",j=d.get(q.uid),c.extend(j.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),m=d.get(a.browse_button),h=d.getStyle(m,"z-index")||"auto",q.can("summon_file_dialog")&&("static"===d.getStyle(m,"position")&&(m.style.position="relative"),e.addEvent(m,"click",function(a){var b=d.get(q.uid);b&&!b.disabled&&b.click(),a.preventDefault()},p.uid),p.bind("Refresh",function(){n=parseInt(h,10)||1,d.get(a.browse_button).style.zIndex=n,this.getRuntime().getShimContainer().style.zIndex=n-1})),o=q.can("summon_file_dialog")?m:k,e.addEvent(o,"mouseover",function(){p.trigger("mouseenter")},p.uid),e.addEvent(o,"mouseout",function(){p.trigger("mouseleave")},p.uid),e.addEvent(o,"mousedown",function(){p.trigger("mousedown")},p.uid),e.addEvent(d.get(a.container),"mouseup",function(){p.trigger("mouseup")},p.uid),j.onchange=function r(d){if(p.files=[],c.each(this.files,function(c){var d="";return!(!a.directory||"."!=c.name)||(c.webkitRelativePath&&(d="/"+c.webkitRelativePath.replace(/^\//,"")),c=new b(q.uid,c),c.relativePath=d,void p.files.push(c))}),"IE"!==g.browser&&"IEMobile"!==g.browser)this.value="";else{var e=this.cloneNode(!0);this.parentNode.replaceChild(e,this),e.onchange=r}p.files.length&&p.trigger("change")},p.trigger({type:"ready",async:!0}),k=null},setOption:function(a,b){var c=this.getRuntime(),e=d.get(c.uid);switch(a){case"accept":if(b){var g=b.mimes||f.extList2mimes(b,c.can("filter_by_extension"));e.setAttribute("accept",g.join(","))}else e.removeAttribute("accept");break;case"directory":b&&c.can("select_folder")?(e.setAttribute("directory",""),e.setAttribute("webkitdirectory","")):(e.removeAttribute("directory"),e.removeAttribute("webkitdirectory"));break;case"multiple":b&&c.can("select_multiple")?e.setAttribute("multiple",""):e.removeAttribute("multiple")}},disable:function(a){var b,c=this.getRuntime();(b=d.get(c.uid))&&(b.disabled=!!a)},destroy:function(){var b=this.getRuntime(),c=b.getShim(),f=b.getShimContainer(),g=a&&d.get(a.container),i=a&&d.get(a.browse_button);g&&e.removeAllEvents(g,this.uid),i&&(e.removeAllEvents(i,this.uid),i.style.zIndex=h),f&&(e.removeAllEvents(f,this.uid),f.innerHTML=""),c.removeInstance(this.uid),a=f=g=i=c=null}})}return a.FileInput=h}),d(V,[S,z,i,l,m,r],function(a,b,c,d,e,f){function g(){function a(a){if(!a.dataTransfer||!a.dataTransfer.types)return!1;var b=c.toArray(a.dataTransfer.types||[]);return c.inArray("Files",b)!==-1||c.inArray("public.file-url",b)!==-1||c.inArray("application/x-moz-file",b)!==-1}function g(a,c){if(i(a)){var d=new b(o,a);d.relativePath=c||"",p.push(d)}}function h(a){for(var b=[],d=0;d<a.length;d++)[].push.apply(b,a[d].extensions.split(/\s*,\s*/));return c.inArray("*",b)===-1?b:[]}function i(a){if(!q.length)return!0;var b=f.getFileExtension(a.name);return!b||c.inArray(b,q)!==-1}function j(a,b){var d=[];c.each(a,function(a){var b=a.webkitGetAsEntry();b&&(b.isFile?g(a.getAsFile(),b.fullPath):d.push(b))}),d.length?k(d,b):b()}function k(a,b){var d=[];c.each(a,function(a){d.push(function(b){l(a,b)})}),c.inSeries(d,function(){b()})}function l(a,b){a.isFile?a.file(function(c){g(c,a.fullPath),b()},function(){b()}):a.isDirectory?m(a,b):b()}function m(a,b){function c(a){e.readEntries(function(b){b.length?([].push.apply(d,b),c(a)):a()},a)}var d=[],e=a.createReader();c(function(){k(d,b)})}var n,o,p=[],q=[];c.extend(this,{init:function(b){var d,f=this;n=b,o=f.ruid,q=h(n.accept),d=n.container,e.addEvent(d,"dragover",function(b){a(b)&&(b.preventDefault(),b.dataTransfer.dropEffect="copy")},f.uid),e.addEvent(d,"drop",function(b){a(b)&&(b.preventDefault(),p=[],b.dataTransfer.items&&b.dataTransfer.items[0].webkitGetAsEntry?j(b.dataTransfer.items,function(){f.files=p,f.trigger("drop")}):(c.each(b.dataTransfer.files,function(a){g(a)}),f.files=p,f.trigger("drop")))},f.uid),e.addEvent(d,"dragenter",function(a){f.trigger("dragenter")},f.uid),e.addEvent(d,"dragleave",function(a){f.trigger("dragleave")},f.uid)},destroy:function(){e.removeAllEvents(n&&d.get(n.container),this.uid),o=p=q=n=null}})}return a.FileDrop=g}),d(W,[S,u,i],function(a,b,c){function d(){function a(a){return b.atob(a.substring(a.indexOf("base64,")+7))}var d,e=!1;c.extend(this,{read:function(b,f){var g=this;g.result="",d=new window.FileReader,d.addEventListener("progress",function(a){g.trigger(a)}),d.addEventListener("load",function(b){g.result=e?a(d.result):d.result,g.trigger(b)}),d.addEventListener("error",function(a){g.trigger(a,d.error)}),d.addEventListener("loadend",function(a){d=null,g.trigger(a)}),"function"===c.typeOf(d[b])?(e=!1,d[b](f.getSource())):"readAsBinaryString"===b&&(e=!0,d.readAsDataURL(f.getSource()))},abort:function(){d&&d.abort()},destroy:function(){d=null}})}return a.FileReader=d}),d(X,[S,i,r,n,z,v,J,o,k],function(a,b,c,d,e,f,g,h,i){function j(){function a(a,b){var c,d,e=this;c=b.getBlob().getSource(),d=new window.FileReader,d.onload=function(){b.append(b.getBlobName(),new f(null,{type:c.type,data:d.result})),o.send.call(e,a,b)},d.readAsBinaryString(c)}function j(){return!window.XMLHttpRequest||"IE"===i.browser&&i.verComp(i.version,8,"<")?function(){for(var a=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],b=0;b<a.length;b++)try{return new ActiveXObject(a[b])}catch(a){}}():new window.XMLHttpRequest}function k(a){var b=a.responseXML,c=a.responseText;return"IE"===i.browser&&c&&b&&!b.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(a.getResponseHeader("Content-Type"))&&(b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.validateOnParse=!1,b.loadXML(c)),b&&("IE"===i.browser&&0!==b.parseError||!b.documentElement||"parsererror"===b.documentElement.tagName)?null:b}function l(a){var b="----moxieboundary"+(new Date).getTime(),c="--",d="\r\n",e="",g=this.getRuntime();if(!g.can("send_binary_string"))throw new h.RuntimeError(h.RuntimeError.NOT_SUPPORTED_ERR);return m.setRequestHeader("Content-Type","multipart/form-data; boundary="+b),a.each(function(a,g){e+=a instanceof f?c+b+d+'Content-Disposition: form-data; name="'+g+'"; filename="'+unescape(encodeURIComponent(a.name||"blob"))+'"'+d+"Content-Type: "+(a.type||"application/octet-stream")+d+d+a.getSource()+d:c+b+d+'Content-Disposition: form-data; name="'+g+'"'+d+d+unescape(encodeURIComponent(a))+d}),e+=c+b+c+d}var m,n,o=this;b.extend(this,{send:function(c,e){var h=this,k="Mozilla"===i.browser&&i.verComp(i.version,4,">=")&&i.verComp(i.version,7,"<"),o="Android Browser"===i.browser,p=!1;if(n=c.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),m=j(),m.open(c.method,c.url,c.async,c.user,c.password),e instanceof f)e.isDetached()&&(p=!0),e=e.getSource();else if(e instanceof g){if(e.hasBlob())if(e.getBlob().isDetached())e=l.call(h,e),p=!0;else if((k||o)&&"blob"===b.typeOf(e.getBlob().getSource())&&window.FileReader)return void a.call(h,c,e);if(e instanceof g){var q=new window.FormData;e.each(function(a,b){a instanceof f?q.append(b,a.getSource()):q.append(b,a)}),e=q}}m.upload?(c.withCredentials&&(m.withCredentials=!0),m.addEventListener("load",function(a){h.trigger(a)}),m.addEventListener("error",function(a){h.trigger(a)}),m.addEventListener("progress",function(a){h.trigger(a)}),m.upload.addEventListener("progress",function(a){h.trigger({type:"UploadProgress",loaded:a.loaded,total:a.total})})):m.onreadystatechange=function(){switch(m.readyState){case 1:break;case 2:break;case 3:var a,b;try{d.hasSameOrigin(c.url)&&(a=m.getResponseHeader("Content-Length")||0),m.responseText&&(b=m.responseText.length)}catch(e){a=b=0}h.trigger({type:"progress",lengthComputable:!!a,total:parseInt(a,10),loaded:b});break;case 4:m.onreadystatechange=function(){},0===m.status?h.trigger("error"):h.trigger("load")}},b.isEmptyObj(c.headers)||b.each(c.headers,function(a,b){m.setRequestHeader(b,a)}),""!==c.responseType&&"responseType"in m&&("json"!==c.responseType||i.can("return_response_type","json")?m.responseType=c.responseType:m.responseType="text"),p?m.sendAsBinary?m.sendAsBinary(e):!function(){for(var a=new Uint8Array(e.length),b=0;b<e.length;b++)a[b]=255&e.charCodeAt(b);m.send(a.buffer)}():m.send(e),h.trigger("loadstart")},getStatus:function(){try{if(m)return m.status}catch(a){}return 0},getResponse:function(a){var b=this.getRuntime();try{switch(a){case"blob":var d=new e(b.uid,m.response),f=m.getResponseHeader("Content-Disposition");if(f){var g=f.match(/filename=([\'\"'])([^\1]+)\1/);g&&(n=g[2])}return d.name=n,d.type||(d.type=c.getFileMime(n)),d;case"json":return i.can("return_response_type","json")?m.response:200===m.status&&window.JSON?JSON.parse(m.responseText):null;case"document":return k(m);default:return""!==m.responseText?m.responseText:null}}catch(a){return null}},getAllResponseHeaders:function(){try{return m.getAllResponseHeaders()}catch(a){}return""},abort:function(){m&&m.abort()},destroy:function(){o=n=null}})}return a.XMLHttpRequest=j}),d(Y,[i],function(a){function b(a){a instanceof ArrayBuffer?c.apply(this,arguments):d.apply(this,arguments)}function c(b){var c=new DataView(b);a.extend(this,{readByteAt:function(a){return c.getUint8(a)},writeByteAt:function(a,b){c.setUint8(a,b)},SEGMENT:function(a,d,e){switch(arguments.length){case 2:return b.slice(a,a+d);case 1:return b.slice(a);case 3:if(null===e&&(e=new ArrayBuffer),e instanceof ArrayBuffer){var f=new Uint8Array(this.length()-d+e.byteLength);a>0&&f.set(new Uint8Array(b.slice(0,a)),0),f.set(new Uint8Array(e),a),f.set(new Uint8Array(b.slice(a+d)),a+e.byteLength),this.clear(),b=f.buffer,c=new DataView(b);break}default:return b}},length:function(){return b?b.byteLength:0},clear:function(){c=b=null}})}function d(b){function c(a,c,d){d=3===arguments.length?d:b.length-c-1,b=b.substr(0,c)+a+b.substr(d+c)}a.extend(this,{readByteAt:function(a){return b.charCodeAt(a)},writeByteAt:function(a,b){c(String.fromCharCode(b),a,1)},SEGMENT:function(a,d,e){switch(arguments.length){case 1:return b.substr(a);case 2:return b.substr(a,d);case 3:c(null!==e?e:"",a,d);break;default:return b}},length:function(){return b?b.length:0},clear:function(){b=null}})}return a.extend(b.prototype,{littleEndian:!1,read:function(a,b){var c,d,e;if(a+b>this.length())throw new Error("You are trying to read outside the source boundaries.");for(d=this.littleEndian?0:-8*(b-1),e=0,c=0;e<b;e++)c|=this.readByteAt(a+e)<<Math.abs(d+8*e);return c},write:function(a,b,c){var d,e;if(a>this.length())throw new Error("You are trying to write outside the source boundaries.");for(d=this.littleEndian?0:-8*(c-1),e=0;e<c;e++)this.writeByteAt(a+e,b>>Math.abs(d+8*e)&255)},BYTE:function(a){return this.read(a,1)},SHORT:function(a){return this.read(a,2)},LONG:function(a){return this.read(a,4)},SLONG:function(a){var b=this.read(a,4);return b>2147483647?b-4294967296:b},CHAR:function(a){return String.fromCharCode(this.read(a,1))},STRING:function(a,b){return this.asArray("CHAR",a,b).join("")},asArray:function(a,b,c){for(var d=[],e=0;e<c;e++)d[e]=this[a](b+e);return d}}),b}),d(Z,[Y,o],function(a,b){return function c(d){var e,f,g,h=[],i=0;if(e=new a(d),65496!==e.SHORT(0))throw e.clear(),new b.ImageError(b.ImageError.WRONG_FORMAT);for(f=2;f<=e.length();)if(g=e.SHORT(f),g>=65488&&g<=65495)f+=2;else{if(65498===g||65497===g)break;i=e.SHORT(f+2)+2,g>=65505&&g<=65519&&h.push({hex:g,name:"APP"+(15&g),start:f,length:i,segment:e.SEGMENT(f,i)}),f+=i}return e.clear(),{headers:h,restore:function(b){var c,d,e;for(e=new a(b),f=65504==e.SHORT(2)?4+e.SHORT(4):2,d=0,c=h.length;d<c;d++)e.SEGMENT(f,0,h[d].segment),f+=h[d].length;return b=e.SEGMENT(),e.clear(),b},strip:function(b){var d,e,f,g;for(f=new c(b),e=f.headers,f.purge(),d=new a(b),g=e.length;g--;)d.SEGMENT(e[g].start,e[g].length,"");return b=d.SEGMENT(),d.clear(),b},get:function(a){for(var b=[],c=0,d=h.length;c<d;c++)h[c].name===a.toUpperCase()&&b.push(h[c].segment);return b},set:function(a,b){var c,d,e,f=[];for("string"==typeof b?f.push(b):f=b,c=d=0,e=h.length;c<e&&(h[c].name===a.toUpperCase()&&(h[c].segment=f[d],h[c].length=f[d].length,d++),!(d>=f.length));c++);},purge:function(){this.headers=h=[]}}}}),d($,[i,Y,o],function(a,c,d){function e(f){function g(c,e){var f,g,h,i,j,m,n,o,p=this,q=[],r={},s={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},t={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(f=p.SHORT(c),g=0;g<f;g++)if(q=[],n=c+2+12*g,h=e[p.SHORT(n)],h!==b){if(i=s[p.SHORT(n+=2)],j=p.LONG(n+=2),m=t[i],!m)throw new d.ImageError(d.ImageError.INVALID_META_ERR);if(n+=4,m*j>4&&(n=p.LONG(n)+l.tiffHeader),n+m*j>=this.length())throw new d.ImageError(d.ImageError.INVALID_META_ERR);"ASCII"!==i?(q=p.asArray(i,n,j),o=1==j?q[0]:q,k.hasOwnProperty(h)&&"object"!=typeof o?r[h]=k[h][o]:r[h]=o):r[h]=a.trim(p.STRING(n,j).replace(/\0$/,""))}return r}function h(a,b,c){var d,e,f,g=0;if("string"==typeof b){var h=j[a.toLowerCase()];for(var i in h)if(h[i]===b){b=i;break}}d=l[a.toLowerCase()+"IFD"],e=this.SHORT(d);for(var k=0;k<e;k++)if(f=d+12*k+2,this.SHORT(f)==b){g=f+8;break}if(!g)return!1;try{this.write(g,c,4)}catch(a){return!1}return!0}var i,j,k,l,m,n;if(c.call(this,f),j={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},k={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},l={tiffHeader:10},m=l.tiffHeader,i={clear:this.clear},a.extend(this,{read:function(){try{return e.prototype.read.apply(this,arguments)}catch(a){throw new d.ImageError(d.ImageError.INVALID_META_ERR)}},write:function(){try{return e.prototype.write.apply(this,arguments)}catch(a){throw new d.ImageError(d.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(a){return this.LONG(a)/this.LONG(a+4)},SRATIONAL:function(a){return this.SLONG(a)/this.SLONG(a+4)},ASCII:function(a){return this.CHAR(a)},TIFF:function(){return n||null},EXIF:function(){var a=null;if(l.exifIFD){try{a=g.call(this,l.exifIFD,j.exif)}catch(b){return null}if(a.ExifVersion&&"array"===b.typeOf(a.ExifVersion)){for(var c=0,d="";c<a.ExifVersion.length;c++)d+=String.fromCharCode(a.ExifVersion[c]);a.ExifVersion=d}}return a},GPS:function(){var a=null;if(l.gpsIFD){try{a=g.call(this,l.gpsIFD,j.gps)}catch(b){return null}a.GPSVersionID&&"array"===b.typeOf(a.GPSVersionID)&&(a.GPSVersionID=a.GPSVersionID.join("."))}return a},thumb:function(){if(l.IFD1)try{var a=g.call(this,l.IFD1,j.thumb);if("JPEGInterchangeFormat"in a)return this.SEGMENT(l.tiffHeader+a.JPEGInterchangeFormat,a.JPEGInterchangeFormatLength)}catch(a){}return null},setExif:function(a,b){return("PixelXDimension"===a||"PixelYDimension"===a)&&h.call(this,"exif",a,b)},clear:function(){i.clear(),f=j=k=n=l=i=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new d.ImageError(d.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(m),42!==this.SHORT(m+=2))throw new d.ImageError(d.ImageError.INVALID_META_ERR);l.IFD0=l.tiffHeader+this.LONG(m+=2),n=g.call(this,l.IFD0,j.tiff),"ExifIFDPointer"in n&&(l.exifIFD=l.tiffHeader+n.ExifIFDPointer,delete n.ExifIFDPointer),"GPSInfoIFDPointer"in n&&(l.gpsIFD=l.tiffHeader+n.GPSInfoIFDPointer,delete n.GPSInfoIFDPointer),a.isEmptyObj(n)&&(n=null);var o=this.LONG(l.IFD0+12*this.SHORT(l.IFD0)+2);o&&(l.IFD1=l.tiffHeader+o)}return e.prototype=c.prototype,e}),d(_,[i,o,Z,Y,$],function(a,b,c,d,e){function f(a){function f(a){var b,c,d=0;for(a||(a=i);d<=a.length();){if(b=a.SHORT(d+=2),b>=65472&&b<=65475)return d+=5,{height:a.SHORT(d),width:a.SHORT(d+=2)};c=a.SHORT(d+=2),d+=c-2}return null}function g(){var a,b,c=k.thumb();return c&&(a=new d(c),b=f(a),a.clear(),b)?(b.data=c,b):null}function h(){k&&j&&i&&(k.clear(),j.purge(),i.clear(),l=j=k=i=null)}var i,j,k,l;if(i=new d(a),65496!==i.SHORT(0))throw new b.ImageError(b.ImageError.WRONG_FORMAT);j=new c(a);try{k=new e(j.get("app1")[0])}catch(m){}l=f.call(this),m.extend(this,{type:"image/jpeg",size:i.length(),width:l&&l.width||0,height:l&&l.height||0,setExif:function(a,b){return!!k&&("object"===m.typeOf(a)?m.each(a,function(a,b){k.setExif(b,a)}):k.setExif(a,b),void j.set("app1",k.SEGMENT()))},writeHeaders:function(){return arguments.length?j.restore(arguments[0]):j.restore(a)},stripHeaders:function(a){return j.strip(a)},purge:function(){h.call(this)}}),k&&(this.meta={tiff:k.TIFF(),exif:k.EXIF(),gps:k.GPS(),thumb:g()})}return f}),d(aa,[o,i,Y],function(a,b,c){function d(d){function e(){var a,b;return a=g.call(this,8),"IHDR"==a.type?(b=a.start,{width:h.LONG(b),height:h.LONG(b+=4)}):null}function f(){h&&(h.clear(),d=k=i=j=h=null)}function g(a){var b,c,d,e;return b=h.LONG(a),c=h.STRING(a+=4,4),d=a+=4,e=h.LONG(a+b),{length:b,type:c,start:d,CRC:e}}var h,i,j,k;h=new c(d),function(){var b=0,c=0,d=[35152,20039,3338,6666];for(c=0;c<d.length;c++,b+=2)if(d[c]!=h.SHORT(b))throw new a.ImageError(a.ImageError.WRONG_FORMAT)}(),k=e.call(this),b.extend(this,{type:"image/png",size:h.length(),width:k.width,height:k.height,purge:function(){f.call(this)}}),f.call(this)}return d}),d(ba,[i,o,_,aa],function(a,b,c,d){return function(e){var f,g=[c,d];f=function(){for(var a=0;a<g.length;a++)try{return new g[a](e)}catch(a){}throw new b.ImageError(b.ImageError.WRONG_FORMAT)}(),a.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(a){return a},stripHeaders:function(a){return a},purge:function(){e=null}}),a.extend(this,f),this.purge=function(){f.purge(),f=null}}}),d(ca,[],function(){function a(c,d){var e=c.width,f=Math.floor(e*d),g=!1;(d<.5||d>2)&&(d=d<.5?.5:2,g=!0);var h=b(c,d);return g?a(h,f/h.width):h}function b(a,b){var c=a.width,d=a.height,e=Math.floor(c*b),f=Math.floor(d*b),g=document.createElement("canvas");return g.width=e,g.height=f,g.getContext("2d").drawImage(a,0,0,c,d,0,0,e,f),a=null,g}return{scale:a}}),d(da,[],function(){function a(a,c){var d=Math.floor(a.width*c),e=Math.floor(a.height*c),f=document.createElement("canvas");return f.width=d,f.height=e,b(f,a,c,c),a=null,f}function b(a,b,f,g){var h=c(a);if(!h)throw"Your environment doesn't support WebGL.";f=a.width/(b.width+2),g=a.height/(b.height+2);var i=e(h);h.useProgram(i),d(h,i,"a_dest_xy",[0,0,a.width,0,0,a.height,0,a.height,a.width,0,a.width,a.height]);var j=h.createTexture();h.bindTexture(h.TEXTURE_2D,j),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,b);var k=h.getUniformLocation(i,"u_wh");h.uniform2f(k,b.width,b.height);var l=h.getUniformLocation(i,"u_ratio");h.uniform2f(l,f,g),h.drawArrays(h.TRIANGLES,0,6)}function c(a){var b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}return b||(b=null),b}function d(a,b,c,d){var e=a.getAttribLocation(b,c),f=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,f),a.bufferData(a.ARRAY_BUFFER,new Float32Array(d),a.STATIC_DRAW),a.enableVertexAttribArray(e),a.vertexAttribPointer(e,2,a.FLOAT,!1,0,0)}function e(a){var b=a.createProgram();for(var c in g.bilinear)a.attachShader(b,f(a,g.bilinear[c],c));if(a.linkProgram(b),!a.getProgramParameter(b,a.LINK_STATUS)){var d=a.getProgramInfoLog(b);throw a.deleteProgram(b),"Cannot create a program: "+d}return b}function f(a,b,c){var d=a.createShader(a[c]);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS)){var e=a.getShaderInfoLog(d);throw a.deleteShader(d),"Cannot compile a "+c+" shader: "+e}return d}var g={bilinear:{VERTEX_SHADER:"                attribute vec2 a_dest_xy;                                uniform vec2 u_wh;                uniform vec2 u_ratio;                                varying vec2 a_xy;                varying vec2 b_xy;                varying vec2 c_xy;                varying vec2 d_xy;                                varying float xx0;                varying float x1x;                varying float yy0;                varying float y1y;                                void main() {                    vec2 xy = a_dest_xy / u_ratio - 1.0;                    float x = xy.x;                    float y = xy.y;                    float offset = 0.5;                                        float x0 = x - offset;                    float x1 = x + offset;                    float y0 = y - offset;                    float y1 = y + offset;                                        a_xy = vec2(x0, y0) / u_wh;                    b_xy = vec2(x1, y0) / u_wh;                    c_xy = vec2(x1, y1) / u_wh;                    d_xy = vec2(x0, y1) / u_wh;                                        xx0 = (x - x0) / (x1 - x0);                    x1x = (x1 - x) / (x1 - x0);                    yy0 = (y - y0) / (y1 - y0);                    y1y = (y1 - y) / (y1 - y0);                                        gl_Position = vec4(((xy / u_wh) * 2.0 - 1.0) * vec2(1, -1), 0, 1);                }            ",FRAGMENT_SHADER:"                precision mediump float;                                uniform sampler2D u_image;                                varying vec2 a_xy;                varying vec2 b_xy;                varying vec2 c_xy;                varying vec2 d_xy;                                varying float xx0;                varying float x1x;                varying float yy0;                varying float y1y;                                void main() {                    vec4 a = texture2D(u_image, a_xy);                    vec4 b = texture2D(u_image, b_xy);                    vec4 c = texture2D(u_image, c_xy);                    vec4 d = texture2D(u_image, d_xy);                                        vec4 ab = b * xx0 + a * x1x;                    vec4 dc = c * xx0 + d * x1x;                    vec4 abdc = dc * yy0 + ab * y1y;                                        gl_FragColor = abdc;                }            "}};return{scale:a}}),d(ea,[S,i,o,u,v,z,ba,ca,da,r,k],function(a,b,c,d,e,f,g,h,i,j,k){function l(){function a(){if(!s&&!q)throw new c.ImageError(c.DOMException.INVALID_STATE_ERR);return s||q}function i(){var b=a();return"canvas"==b.nodeName.toLowerCase()?b:(s=document.createElement("canvas"),s.width=b.width,s.height=b.height,s.getContext("2d").drawImage(b,0,0),s)}function k(a){return d.atob(a.substring(a.indexOf("base64,")+7))}function l(a,b){return"data:"+(b||"")+";base64,"+d.btoa(a)}function m(a){var b=this;q=new Image,q.onerror=function(){p.call(this),b.trigger("error",c.ImageError.WRONG_FORMAT)},q.onload=function(){b.trigger("load")},q.src="data:"==a.substr(0,5)?a:l(a,u.type)}function n(a,b){var d,e=this;return window.FileReader?(d=new FileReader,d.onload=function(){b(this.result)},d.onerror=function(){e.trigger("error",c.ImageError.WRONG_FORMAT)},void d.readAsDataURL(a)):b(a.getAsDataURL())}function o(a,c,d){b.inArray(d,[5,6,7,8])>-1&&(s.width=c,s.height=a);var e=s.getContext("2d");switch(d){case 2:e.translate(a,0),e.scale(-1,1);break;case 3:e.translate(a,c),e.rotate(Math.PI);break;case 4:e.translate(0,c),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-c);break;case 7:e.rotate(.5*Math.PI),e.translate(a,-c),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-a,0)}}function p(){r&&(r.purge(),r=null),q&&(q.src=""),t=q=s=u=null,w=!1}var q,r,s,t,u,v=this,w=!1,x=!0;b.extend(this,{loadFromBlob:function(a){var b=this,d=b.getRuntime(),e=!(arguments.length>1)||arguments[1];if(!d.can("access_binary"))throw new c.RuntimeError(c.RuntimeError.NOT_SUPPORTED_ERR);return u=a,a.isDetached()?(t=a.getSource(),void m.call(this,t)):void n.call(this,a.getSource(),function(a){e&&(t=k(a)),m.call(b,a)})},loadFromImage:function(a,b){this.meta=a.meta,u=new f(null,{name:a.name,size:a.size,type:a.type}),m.call(this,b?t=a.getAsBinaryString():a.getAsDataURL())},getInfo:function(){var b,c=this.getRuntime();return!r&&t&&c.can("access_image_binary")&&(r=new g(t)),b={width:a().width||0,height:a().height||0,type:u.type||j.getFileMime(u.name),size:t&&t.length||u.size||0,name:u.name||"",meta:null},x&&(b.meta=r&&r.meta||this.meta||{},!b.meta||!b.meta.thumb||b.meta.thumb.data instanceof e||(b.meta.thumb.data=new e(null,{type:"image/jpeg",data:b.meta.thumb.data}))),b},resize:function(b,c,d){var e=document.createElement("canvas");if(e.width=b.width,e.height=b.height,e.getContext("2d").drawImage(a(),b.x,b.y,b.width,b.height,0,0,e.width,e.height),s=h.scale(e,c),x=d.preserveHeaders,!x){var f=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;o(s.width,s.height,f)}this.width=s.width,this.height=s.height,w=!0,this.trigger("Resize")},getAsCanvas:function(){return s||(s=i()),s.id=this.uid+"_canvas",s},getAsBlob:function(a,b){return a!==this.type?(w=!0,new f(null,{name:u.name||"",type:a,data:v.getAsDataURL(a,b)})):new f(null,{name:u.name||"",type:a,data:v.getAsBinaryString(a,b)})},getAsDataURL:function(a){var b=arguments[1]||90;if(!w)return q.src;if(i(),"image/jpeg"!==a)return s.toDataURL("image/png");try{return s.toDataURL("image/jpeg",b/100)}catch(a){return s.toDataURL("image/jpeg")}},getAsBinaryString:function(a,b){if(!w)return t||(t=k(v.getAsDataURL(a,b))),t;if("image/jpeg"!==a)t=k(v.getAsDataURL(a,b));else{var c;b||(b=90),i();try{c=s.toDataURL("image/jpeg",b/100)}catch(a){c=s.toDataURL("image/jpeg")}t=k(c),r&&(t=r.stripHeaders(t),x&&(r.meta&&r.meta.exif&&r.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),t=r.writeHeaders(t)),r.purge(),r=null)}return w=!1,t},destroy:function(){v=null,p.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return a.Image=l}),d(fa,[i,k,l,o,q],function(a,b,c,d,f){function g(){var a;try{a=navigator.plugins["Shockwave Flash"],a=a.description}catch(b){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(b){a="0.0"}}return a=a.match(/\d+/g),parseFloat(a[0]+"."+a[1])}function h(a){var d=c.get(a);d&&"OBJECT"==d.nodeName&&("IE"===b.browser?(d.style.display="none",function e(){4==d.readyState?i(a):setTimeout(e,10)}()):d.parentNode.removeChild(d))}function i(a){var b=c.get(a);if(b){for(var d in b)"function"==typeof b[d]&&(b[d]=null);b.parentNode.removeChild(b)}}function j(i){var j,m=this;i=a.extend({swf_url:b.swf_url},i),f.call(this,i,k,{access_binary:function(a){return a&&"browser"===m.mode},access_image_binary:function(a){return a&&"browser"===m.mode},display_media:f.capTest(e("moxie/image/Image")),do_cors:f.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===m.mode},resize_image:f.capTrue,return_response_headers:!1,return_response_type:function(b){return!("json"!==b||!window.JSON)||!a.arrayDiff(b,["","text","document"])||"browser"===m.mode},return_status_code:function(b){return"browser"===m.mode||!a.arrayDiff(b,[200,404])},select_file:f.capTrue,select_multiple:f.capTrue,send_binary_string:function(a){return a&&"browser"===m.mode},send_browser_cookies:function(a){return a&&"browser"===m.mode},send_custom_headers:function(a){return a&&"browser"===m.mode},send_multipart:f.capTrue,slice_blob:function(a){return a&&"browser"===m.mode},stream_upload:function(a){return a&&"browser"===m.mode},summon_file_dialog:!1,upload_filesize:function(b){return a.parseSizeStr(b)<=2097152||"client"===m.mode},use_http_method:function(b){return!a.arrayDiff(b,["GET","POST"])}},{access_binary:function(a){return a?"browser":"client"},access_image_binary:function(a){return a?"browser":"client"},report_upload_progress:function(a){return a?"browser":"client"},return_response_type:function(b){return a.arrayDiff(b,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(b){return a.arrayDiff(b,[200,404])?"browser":["client","browser"]},send_binary_string:function(a){return a?"browser":"client"},send_browser_cookies:function(a){return a?"browser":"client"},send_custom_headers:function(a){return a?"browser":"client"},slice_blob:function(a){return a?"browser":"client"},stream_upload:function(a){return a?"client":"browser"},upload_filesize:function(b){return a.parseSizeStr(b)>=2097152?"client":"browser"}},"client"),g()<11.3&&(this.mode=!1),a.extend(this,{getShim:function(){return c.get(this.uid)},shimExec:function(a,b){var c=[].slice.call(arguments,2);return m.getShim().exec(this.uid,a,b,c)},init:function(){var c,e,f;f=this.getShimContainer(),a.extend(f.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",
height:"9px",overflow:"hidden"}),c='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+i.swf_url+'" ',"IE"===b.browser&&(c+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),c+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+i.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+b.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===b.browser?(e=document.createElement("div"),f.appendChild(e),e.outerHTML=c,e=f=null):f.innerHTML=c,j=setTimeout(function(){m&&!m.initialized&&m.trigger("Error",new d.RuntimeError(d.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(a){return function(){h(m.uid),a.call(m),clearTimeout(j),i=j=a=m=null}}(this.destroy)},l)}var k="flash",l={};return f.addConstructor(k,j),l}),d(ga,[fa,v],function(a,b){var c={slice:function(a,c,d,e){var f=this.getRuntime();return c<0?c=Math.max(a.size+c,0):c>0&&(c=Math.min(c,a.size)),d<0?d=Math.max(a.size+d,0):d>0&&(d=Math.min(d,a.size)),a=f.shimExec.call(this,"Blob","slice",c,d,e||""),a&&(a=new b(f.uid,a)),a}};return a.Blob=c}),d(ha,[fa,z,i],function(a,b,c){var d={init:function(a){var d=this,e=this.getRuntime();this.bind("Change",function(){var a=e.shimExec.call(d,"FileInput","getFiles");d.files=[],c.each(a,function(a){d.files.push(new b(e.uid,a))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:a.accept,multiple:a.multiple}),this.trigger("ready")}};return a.FileInput=d}),d(ia,[fa,u],function(a,b){function c(a,c){switch(c){case"readAsText":return b.atob(a,"utf8");case"readAsBinaryString":return b.atob(a);case"readAsDataURL":return a}return null}var d={read:function(a,b){var d=this;return d.result="","readAsDataURL"===a&&(d.result="data:"+(b.type||"")+";base64,"),d.bind("Progress",function(b,e){e&&(d.result+=c(e,a))},999),d.getRuntime().shimExec.call(this,"FileReader","readAsBase64",b.uid)}};return a.FileReader=d}),d(ja,[fa,u],function(a,b){function c(a,c){switch(c){case"readAsText":return b.atob(a,"utf8");case"readAsBinaryString":return b.atob(a);case"readAsDataURL":return a}return null}var d={read:function(a,b){var d,e=this.getRuntime();return(d=e.shimExec.call(this,"FileReaderSync","readAsBase64",b.uid))?("readAsDataURL"===a&&(d="data:"+(b.type||"")+";base64,"+d),c(d,a,b.type)):null}};return a.FileReaderSync=d}),d(ka,[fa,v],function(a,b){var c={getAsBlob:function(a){var c=this.getRuntime(),d=c.shimExec.call(this,"Transporter","getAsBlob",a);return d?new b(c.uid,d):null}};return a.Transporter=c}),d(la,[fa,i,v,z,I,ja,J,N,ka],function(a,b,c,d,e,f,g,h,i){var j={send:function(a,d){function e(){a.transport=k.mode,k.shimExec.call(j,"XMLHttpRequest","send",a,d)}function f(a,b){k.shimExec.call(j,"XMLHttpRequest","appendBlob",a,b.uid),d=null,e()}function i(a,b){var c=new h;c.bind("TransportingComplete",function(){b(this.result)}),c.transport(a.getSource(),a.type,{ruid:k.uid})}var j=this,k=j.getRuntime();if(b.isEmptyObj(a.headers)||b.each(a.headers,function(a,b){k.shimExec.call(j,"XMLHttpRequest","setRequestHeader",b,a.toString())}),d instanceof g){var l;if(d.each(function(a,b){a instanceof c?l=b:k.shimExec.call(j,"XMLHttpRequest","append",b,a)}),d.hasBlob()){var m=d.getBlob();m.isDetached()?i(m,function(a){m.destroy(),f(l,a)}):f(l,m)}else d=null,e()}else d instanceof c?d.isDetached()?i(d,function(a){d.destroy(),d=a.uid,e()}):(d=d.uid,e()):e()},getResponse:function(a){var c,f,g=this.getRuntime();if(f=g.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(f=new d(g.uid,f),"blob"===a)return f;try{if(c=new e,~b.inArray(a,["","text"]))return c.readAsText(f);if("json"===a&&window.JSON)return JSON.parse(c.readAsText(f))}finally{f.destroy()}}return null},abort:function(a){var b=this.getRuntime();b.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return a.XMLHttpRequest=j}),d(ma,[fa,i,N,v,I],function(a,b,c,d,e){var f={loadFromBlob:function(a){function b(a){e.shimExec.call(d,"Image","loadFromBlob",a.uid),d=e=null}var d=this,e=d.getRuntime();if(a.isDetached()){var f=new c;f.bind("TransportingComplete",function(){b(f.result.getSource())}),f.transport(a.getSource(),a.type,{ruid:e.uid})}else b(a.getSource())},loadFromImage:function(a){var b=this.getRuntime();return b.shimExec.call(this,"Image","loadFromImage",a.uid)},getInfo:function(){var a=this.getRuntime(),b=a.shimExec.call(this,"Image","getInfo");return!b.meta||!b.meta.thumb||b.meta.thumb.data instanceof d||(b.meta.thumb.data=new d(a.uid,b.meta.thumb.data)),b},getAsBlob:function(a,b){var c=this.getRuntime(),e=c.shimExec.call(this,"Image","getAsBlob",a,b);return e?new d(c.uid,e):null},getAsDataURL:function(){var a,b=this.getRuntime(),c=b.Image.getAsBlob.apply(this,arguments);return c?(a=new e,a.readAsDataURL(c)):null}};return a.Image=f}),d(na,[i,k,l,o,q],function(a,b,c,d,f){function g(a){var b,c,d,e,f,g=!1,h=null,i=0;try{try{h=new ActiveXObject("AgControl.AgControl"),h.IsVersionSupported(a)&&(g=!0),h=null}catch(h){var j=navigator.plugins["Silverlight Plug-In"];if(j){for(b=j.description,"1.0.30226.2"===b&&(b="2.0.30226.2"),c=b.split(".");c.length>3;)c.pop();for(;c.length<4;)c.push(0);for(d=a.split(".");d.length>4;)d.pop();do e=parseInt(d[i],10),f=parseInt(c[i],10),i++;while(i<d.length&&e===f);e<=f&&!isNaN(e)&&(g=!0)}}}catch(a){g=!1}return g}function h(h){var k,l=this;h=a.extend({xap_url:b.xap_url},h),f.call(this,h,i,{access_binary:f.capTrue,access_image_binary:f.capTrue,display_media:f.capTest(e("moxie/image/Image")),do_cors:f.capTrue,drag_and_drop:!1,report_upload_progress:f.capTrue,resize_image:f.capTrue,return_response_headers:function(a){return a&&"client"===l.mode},return_response_type:function(a){return"json"!==a||!!window.JSON},return_status_code:function(b){return"client"===l.mode||!a.arrayDiff(b,[200,404])},select_file:f.capTrue,select_multiple:f.capTrue,send_binary_string:f.capTrue,send_browser_cookies:function(a){return a&&"browser"===l.mode},send_custom_headers:function(a){return a&&"client"===l.mode},send_multipart:f.capTrue,slice_blob:f.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:f.capTrue,use_http_method:function(b){return"client"===l.mode||!a.arrayDiff(b,["GET","POST"])}},{return_response_headers:function(a){return a?"client":"browser"},return_status_code:function(b){return a.arrayDiff(b,[200,404])?"client":["client","browser"]},send_browser_cookies:function(a){return a?"browser":"client"},send_custom_headers:function(a){return a?"client":"browser"},use_http_method:function(b){return a.arrayDiff(b,["GET","POST"])?"client":["client","browser"]}}),g("2.0.31005.0")&&"Opera"!==b.browser||(this.mode=!1),a.extend(this,{getShim:function(){return c.get(this.uid).content.Moxie},shimExec:function(a,b){var c=[].slice.call(arguments,2);return l.getShim().exec(this.uid,a,b,c)},init:function(){var a;a=this.getShimContainer(),a.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+h.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+b.global_event_dispatcher+'"/></object>',k=setTimeout(function(){l&&!l.initialized&&l.trigger("Error",new d.RuntimeError(d.RuntimeError.NOT_INIT_ERR))},"Windows"!==b.OS?1e4:5e3)},destroy:function(a){return function(){a.call(l),clearTimeout(k),h=k=a=l=null}}(this.destroy)},j)}var i="silverlight",j={};return f.addConstructor(i,h),j}),d(oa,[na,i,ga],function(a,b,c){return a.Blob=b.extend({},c)}),d(pa,[na,z,i],function(a,b,c){function d(a){for(var b="",c=0;c<a.length;c++)b+=(""!==b?"|":"")+a[c].title+" | *."+a[c].extensions.replace(/,/g,";*.");return b}var e={init:function(a){var e=this,f=this.getRuntime();this.bind("Change",function(){var a=f.shimExec.call(e,"FileInput","getFiles");e.files=[],c.each(a,function(a){e.files.push(new b(f.uid,a))})},999),f.shimExec.call(this,"FileInput","init",d(a.accept),a.multiple),this.trigger("ready")},setOption:function(a,b){"accept"==a&&(b=d(b)),this.getRuntime().shimExec.call(this,"FileInput","setOption",a,b)}};return a.FileInput=e}),d(qa,[na,l,m],function(a,b,c){var d={init:function(){var a,d=this,e=d.getRuntime();return a=e.getShimContainer(),c.addEvent(a,"dragover",function(a){a.preventDefault(),a.stopPropagation(),a.dataTransfer.dropEffect="copy"},d.uid),c.addEvent(a,"dragenter",function(a){a.preventDefault();var c=b.get(e.uid).dragEnter(a);c&&a.stopPropagation()},d.uid),c.addEvent(a,"drop",function(a){a.preventDefault();var c=b.get(e.uid).dragDrop(a);c&&a.stopPropagation()},d.uid),e.shimExec.call(this,"FileDrop","init")}};return a.FileDrop=d}),d(ra,[na,i,ia],function(a,b,c){return a.FileReader=b.extend({},c)}),d(sa,[na,i,ja],function(a,b,c){return a.FileReaderSync=b.extend({},c)}),d(ta,[na,i,ka],function(a,b,c){return a.Transporter=b.extend({},c)}),d(ua,[na,i,la,sa,ta],function(a,b,c,d,e){return a.XMLHttpRequest=b.extend({},c)}),d(va,[na,i,v,ma],function(a,b,c,d){return a.Image=b.extend({},d,{getInfo:function(){var a=this.getRuntime(),d=["tiff","exif","gps","thumb"],e={meta:{}},f=a.shimExec.call(this,"Image","getInfo");return f.meta&&(b.each(d,function(a){var b,c,d,g,h=f.meta[a];if(h&&h.keys)for(e.meta[a]={},c=0,d=h.keys.length;c<d;c++)b=h.keys[c],g=h[b],g&&(/^(\d|[1-9]\d+)$/.test(g)?g=parseInt(g,10):/^\d*\.\d+$/.test(g)&&(g=parseFloat(g)),e.meta[a][b]=g)}),!e.meta||!e.meta.thumb||e.meta.thumb.data instanceof c||(e.meta.thumb.data=new c(a.uid,e.meta.thumb.data))),e.width=parseInt(f.width,10),e.height=parseInt(f.height,10),e.size=parseInt(f.size,10),e.type=f.type,e.name=f.name,e},resize:function(a,b,c){this.getRuntime().shimExec.call(this,"Image","resize",a.x,a.y,a.width,a.height,b,c.preserveHeaders,c.resample)}})}),d(wa,[i,o,q,k],function(a,b,c,d){function f(b){var f=this,i=c.capTest,j=c.capTrue;c.call(this,b,g,{access_binary:i(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:i((d.can("create_canvas")||d.can("use_data_uri_over32kb"))&&e("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:i(function(){return!("Chrome"===d.browser&&d.verComp(d.version,28,"<")||"IE"===d.browser&&d.verComp(d.version,10,"<")||"Safari"===d.browser&&d.verComp(d.version,7,"<")||"Firefox"===d.browser&&d.verComp(d.version,37,"<"))}()),resize_image:function(){return h.Image&&f.can("access_binary")&&d.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(b){return!("json"!==b||!window.JSON)||!!~a.inArray(b,["text","document",""])},return_status_code:function(b){return!a.arrayDiff(b,[200,404])},select_file:function(){return d.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return f.can("select_file")},summon_file_dialog:function(){return f.can("select_file")&&("Firefox"===d.browser&&d.verComp(d.version,4,">=")||"Opera"===d.browser&&d.verComp(d.version,12,">=")||"IE"===d.browser&&d.verComp(d.version,10,">=")||!!~a.inArray(d.browser,["Chrome","Safari"]))},upload_filesize:j,use_http_method:function(b){return!a.arrayDiff(b,["GET","POST"])}}),a.extend(this,{init:function(){this.trigger("Init")},destroy:function(a){return function(){a.call(f),a=f=null}}(this.destroy)}),a.extend(this.getShim(),h)}var g="html4",h={};return c.addConstructor(g,f),h}),d(xa,[wa,z,i,l,m,r,k],function(a,b,c,d,e,f,g){function h(){function a(){var f,j,l,m,n,o,p=this,q=p.getRuntime();o=c.guid("uid_"),f=q.getShimContainer(),h&&(l=d.get(h+"_form"),l&&c.extend(l.style,{top:"100%"})),m=document.createElement("form"),m.setAttribute("id",o+"_form"),m.setAttribute("method","post"),m.setAttribute("enctype","multipart/form-data"),m.setAttribute("encoding","multipart/form-data"),c.extend(m.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),n=document.createElement("input"),n.setAttribute("id",o),n.setAttribute("type","file"),n.setAttribute("accept",k.join(",")),c.extend(n.style,{fontSize:"999px",opacity:0}),m.appendChild(n),f.appendChild(m),c.extend(n.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===g.browser&&g.verComp(g.version,10,"<")&&c.extend(n.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),n.onchange=function(){var c;if(this.value){if(this.files){if(c=this.files[0],0===c.size)return void m.parentNode.removeChild(m)}else c={name:this.value};c=new b(q.uid,c),this.onchange=function(){},a.call(p),p.files=[c],n.setAttribute("id",c.uid),m.setAttribute("id",c.uid+"_form"),p.trigger("change"),n=m=null}},q.can("summon_file_dialog")&&(j=d.get(i.browse_button),e.removeEvent(j,"click",p.uid),e.addEvent(j,"click",function(a){n&&!n.disabled&&n.click(),a.preventDefault()},p.uid)),h=o,f=l=j=null}var h,i,j,k=[];c.extend(this,{init:function(b){var c,g=this,h=g.getRuntime();i=b,k=b.accept.mimes||f.extList2mimes(b.accept,h.can("filter_by_extension")),c=h.getShimContainer(),function(){var a,f,k;a=d.get(b.browse_button),j=d.getStyle(a,"z-index")||"auto",h.can("summon_file_dialog")&&("static"===d.getStyle(a,"position")&&(a.style.position="relative"),g.bind("Refresh",function(){f=parseInt(j,10)||1,d.get(i.browse_button).style.zIndex=f,this.getRuntime().getShimContainer().style.zIndex=f-1})),k=h.can("summon_file_dialog")?a:c,e.addEvent(k,"mouseover",function(){g.trigger("mouseenter")},g.uid),e.addEvent(k,"mouseout",function(){g.trigger("mouseleave")},g.uid),e.addEvent(k,"mousedown",function(){g.trigger("mousedown")},g.uid),e.addEvent(d.get(b.container),"mouseup",function(){g.trigger("mouseup")},g.uid),a=null}(),a.call(this),c=null,g.trigger({type:"ready",async:!0})},setOption:function(a,b){var c,e=this.getRuntime();"accept"==a&&(k=b.mimes||f.extList2mimes(b,e.can("filter_by_extension"))),c=d.get(h),c&&c.setAttribute("accept",k.join(","))},disable:function(a){var b;(b=d.get(h))&&(b.disabled=!!a)},destroy:function(){var a=this.getRuntime(),b=a.getShim(),c=a.getShimContainer(),f=i&&d.get(i.container),g=i&&d.get(i.browse_button);f&&e.removeAllEvents(f,this.uid),g&&(e.removeAllEvents(g,this.uid),g.style.zIndex=j),c&&(e.removeAllEvents(c,this.uid),c.innerHTML=""),b.removeInstance(this.uid),h=k=i=c=f=g=b=null}})}return a.FileInput=h}),d(ya,[wa,W],function(a,b){return a.FileReader=b}),d(za,[wa,i,l,n,o,m,v,J],function(a,b,c,d,e,f,g,h){function i(){function a(a){var b,d,e,g,h=this,i=!1;if(k){if(b=k.id.replace(/_iframe$/,""),d=c.get(b+"_form")){for(e=d.getElementsByTagName("input"),g=e.length;g--;)switch(e[g].getAttribute("type")){case"hidden":e[g].parentNode.removeChild(e[g]);break;case"file":i=!0}e=[],i||d.parentNode.removeChild(d),d=null}setTimeout(function(){f.removeEvent(k,"load",h.uid),k.parentNode&&k.parentNode.removeChild(k);var b=h.getRuntime().getShimContainer();b.children.length||b.parentNode.removeChild(b),b=k=null,a()},1)}}var i,j,k;b.extend(this,{send:function(l,m){function n(){var b=t.getShimContainer()||document.body,c=document.createElement("div");c.innerHTML='<iframe id="'+o+'_iframe" name="'+o+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',k=c.firstChild,b.appendChild(k),f.addEvent(k,"load",function(){var b;try{b=k.contentWindow.document||k.contentDocument||window.frames[k.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(b.title)?i=b.title.replace(/^(\d+).*$/,"$1"):(i=200,j=c.trim(b.body.innerHTML),s.trigger({type:"progress",loaded:j.length,total:j.length}),r&&s.trigger({type:"uploadprogress",loaded:r.size||1025,total:r.size||1025}))}catch(c){if(!d.hasSameOrigin(l.url))return void a.call(s,function(){s.trigger("error")});i=404}a.call(s,function(){s.trigger("load")})},s.uid)}var o,p,q,r,s=this,t=s.getRuntime();if(i=j=null,m instanceof h&&m.hasBlob()){if(r=m.getBlob(),o=r.uid,q=c.get(o),p=c.get(o+"_form"),!p)throw new e.DOMException(e.DOMException.NOT_FOUND_ERR)}else o=b.guid("uid_"),p=document.createElement("form"),p.setAttribute("id",o+"_form"),p.setAttribute("method",l.method),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),t.getShimContainer().appendChild(p);p.setAttribute("target",o+"_iframe"),m instanceof h&&m.each(function(a,c){if(a instanceof g)q&&q.setAttribute("name",c);else{var d=document.createElement("input");b.extend(d,{type:"hidden",name:c,value:a}),q?p.insertBefore(d,q):p.appendChild(d)}}),p.setAttribute("action",l.url),n(),p.submit(),s.trigger("loadstart")},getStatus:function(){return i},getResponse:function(a){if("json"===a&&"string"===b.typeOf(j)&&window.JSON)try{return JSON.parse(j.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(a){return null}return j},abort:function(){var b=this;k&&k.contentWindow&&(k.contentWindow.stop?k.contentWindow.stop():k.contentWindow.document.execCommand?k.contentWindow.document.execCommand("Stop"):k.src="about:blank"),a.call(this,function(){b.dispatchEvent("abort")})}})}return a.XMLHttpRequest=i}),d(Aa,[wa,ea],function(a,b){return a.Image=b}),g([i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,z,A,H,J,K,M,N,O,P,Q,R,ca,da])}(this),function(){"user strict";function a(){this.init()}var b=parseInt(Lsmain.config.get("f2e-framework.upload.maximize")/1e6);plupload.addI18n({"Stop Upload":"停止上传","Upload URL might be wrong or doesn't exist.":"上传的URL可能是错误的或不存在。",tb:"tb",Size:"大小",Close:"关闭","You must specify either browse_button or drop_element.":"您必须指定 browse_button 或者 drop_element。","Init error.":"初始化错误。","Add files to the upload queue and click the start button.":"将文件添加到上传队列，然后点击”开始上传“按钮。",List:"列表",Filename:"文件名","%s specified, but cannot be found.":"%s 已指定，但是没有找到。","Image format either wrong or not supported.":"图片格式错误或者不支持。",Status:"状态","HTTP Error.":"上传出现网络异常。","Start Upload":"开始上传","Error: File too large:":"错误: 文件太大:",kb:"kb","Duplicate file error.":"重复文件错误。","File size error.":"文件大小错误。(文件大小不超过"+b+"MB)","N/A":"N/A",gb:"gb","Error: Invalid file extension:":"错误：无效的文件扩展名:","Select files":"选择文件","%s already present in the queue.":"%s 已经在当前队列里。","Resoultion out of boundaries! <b>%s</b> runtime supports images only up to %wx%hpx.":"超限。<b>%s</b> 支持最大 %wx%hpx 的图片。","File: %s":"文件: %s",b:"b","Uploaded %d/%d files":"已上传 %d/%d 个文件","Upload element accepts only %d file(s) at a time. Extra files were stripped.":"每次只接受同时上传 %d 个文件，多余的文件将会被删除。","%d files queued":"%d 个文件加入到队列","File: %s, size: %d, max file size: %d":"文件: %s, 大小: %d, 最大文件大小: %d",Thumbnails:"缩略图","Drag files here.":"把文件拖到这里。","Runtime ran out of available memory.":"运行时已消耗所有可用内存。","File count error.":"文件数量错误。","File extension error.":"文件扩展名错误。",mb:"mb","Add Files":"增加文件"}),window.AjaxUpload={handlers:{},validators:{}};var c=Lsmain,d="/resources/flash/plupload/Moxie.swf",e=(c.config.get("f2e-framework.extensions")||"").replace(/\|/g,","),f=Lsmain.config.get("f2e-framework.upload.maximize");a.prototype.init=function(){this.registerUploads()},a.prototype.registerUploads=function(a){var b=this.bind(this.createUpload);$(document.body).on("mouseenter","[data-upload]",function(){b(this)})},a.prototype.createUpload=function(a){var b=$(a),c=b.data("__uploader"),g=b.data("multiple");if(!c){var h={runtimes:"html5,flash,html4",browse_button:a,url:"/upload/do-upload-ajax",flash_swf_url:d,multi_selection:g,file_data_name:"file",filters:{mime_types:[{title:"图片",extensions:e}],max_file_size:f}};c=new plupload.Uploader(h),c.name=b.data("upload"),b.data("__uploader",c),c.init(),c.bind("FilesAdded",this.bind(this.uploadType)),c.bind("BeforeUpload",this.bind(this.beforeUpload)),c.bind("FileUploaded",this.bind(this.onFileUploaded)),c.bind("UploadComplete",this.bind(this.onFileUploadComplete)),c.bind("Error",this.bind(this.onFileUploadError))}},a.prototype.uploadType=function(a,b){var c=this.getElement(a);return!!this.doValidation(c)&&void(c.data("isuploadoss")?this.onGetAliOssAndUpload(a,b):(a.uploadedFiles=[],a.start()))},a.prototype.doValidation=function(a){var b=a.data("upload"),d=AjaxUpload.validators||{},e=d[b];if(!c.type.isFunction(e))return!0;var f=e(a);return c.string.isNullOrWhiteSpace(f)||c.tip.error(f),null==f},a.prototype.onGetAliOssAndUpload=function(a,b){var c=this,d=this.getElement(a),e=d.data("type")||d.data("uploadType")||"generic";this.getAliOssConfig(e).then(function(d){1==d.status?(a.aliOss=d.data,a.uploadedFiles=[],a.start()):c.onFileUploadError(a,b)})["catch"](this.bind(this.onFileUploadError))},a.prototype.beforeUpload=function(a,b){a.aliOss?this.onInitAliOssUpload(a,b):this.onInitLocalUpload(a,b)},a.prototype.onInitAliOssUpload=function(a,b){var c=a.aliOss,d=(new Date).getTime()+"_"+(1e4*Math.random()).toFixed(0)+"."+b.name.split(".")[1],e={};e.key=c.dir+d,e.policy=c.policy,e.OSSAccessKeyId=c.accessid,e.signature=c.signature,e.success_action_status=201,b.accessUri=c.path+e.key,a.setOption("url","https:"+c.host),a.setOption("multipart_params",e),a.setOption("params",e),preloader.preload(this.getElement(a))},a.prototype.onInitLocalUpload=function(a,b){var c=this.getElement(a),d=c.data("type")||c.data("uploadType")||"generic",e={type:d};a.setOption("file_data_name","upload"),a.setOption("multipart_params",e),a.setOption("params",e),preloader.preload(this.getElement(a))},a.prototype.onFileUploaded=function(a,b,c){var d=a.uploadedFiles,e=c.response||"";a.aliOss?(201==c.status||200==c.status)&&e.indexOf("PostResponse")>-1&&d.push(b.accessUri):("string"==typeof e&&(e=JSON.parse(e)),d.push(e.img_path,e.img_path_native))},a.prototype.onFileUploadComplete=function(a){var b=this.getElement(a),d=b[0],e=b.data("upload"),f=a.getOption("multi_selection"),g=AjaxUpload.handlers[e],h=a.uploadedFiles,i=(a.files,h);f||(i=h[0]),preloader.close(b),h.length>0&&(a.aliOss?c.utils.call(d,g,i,a.files,d):c.utils.call(d,g,i[0],a.files[0].name,d,{img_path:i[0],img_path_native:i[1]}))},a.prototype.onFileUploadError=function(a,b){var d=this.getElement(a);c.type.isString(b)&&(b={message:b}),b=b||{},preloader.close(d),Lsmain.tip.warning(b.message||"上传出现异常!")},a.prototype.getAliOssConfig=function(a){return a=a||"generic",c.api.getRequest("/image/token?category="+a)},a.prototype.getElement=function(a){return $(a.getOption("browse_button")[0])},a.prototype.bind=function(a,b){return c.utils.getCall(this,a,b)},window.GlobalUploadManager=new a}(),function(a){"use strict";function b(){}function c(a){var b=window.onload;window.onload=function(){f.type.isFunction(b)&&b.apply(this,arguments),a.apply(this,arguments)}}function d(b,c,d,e,f){var g=a(d),h=g.data(c);if(null==h&&"string"!=typeof e)e=a.extend({},b.defaults,a.fn[c].defaults,g.data(),e),h=new b(g,e),g.data(c,h);else if(h&&"string"==typeof e)return h.execute(e,f)}function e(){var b=a(document.body);b.find("[data-plugin]").each(function(){var b=a(this).attr("data-plugin"),c=g[b];c&&c.auto&&a(this)[b]()})}window.JsPlugins=new b;var f=Lsmain,g={};b.prototype.register=function(b,e,h,i){if(!b)throw new Error("插件名称 不能为空,必须为字符串");if(g[b])throw new Error("已存在名称为:"+b+"的插件");if("function"!=typeof e)throw new Error("插件构造函数不是函数-->"+b);i=null==i||i,g[b]={auto:i},a.fn[b]=function(a,c,f){var g=[],h=Array.prototype.slice.call(arguments,1,arguments.length);return this.each(function(){g.push(d(e,b,this,a,h))}),g[0]},a.fn[b].defaults=e.defaults,f.browser.ie("9.0")?c(h):a(h)},a(e)}(window.jQuery),function(){function a(a){this.$search=$(a.search),1==a.status?this.$search.before('<div id="head_match"></div>'):this.$search.before('<div id="mask_match"></div>'),this.$resultPanel=$("<div class="+a.panelCls+"></div>"),this.$bestMatch=$('<span id="v" onselectstart="return false" style="z-index: 999;"></span>'),this.$bestMatch.appendTo(a.matchBest),this.$resultPanel.insertAfter(this.$search),this.index=-1,this.search_value="",this.init()}function b(a){return Lsmain.config.urlJoin("f2e-framework.searchUrl",a)}a.prototype={init:function(){var a=this.$search,b=this.$resultPanel,c=this.$bestMatch;c.on("click",function(){a.focus()});var d=this;b.on("click","div",function(){d.setValue(this)}),b.on("mouseover","div",function(){var a=$(this).attr("id");d.autoOnmouseover(a)}),a.bind("input propertychange",function(){d.start(this)}),a.bind("blur",function(){setTimeout(function(){b.addClass("auto_hidden").removeClass("auto_show")},200)}),a.focus(function(){""!=a.val()&&b.addClass("auto_show").removeClass("auto_hidden")}),a.keyup(function(a){d.pressKey(a)}),a.click(function(a){a.stopPropagation(),a.cancelBubble=!0}),b.click(function(a){a.stopPropagation(),a.cancelBubble=!0}),c.click(function(a){a.stopPropagation(),a.cancelBubble=!0}),$(document.body).click(function(){b.addClass("auto_hidden").removeClass("auto_show")})},deleteDIV:function(){0!=this.$resultPanel.children().length&&this.$resultPanel.html(""),this.$resultPanel.addClass("auto_hidden").removeClass("auto_show"),this.$bestMatch.text("")},setValue:function(a){this.$search.val($(a).text()),this.$resultPanel.addClass("auto_hidden").removeClass("auto_show"),this.$bestMatch.text("")},autoOnmouseover:function(a){for(var b=this.$resultPanel.children().length,c=0;c<b;c++)c!=a?this.$resultPanel.find("#"+c).addClass("auto_onmouseout").removeClass("auto_onmouseover"):this.$resultPanel.find("#"+c).addClass("auto_onmouseover").removeClass("auto_onmouseout")},keyAction:function(a){this.index==-1||this.index==a?this.$bestMatch.css("display","block"):this.$bestMatch.css("display","none");for(var b=0;b<a;b++)b!=this.index?this.$resultPanel.find("#"+b).addClass("auto_onmouseout").removeClass("auto_onmouseover"):(this.$resultPanel.find("#"+b).addClass("auto_onmouseover").removeClass("auto_onmouseout"),this.$search.val(this.$resultPanel.find("#"+b).text()))},pressKey:function(a){var b=this.$resultPanel.children().length;40==a.keyCode?(++this.index,this.index>b?this.index=0:this.index==b&&this.$search.val(this.search_value),this.keyAction(b)):38==a.keyCode?(this.index--,this.index<-1?this.index=b-1:this.index==-1&&this.$search.val(this.search_value),this.keyAction(b)):39==a.keyCode?this.index!=-1&&10!=this.index||(this.$search.val(this.$bestMatch.text()),this.$bestMatch.text(""),this.start(this)):27==a.keyCode&&(this.$resultPanel.addClass("auto_hidden").removeClass("auto_show"),this.$search.blur())},start:function(a){this.deleteDIV();var b=this.search_value=this.$search.val();""!=(b||"").replace(/\s/g,"")&&(this.index=-1,this.ajaxFunc(this.search_value))},ajaxFunc:function(a){var c=this;$.ajax({url:b("/search-assist/public/assist?callback=?"),type:"GET",data:{input:a},dataType:"jsonp",callback:"jsonpcallback",success:function(b){if(""==a)c.$resultPanel.addClass("auto_hidden").removeClass("auto_show"),c.$bestMatch.text("");else if(a==b.input){var d=20*a.length+"px";20*a.length<195?(c.$bestMatch.css("marginLeft",d),c.$bestMatch.show(),c.$bestMatch.text(b.autoComplete)):c.$bestMatch.hide();var e=0,f=b.suggestion.length;if(0==f)c.$resultPanel.empty(),c.$resultPanel.addClass("auto_hidden").removeClass("auto_show");else{f=f>10?10:f,c.$resultPanel.empty();for(var g=0;g<f;g++){var h=($(this).parent(),b.suggestion[g]),i=$("<div id="+e+"></div>");i.addClass("auto_onmouseout"),i.html(h),c.$resultPanel.append(i),c.$resultPanel.addClass("auto_show").removeClass("auto_hidden"),e++}}}},error:function(){}})}};new a({search:"#inputMatch",panelCls:"auto_hidden",matchBest:"#head_match",status:"1"}),new a({search:".mask_txt",panelCls:"mask_match auto_hidden ",matchBest:"#mask_match",status:"2"});""!=$(".search_con .txt").val()&&$(".search_con i,.search_con span").hide(),$(".search_con .txt").focus(function(a){$(this).siblings("i,span").hide()}),$(".search_con .txt").blur(function(a){$index=$("#stype").val(),""==$(this).val()&&($(this).siblings("i").show(),$(this).siblings("span").show())}),$(".search_con i,.search_con span").click(function(a){$(this).siblings(".txt").focus()}),$(".search_btn").on("click",function(a){var b=$("#stype").val(),c=["","面料","辅料",""],d=($("#headerSearch").attr("action"),$(this).siblings(".txt"));""==d.val()&&(d.focus(),d.val(c[b]),setTimeout(function(){d.val("")},100)),"3"==$("#stype").val()?$("#headerSearch").attr("action","/search/shop-keyword?"):$("#headerSearch").attr("action","/search/item-keyword?"),$("#headerSearch").submit()}),document.onkeypress=function(a){var a=a||event;13!=a.keyCode&&13!=a.which||(goVal=$(".search_tab li.cur").attr("data-value"),3==goVal?$("#headerSearch").attr("action","/search/shop-keyword?"):$("#headerSearch").attr("action","/search/item-keyword?"))}}(),function(a){"use strict";function b(a,b){this.target=a,this.options=b,this.init()}function c(a,b){var c=a.c,d=b||[];return d.length>0?d.splice(0,1):("-"==c?a.value--:a.value++,a.value)}function d(){var b=a(document.body);b.find("[data-plugin=tags]").tags(),b.on("click.tags","[data-plugin=tags] [data-tag]",f),b.on("click.tags","[data-tag] .tag-delete",g),b.on("mouseenter.tags","[data-plugin=tags] [data-tag]",h),b.on("mouseout.tags","[data-plugin=tags] [data-tag]",i),b.on("click.tags",'[data-tag-event="add"]',e)}function e(b){b.stopPropagation();var c=a(this),d=c.parents("[data-plugin=tags]:eq(0)"),e=d.find("input[data-tag-input]"),f=e.val();d.tags("add",f)?e.val(""):e.focus()}function f(b){b.stopPropagation();var c=a(this),d=c.parents("[data-plugin=tags]:eq(0)");d.tags("toggle",c)}function g(b){b.stopPropagation();var c=a(this).parents("[data-tag]"),d=c.parents("[data-plugin=tags]:eq(0)");d.tags("validateRemove",c)&&d.tags("remove",c)}function h(b){var c=a(this),d=c.parents("[data-plugin=tags]:eq(0)");d.tags("hover",c,b),d.tags("validateRemove",c)&&c.find(".tag-delete").length<1&&c.append('<div class="tag-delete"></div>')}function i(b){var c=a(this),d=b.toElement||b.relatedTarget;j(this,d)||c.find(".tag-delete").remove()}function j(a,b){return a.contains?a.contains(b):a.compareDocumentPosition?20==a.compareDocumentPosition(b):void 0}var k={value:0,c:"+"},l=[],m=["toggle","batchSelect","validateRemove","getMode","insert","order","batchUnSelect","find","select","unSelectAll","selectAll","unSelect","getSelected","getNormalSelected","clear","getData","add","remove","hover","getState","submit"];b.defaults={required:!1,data:null,readonly:!1,single:!1,onSelect:null,onUnSelect:null,onChange:null,onInvalid:null,onRemove:null,onAdd:null,onAddPosition:null,onRemoveValidate:null,onHoverTag:null,onSelectValid:null,dataExtension:null,activeCls:"current",identifier:0,textLength:20,identifierC:"+",addMax:-1,selectMax:-1,text:"text",value:"id",auto:!1,mode:"none",uniqueName:!1,template:'<li class="tag" data-value=""></li>',templateid:"",activeInfoFind:".active-info",activeFind:"",activeInfo:'<span class="active-info"><span class="arrow"></span><span class="char">√</span></span>'},b.prototype.init=function(){var a=this.options,b=a.data;b&&this.createList(),this.uniqueName=a.uniqueName,this.activeCls=this.options.activeCls||"current",this.activeSelector="."+this.activeCls,this.target.attr("data-plugin","tags"),this.insertedRows=[],this.deletedRows=[],a.readonly&&this.target.addClass("readonly")},b.prototype.createList=function(){for(var a,b=this.options,c=[],d=b.text,e=b.value,f=b.data||[],g=0,h=f.length;g<h;g++)a=f[g],c.push(this.createListItem(a[e],a[d],"origin"));this.target.html(c.join("\n"))},b.prototype.createListItem=function(b,c,d){var e=a(this.getTemplate());if(e.length<0)throw new Error("请设置新增标签模板tempalate或者templateid");var f=e.find("[data-tag]");return f.length<1&&(f=e),f.attr("data-tag",c),f.attr("data-value",b),f.attr("data-tag-state",d),f.text(c),e[0].outerHTML},b.prototype.getTemplate=function(){var b=this.options,c=b.template;return void 0!==this.templateidS?c=this.templateidS:b.templateid&&(c=this.templateidS=a(b.templateid).html()),c},b.prototype.nextIdentifier=function(){this.identifierRender();var a=this.identifier;return c(a,this.deletedIdentifiers)},b.prototype.addDeleted=function(a){this.identifierRender(),this.deletedIdentifiers.push(a)},b.prototype.identifierRender=function(){if(null==this.deletedIdentifiers){var a=this.options;null==a.identifier?(this.identifier=k,this.deletedIdentifiers=l):(this.identifier={
value:a.identifier,c:a.identifierC},this.deletedIdentifiers=[])}},b.prototype.createTagRow=function(a,b){var c=this.options,d={};return d[c.value]=a,d[c.text]=b,d},b.prototype.createNormalTagRow=function(a,b){var c={id:a,text:b};return c},b.prototype.add=function(a,b,c){return this.insert(a,b,0,!0,c)},b.prototype.insert=function(b,c,d,e,f){if(!f&&""==(b||"").toString().replace(/\s/g,""))return this.onInvalid("标签名称不能为空","required");if(0!=arguments.length&&this.uniqueName&&this.contains(b,1))return this.onInvalid("已存在同名标签:"+b,"exists");if(2==arguments.length&&this.find(c).length>0)return this.onInvalid("已经存在该标签","exists");if(b.length>this.options.textLength)return this.onInvalid(Lsmain.string.format("不能超过{0}个字符",this.options.textLength));var g=Lsmain.utils.ensureDecimal(this.options.addMax,-1),h=this.getData().length+1;if(g!=-1&&h>g)return this.onInvalid(Lsmain.string.format("最多只能添加{0}项",g),"addMaxRange",g);c=c||this.nextIdentifier();var i=a(this.createListItem(c,b,"add")),j=this.getTagByIndex(d),k=this.getOnAddPosition();if(e&&k&&(j=a(k)),j.length>0?i.insertBefore(j[0]):this.target.append(i),this.onAdd(i[0]),this.options.auto){var l=i.is("[data-tag]")?i:i.find("[data-tag]");this.select(l,!0)}return i},b.prototype.getOnAddPosition=function(){var a=this.options||{};return"function"==typeof a.onAddPosition?a.onAddPosition(this.target):"child"==a.onAddPosition?this.target.children()[0]:void 0},b.prototype.order=function(b,c){if(this.getTagIndex(b)!=-1){var d=a(b),e=this.getTagByIndex(c);e.length>0&&e[0]!=b&&d.insertBefore(e[0])}},b.prototype.getTagByIndex=function(a){return isNaN(a)||a<0?{}:this.target.find("[data-tag]:eq("+a+")")},b.prototype.getTagIndex=function(a){for(var b=-1,c=this.target.find("[data-tag]"),d=0,e=c.length;d<e;d++)if(c[d]==a){b=d;break}return b},b.prototype.onAdd=function(b){var c=this.options.onAdd;c&&c.call(this.target,a(b))},b.prototype.remove=function(b){var c,d,e=this,f=[];if("object"!=typeof b){var g=this.target.find("[data-tag]");g.each(function(){a(this).data().value==b&&f.push(this)})}else{var h=a(b);f=h}for(var i=0,j=f.length;i<j;i++)c=a(f[i]),d=c.data(),"add"==d.tagState&&d.value&&this.addDeleted(d.value),e.onRemove(c),c.remove()},b.prototype.onRemove=function(b){var c=a(b).data();if("add"!=c.tagState){var d=this.createTagRow(c.value,this.tagText(b));this.deletedRows.push(d)}var e=this.options.onRemove;e&&e.call(this.target,a(b),this.getTagData(b))},b.prototype.clear=function(){for(var a=this.target.find("[data-tag]"),b=0,c=a.length;b<c;b++)this.remove(a[b]);this.options.data=null,this.insertedRows=[],this.deletedRows=[]},b.prototype.onChanged=function(a,b){var c=this.options.onChange;c&&c.call(this.target,b,this.getSelected(),a)},b.prototype.contains=function(a,b){return this.find(a,b).length>0},b.prototype.onInvalid=function(a,b,c){var d=this.options,e=d.onInvalid;e&&e.call(this.target,a,b,c)},b.prototype.toggle=function(a){a.is(this.activeSelector)?this.unSelect(a):this.select(a)},b.prototype.select=function(b,c){var d=this.options;if(!d.readonly){var e=d.onSelectValid,f=!0;if("function"==typeof e&&(f=e(b)),f){var g=Lsmain.utils.ensureDecimal(this.options.selectMax,-1),h=this.getSelected().length+1;if(g!=-1&&h>g)return c?void 0:this.onInvalid(Lsmain.string.format("最多只能选择{0}项",g),"selectMaxRange",g);if("object"!=typeof b)this.select(this.find(b));else if(b){b=a(b),d.single&&this.unSelect(this.target.find(this.activeSelector),!0);var i=b;b.addClass(this.activeCls),d.activeFind&&(i=b.find(d.activeFind)),i.append(d.activeInfo),d.onSelect&&d.onSelect.call(this.target,b),this.onChanged(b,!0)}}}},b.prototype.batchSelect=function(a,b){b=b||"value",a=a||[];for(var c=0,d=a.length;c<d;c++)this.select(a[c][b])},b.prototype.unSelect=function(b,c){var d=this.options;if(!d.single||c)if("object"!=typeof b)this.unSelect(this.find(b));else if(b){if(b=a(b),b.is("[data-disabled=true]"))return;b.removeClass(this.activeCls),b.find(this.options.activeInfoFind).remove(),d.onUnSelect&&d.onUnSelect.call(this.target,b),c||this.onChanged(b,!1)}},b.prototype.unSelectAll=function(){var a=this.target.find("[data-tag]"),b=this;a.each(function(){b.unSelect(this)})},b.prototype.batchUnSelect=function(a,b){b=b||"id",a=a||[];for(var c=0,d=a.length;c<d;c++)this.unSelect(a[c][b])},b.prototype.getSelected=function(){var a=this,b=this.target.find(this.activeSelector),c=[];return b.each(function(){c.push(a.getTagData(this))}),c},b.prototype.getNormalSelected=function(){var a=this,b=this.target.find(this.activeSelector),c=[];return b.each(function(){c.push(a.getTagData(this,!0))}),c},b.prototype.getState=function(){var a={};return a.inserted=this.getInserteds(),a.selected=this.getSelected(),a.deleted=this.deletedRows||[],a},b.prototype.getData=function(){var a=this.target.find("[data-tag]"),b=[],c=this;return a.each(function(){b.push(c.getTagData(this))}),b},b.prototype.submit=function(){this.originIdentifier=this.identifier;var b=this.target.find("[data-tag]");b.each(function(){a(this).data("tagState","origin")})},b.prototype.getInserteds=function(){var b=this.target.find("[data-tag]"),c=[],d=this;return b.each(function(){var b=a(this),e=b.data();"add"==e.tagState&&c.push(d.getTagData(this))}),c},b.prototype.getTagData=function(b,c){var d=this.tagText(b),e=a(b),f=e.is("[data-value]")?e:e.find("[data-value]"),g=f.data()||{},h=null==g.value||""==g.value.toString().replace(/\s/g,"")?d:g.value,i=null,j=this.options.dataExtension;return d=(d||"").toString().replace(/(\n|\t|\s)/g,""),i=c?this.createNormalTagRow(h,d):this.createTagRow(h,d),"function"==typeof j&&j(e,i),i},b.prototype.find=function(b,c){var d=this,e=this.target.find("[data-tag]").filter(function(){var e=1==c?d.tagText(this)==b:(a(this).data()||{}).value==b;return e});return e},b.prototype.getMode=function(){return this.options.mode},b.prototype.validateRemove=function(b){var c,d=this.getMode(),e=!0;switch(b=a(b),d){case"edit":break;case"keep":c=b.data(),e=c&&"add"==c.tagState;break;default:e=!1}if(e){var f=this.options.onRemoveValidate;"function"==typeof f&&(e=f(this.getTagData(b)))}return e},b.prototype.tagText=function(a){var b,c=a.childNodes,d=[];if(c)for(var e=0,f=c.length;e<f;e++)b=c[e],3==b.nodeType&&d.push(b.data);return d.join("")},b.prototype.hover=function(a,b){var c=this.options.onHoverTag;"function"==typeof c&&c.call(this.target,a,b)},b.prototype.execute=function(a,b){for(var c=!1,d=0,e=m.length;d<e;d++)if(m[d]==a){c=!0;break}if(c){var f=this[a];return f.apply(this,b)}console.log("tags插件不存在方法:"+a)},JsPlugins.register("tags",b,d),a.fn.tags.setGlobal=function(a,b){k.c=b,k.value=a},a.fn.tags.nextIdentifier=function(){return c(k,l)}}(window.jQuery),function(){function a(){var a,d,e,f,g,h=$(".widgetPwd");b(h),h.on("keyup blur click",function(b){d=$.trim($(this).val()),f=$(this).next(".verifyDiv"),e=f.children(".warnLine"),g=f.next(".warnMsgDiv").children("p"),"keyup"!=b.type&&"blur"!=b.type||(d.length<1?f.css("display","none"):(f.css("display","inLine-block"),/^[A-Za-z]*$/.test(d)||/^[0-9]*$/.test(d)||/^[^a-zA-Z0-9]+$/.test(d)||$.trim(d).length<6?(e.children().removeClass().slice(0,1).addClass("weak").parent().next("span").removeClass().addClass("weakP").html("弱"),g.html("请使用不少于6位的字母、数字或符号组合"),c(this,!1)):/(?!^[0-9]+$)(?!^[a-zA-Z]+$)(?!^[^a-zA-Z0-9]+$)^.{6,}$/.test(d)&&$.trim(d).length>=6&&(e.children().removeClass().slice(0,2).addClass("medium").parent().next("span").removeClass().addClass("mediumP").html("中"),g.html("三种组合以上可以提高强度"),c(this,!0)),/(?=^.{10,}$)(?=.*\d)(?=.*[^a-zA-Z0-9]+)(?=.*[A-Z])(?=.*[a-z])(?!.*\n).*$/.test(d)&&$.trim(d).length>9&&(e.children().removeClass().slice(0,3).addClass("high").parent().next("span").removeClass().addClass("highP").html("强"),g.html(""),c(this,!0)))),"blur"==b.type&&(a=!0,d.length<1&&(g.html("密码不允许为空"),a=!1),(/^[A-Za-z]*$/.test(d)||/^[0-9]*$/.test(d)||/^[^a-zA-Z0-9]+$/.test(d)||$.trim(d).length<6)&&(e.children().removeClass().slice(0,1).addClass("weak").parent().next("span").removeClass().addClass("weakP").html("弱"),g.html("请使用不少于6位的字母、数字或符号组合"),c(this,!1),a=!1),(d.length<6||d.length>20)&&(g.html("密码应为6-20位字符"),a=!1),a?c(this,!0):c(this,!1)),"click"==b.type&&(g.html(""),c(this,!0))})}var b=function(a){a.length>0&&$.each(a,function(a,b){$(b).after('<div class="verifyDiv"><div class="warnLine"><div></div><div></div><div></div></div><span>弱</span></div><div class="warnMsgDiv"><p></p></div>')})},c=function(a,b){1==b?$(a).css("border-color","#dcdcdc").attr("checkRlt","true"):$(a).css("border-color","red").attr("checkRlt","false")},d=window.onload;window.onload=function(){"function"==typeof d&&d(),a()}}(),function(a){function b(a){var c=this.doAssign({},b.defaults,a);this.options=b[c.v],this.lionVersion=c.lionVersion,this.emitter=new f}function c(a){this.init(a)}function d(a){return function(){var b=a();if(b)return b.data}}var e=Lsmain,f=e.EventEmitterClass;e.utils;window.CaptchClient=b,b.defaults={v:"v2"},b.v2={isCaptchaShowUrl:"/captcha/v2/isCaptchaShow",getCaptchaUrl:"/captcha/v2/getCaptcha",checkCaptchaUrl:"/captcha/v2/checkCaptcha"},b.v3={isCaptchaShowUrl:"/captcha/v2/isCaptchaShow",getCaptchaUrl:"/captcha/v3/get-captcha",checkCaptchaUrl:"/captcha/v3/check-captcha"},b.events={showCaptch:!0,doCheckCaptch:!0,handle:!0,complete:!0},b.prototype.doCaptch=function(){return"v0"===this.lionVersion?this.initCaptcch().complete(this.doCall(this.getCaptchUrl)):this.initCaptcch().complete(this.doCall(this.getCaptchUrl)).complete(this.doCall(this.showCaptch)).complete(this.doCall(this.checkCaptch)).complete(this.doCall(this.doCaptchHandle))},b.prototype.initCaptcch=function(){return e.api.postRequest(this.options.isCaptchaShowUrl)},b.prototype.getCaptchUrl=function(a){return 1!=a.status?a:a.data.isShow?e.api.postRequest(this.options.getCaptchaUrl):this.doCaptchHandle(a)},b.prototype.showCaptch=function(a){return this.emitter.emit("showCaptch",a),this.emitter.emit("doCheckCaptch",a)},b.prototype.checkCaptch=function(a){return a.ignoreCheck||a.cancel?a:e.api.postRequest(this.options.checkCaptchaUrl,{data:a})},b.prototype.doCaptchHandle=function(a){return 1==a.status?this.emitter.emit("handle",a):a},b.prototype.refresh=function(){return this.getCaptchUrl({status:1,data:{isShow:!0}}).complete(this.doCall(function(a){return this.emitter.emit("showCaptch",a)}))},b.prototype.doCall=function(a,b){var c=this;return function(d,e){return e=d||e,d?d:a.call(c,e,b)}},b.prototype.on=function(a,c){b.events[a]&&this.emitter.on(a,c)},b.prototype.doAssign=function(a,b,c){for(var d=e.utils,f=Array.prototype.slice.call(arguments,1,arguments.length),g=0,h=f.length;g<h;g++)d.override(a,f[g]);return a},c.defaults={v:"v2",showMessage:function(a){Lsmain.tip.warning(a)},sendUrl:"/user/do-send-message-ajax",callback:null,getHandler:null,total:45,inCls:"sending",outCls:""},c.prototype.init=function(a){a=this.options=this.initOptions(a),this.$target=$(a.target),this.sending=!1,this.emitter=new e.EventEmitterClass,this.captchClient=new b(a),this.resolve=null,this.reject=null,this.captchClient.on("showCaptch",this.doCall(this.showCaptch)),this.captchClient.on("doCheckCaptch",this.doCall(this.doCheckCaptch)),this.captchClient.on("handle",this.doCall(this.doSms))},c.prototype.initOptions=function(a){var d=(new Lsmain.F2eConfigration).configurationData,e="v0"===d["f2e-framework.captcha.type"]?"v2":d["f2e-framework.captcha.type"];return a=b.prototype.doAssign({},c.defaults,a,{v:e}),a.capOption={v:a.v||"v2"},a.lionVersion=a.lionVersion?a.lionVersion:d["f2e-framework.captcha.type"],a},c.prototype.send=function(){this.initSend().success(this.doCall(function(a){this.context=this.options,this.context.submitJson=a;var b=this.context.submitJson;return e.string.isNullOrWhiteSpace(b.mobiles)?this.doComplete({status:-1,message:"请先输入手机号码"}):(this.initContext(),void this.captchClient.doCaptch().complete(this.doCall(this.doSmsComlete)))}))},c.prototype.initSend=function(){return new e.Promise(e.utils.getCall(this,function(a,b){if(this.sending)b("无法发送短信");else{var c=this.options.getHandler,d=e.type.isFunction(c)?c.apply(this.$target[0]):c;d&&"function"==typeof d.then?d.complete(this.transPromise(a,b)):d!==!1&&void 0!==d?a((d||{}).data):b("无法发送短信")}}))},c.prototype.transPromise=function(a,b){return function(c,d){c?b(c):a(d.data?d.data:d)}},c.prototype.initContext=function(){var a=this.$target,b=this.context;this.sending=!0,b.origin=this.html(),b.format=a.data("format")||"{0}后重新发送",b.total=this.options.total,b.outCss=b.outCls||"sms-sended",b.inCss=b.inCls||"sending"},c.prototype.showCaptch=function(a){this.signature=a.data.signature;var b=this.options.capOption.v;switch(b){case"v3":return this.showV3Captch(a);default:return this.showV2Captch(a)}},c.prototype.doCheckCaptch=function(a){var b=this.options.capOption.v,c=null;switch(b){case"v3":c=this.doCall(this.doV3CheckCaptch);break;default:c=this.doCall(this.doV2CheckCaptch)}return new e.Promise(this.doCall(function(b,d){this.doCaptchResolve=b,this.doCaptchReject=d,c(a)}))},c.prototype.doSms=function(a){var b=this.context,c=this.context.submitJson||{},d=(b.callback,b.formatter);return c.uuid=a.data.uuid,c=d?d(c):{data:c},this.needRevert=!0,this.html("请稍后..."),e.api.postRequest(this.options.sendUrl,c)},c.prototype.doSmsComlete=function(a){if(1==a.status||200==a.code){var b=this.options.callback;return b&&b(a),this.showMessage(a.message),this.doComplete(a),this.doCount(a).complete(this.doCall(this.doCountComplete))}this.doComplete(a,!0)},c.prototype.showV2Captch=function(a){if(this.$modal)this.$modal.find(".verifyimg").attr("src","data:image/png;base64,"+a.data.img);else{var b=["<p>请输入如下验证码:</p>",'<div class="validatecode_error" style="display:none"></div>','<div class="validatecode"><img class="verifyimg" src="data:image/png;base64,'+a.data.img+'"/></div>'],c=this.modal=messager.prompt(b.join("\n"),"发送校验",function(){return!1});this.$modal=c.container,this.$modal.find(".ui-button-default").addClass("btn-check")}},c.prototype.showV3Captch=function(a){var b=['<div class="sms-v3-modal">','<div class="css3-loading">','   <div class="l-one"></div>','   <div class="l-two"></div>','   <div class="l-three"></div>','   <div class="l-four"></div>',"</div>",'<div class="inner-modal">',"</div>","</div>"],c=this.$modal=$(b.join("\n")),d=$(".showV3CaptchBox");d.length>0?c.appendTo(d):c.appendTo(document.body)},c.prototype.doV2CheckCaptch=function(a){var b=this.$modal,c=(a.data.signature,this.doCall(function(){var a=b.find(".messager-prompt").val();return""==a.replace(/\s/g,"")?b.find(".validatecode_error").show().html("请填写验证码"):(b.find(".validatecode_error").hide(),void this.captchClient.checkCaptch({signature:this.signature,vcode:a}).complete(this.doCall(function(a){1==a.status?this.yesCaptch(a,!0):(this.refresh(),b.find(".validatecode_error").show().html("验证码错误"))})))}));b.find(".icon-close,.ls-modal-close").click(this.doCall(this.cancelCaptch)),b.find(".verifyimg,.refresh").click(this.doCall(this.refresh)),b.find(".btn-check").click(c),b.find(".messager-prompt").keyup(function(a){13==a.keyCode&&c()})},c.prototype.doV3CheckCaptch=function(a){var b={showHeader:!1,themeColor:"ff572d",type:"embed",callback:this.doCall(function(a){0==a.ret?this.yesCaptch({signature:this.signature,ticket:a.ticket}):this.cancelCaptch()})};Angel.using(a.data.captchaUrl,this.doCall(function(){capInit(this.$modal.find(".inner-modal")[0],b),b=null}))},c.prototype.html=function(a){var b=this.$target,c=b.is("input")?"val":"html",d=b[c];return d.apply(b,arguments)},c.prototype.yesCaptch=function(a,b){return this.closeCaptch(),a.ignoreCheck=b,this.doCaptchResolve(a)},c.prototype.cancelCaptch=function(){return this.closeCaptch(),this.sending=!1,this.doCaptchResolve({cancel:!0,status:-1,message:"取消操作"})},c.prototype.closeCaptch=function(){this.$modal&&this.$modal.remove(),this.modal&&this.modal.close(),this.$modal=this.modal=null},c.prototype.error=function(a){return this.doCaptchReject(a)},c.prototype.refresh=function(){return this.captchClient.refresh()},c.prototype.doCall=function(a,b){var c=this;return function(d,e){return e=d||e,a.call(c,e,b)}},c.prototype.doCount=function(){var a=this,b=this.context,c=b.total,d=b.format,f=e.string,g=e.Timer.counter(c);return this.$target.removeClass(b.outCls).addClass(b.inCls),new e.Promise(function(b,c){g.iterator(function(b){a.html(f.format(d,b))}).complete(function(){b({status:1,message:"倒计时完毕"})}).start()})},c.prototype.doComplete=function(a,b){a=a||{status:-1,message:"系统异常"};var c=1!=a.status?a:null;a.cancel||(1!=a.status&&this.showMessage(a.message||"系统异常,请稍后再试!"),this.emitter.emit("complete",c,a),b&&this.doCountComplete())},c.prototype.doCountComplete=function(){this.revertStyle(),this.sending=!1},c.prototype.showMessage=function(a){a&&this.options.showMessage&&this.options.showMessage(a)},c.prototype.revertStyle=function(){var a=this.context;this.needRevert&&(this.html(this.context.origin),this.$target.removeClass(a.inCls).addClass(a.outCls))},c.prototype.on=function(a,b){return this.emitter.on(a,b)},c.prototype.complete=function(a){this.on("complete",a)};var g={send:!0,complete:!0,on:!0};$.fn.sms=function(a,b){var b=Array.prototype.slice.call(arguments,1,arguments.length);return this.each(function(){var e=$(this),f=e.data("sms");if(f){if(g[a]){var h=f[a];h.apply(f,b)}}else{if("function"==typeof a){var h=a;a=h(),a.getHandler=d(h)}a=$.extend({},e.data(),a),a.target=this,f=new c(a),e.data("sms",f),e.addClass("sms-event-click")}}),this},$(document).on("click.sms-event-click",".sms-event-click",function(){$(this).sms("send")})}(window),function(){function a(){this.init()}var b=Lsmain;a.prototype.init=function(){var a=b.config.get("f2e-framework.cnavSwitch","false");this.enable="true"==a,this.enable&&(this.initParams(),this.initClear(),this.initOpen())},a.prototype.initParams=function(){var a=$("#cerfitica"),c=new b.UrlParserClass(document.referrer);this.status=a.val(),this.cnavList=new b.List(b.config.get("f2e-framework.cnavList","none").split(",")),this.cookieParser=new b.CookieParser(document),this.isFirstLogin="/user/login"==c.pathname&&"0"!=this.cookieParser.firstLogin,this.cookieParser.token||this.cookieParser.removeCookie("firstLogin","/"),this.cookiePrefix=a.data("name"),$(document.body).on("click.certification",".bomb-close",b.utils.getCall(this,this.closeBombox))},a.prototype.initOpen=function(){var a=$("#cerfiticationNav"),c=location.pathname,d=this.getSharedList();this.cookieName=this.doCookieName(d.contains(c)?"homeDoKeep":"doKeep"),this.timeout=b.utils.ensureDecimal(a.data("timeout"),b.config.get("f2e-framework.cftimeout")),this.$modal=a.find(".bomb-mask"),a.data("open")&&this.open(),this.$modal.on("click.certification",".bomb-close",b.utils.getCall(this,this.close))},a.prototype.initClear=function(){var a="__ov",c=b.config.get("f2e-framework.clientVersion"),d=this.cookieParser[a];c!=d&&(this.cookieParser.setCookie(a,c),this.cookieParser.removeCookie(this.cookieName,this.cookiePath()),this.cookieParser.removeCookie(this.doCookieName("loginKeep"),"/"))},a.prototype.getSharedList=function(){var a=new b.List(["/"]);return 3==this.status&&a.add("/shop/shop-info"),a},a.prototype.open=function(a){(a||this.needOpen())&&(this.$modal.fadeIn(300),this.save())},a.prototype.onlyOpen=function(a){return this.closeRefresh=a,!(!this.enable||this.isDoKeep())&&(this.$modal.fadeIn(300),this.save(),!0)},a.prototype.closeBombox=function(a){var b=$(a.target||a.srcElement);b.closest(".bomb-mask").fadeOut(100)},a.prototype.close=function(){this.$modal.fadeOut(100),this.closeRefresh&&location.reload(!0)},a.prototype.save=function(){if(this.timeout>0){var a=new Date,c=b.date.addMilliseconds(a,this.timeout);this.saveLogin(),this.cookieParser.setCookie(this.cookieName,1,c,this.cookiePath())}else{var a=new Date;this.saveLogin(),this.cookieParser.setCookie(this.cookieName,1,c,this.cookiePath())}},a.prototype.cookiePath=function(){var a=location.pathname;return b.string.startsWith(a,"/demand")?"/demand":a},a.prototype.doCookieName=function(a){return[this.cookiePrefix,a].join("_")},a.prototype.saveLogin=function(){if(this.isFirstLogin)if(this.timeout>0){var a=new Date,c=b.date.addMilliseconds(a,this.timeout);this.cookieParser.setCookie(this.doCookieName("loginKeep"),1,c,"/")}else{var a=new Date;this.cookieParser.setCookie(this.doCookieName("loginKeep"),1,c,"/")}},a.prototype.needOpen=function(){var a=$("meta[name='rbiPageId']").attr("content");if(this.isFirstLogin){var c=new Date,d=b.date.addDays(c,1);return this.cookieParser.setCookie("firstLogin",0,d,"/"),this.timeout==-1||"1"!=this.cookieParser[this.doCookieName("loginKeep")]}if(a)return this.cnavList.contains(a)&&!this.isDoKeep()},a.prototype.isDoKeep=function(){return this.timeout!=-1&&1==this.cookieParser[this.cookieName]};window.CertificationNav=new a}(),function(a,b){function c(){}function d(){this.animationDiv=null,this.timer=null,this.b=null,this.begin=null,this.end=null,this.settings={startEle:[0,0],offset:[0,0],targetEle:null,time:500,curvature:.005,callback:null,autostart:!1}}function e(a){$("#shoppingCartNum span").text(a);var b=$('<div class="addnumber">+1</div>');b.appendTo($("#shoppingCartNum i")),b.stop().animate({top:"30px",opacity:"0"},600,function(){b.remove()})}c.prototype.ajaxAddCart=function(a,b){var c=Lsmain;return c.api.postRequest("/pay/cart/add",a).complete(c.utils.getCall(this,this.ajaxAddCartComplete,b))},c.prototype.ajaxAddCartComplete=function(a,b,c){return b=a||b,1==b.code?(new d).doAnimate(b,c):997==b.code?location.href="/user/login":996==b.code?location.href="/user/login?jumpTo="+b.jumpTo:Lsmain.tip.error(b.message),b},d.prototype.constructor=d,d.prototype.init=function(a){$.extend(this.settings,a),this.createDiv(),this.setData(),this.settings.autostart&&this.start()},d.prototype.createDiv=function(){this.originalLeft=this.settings.startEle[0],this.originalTop=this.settings.startEle[1],this.animationDiv=document.createElement("div"),this.animationDiv.id="shopCartIcon",this.animationDiv.style.left=this.originalLeft+"px",this.animationDiv.style.top=this.originalTop+"px",document.body.appendChild(this.animationDiv)},d.prototype.setData=function(){this.settings.targetEle?(this.eleOffsetLeft=parseInt($(this.settings.targetEle).offset().left)-this.originalLeft,this.eleOffsetTop=parseInt($(this.settings.targetEle).offset().top)-this.originalTop):(this.eleOffsetLeft=this.settings.offset[0],this.eleOffsetTop=this.settings.offset[1]),this.b=(this.eleOffsetTop+this.settings.curvature*this.eleOffsetLeft*this.eleOffsetLeft)/this.eleOffsetLeft,this.start()},d.prototype.start=function(){var a=this;this.begin=+new Date,this.end=this.begin+this.settings.time,0===this.eleOffsetLeft&&0===this.eleOffsetTop||(this.timer=setInterval(function(){var b=+new Date;a.step(b)},13))},d.prototype.step=function(a){var b,c;a>this.end?(b=this.eleOffsetLeft,c=this.eleOffsetTop,this.move(b,c),this.stop(),"function"==typeof this.settings.callback&&this.settings.callback.call(this)):(b=this.eleOffsetLeft*((a-this.begin)/this.settings.time),c=-this.settings.curvature*b*b+this.b*b,this.move(b,c))},d.prototype.move=function(a,b){this.animationDiv.style.left=this.originalLeft+a+"px",this.animationDiv.style.top=this.originalTop+b+"px"},d.prototype.stop=function(){this.timer&&(clearInterval(this.timer),this.destroy())},d.prototype.destroy=function(){document.body.removeChild(this.animationDiv)},d.prototype.doAnimate=function(a,b){b?this.init({startEle:[b.left+60,b.top+30],targetEle:"#shoppingCartNum i",time:1e3,curvature:b.curvature||.01,callback:function(){e(a.data.cartSize)}}):window.location.href="/pay/cart/list"},a.ShoppingCart=c}(window);
//# sourceMappingURL=site.min.js.map 
}catch(ex){ (window.console && console.error(ex));(window.BJ_REPORT && BJ_REPORT.report(ex)) }